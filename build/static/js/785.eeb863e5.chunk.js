"use strict";(self.webpackChunktraceability=self.webpackChunktraceability||[]).push([[785],{7692:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ui});var n=a(4109),i=a(2314),s=a(7642),l=a(5865),o=a(7392),r=a(5263),c=a(378),d=a(2143),u=a(2050),h=a(8734),m=a(6446),p=a(5721),x=a(1322),A=a(5043),v=a(9336),w=a(3003),y=a(9237),j=a(9193),g=a(5084),f=a(8635),S=a(9906),C=a(7402),b=a(6710),N=a(5374),E=a(5415),k=a(5459),I=a(5903),T=a(3216),D=a(1036),_=a(1806),R=a(3460),P=a(9652),U=a(7502),O=a(9650),L=a(4882),z=a(8076),H=a(207),M=a(9090),Q=a(7423),Y=a(8057),F=a(8426),G=a(6467),B=a(579);const W=e=>{let{rows:t=[],columns:a=[],minWidth:n=650,tableClasses:i="",titleCellClasses:l="",rowClassesMethod:o=(()=>{}),rowClasses:r="",rowCellClasses:c="",rowsPerPage:d=10,paginator:u=!1,loading:h,dense:m,hideBorder:p=!1,onRowClick:x=Function.prototype,serialize:A=!1,page:v=0,setPage:w=Function.prototype,total:y}=e;return(0,B.jsx)(O.A,{children:(0,B.jsxs)(_.A,{sx:{minWidth:n},className:"".concat(i),size:m&&"small",children:[(0,B.jsx)(L.A,{sx:{backgroundColor:G.lm.BG_GRAY},children:(0,B.jsxs)(z.A,{children:[A&&(0,B.jsx)(P.A,{className:"".concat(l," text-nowrap h3"),sx:{color:"black"},children:"S No."}),a.map(((e,t)=>(0,B.jsx)(P.A,{style:{width:e.width&&e.width,color:"black"},className:"".concat(l," text-nowrap"),children:e.title},t)))]})}),(0,B.jsx)(s.A,{sx:{p:.3}}),(0,B.jsx)(R.A,{children:h?(0,B.jsx)(z.A,{children:(0,B.jsx)(P.A,{colSpan:12,className:"flex h-300 text-center",children:(0,B.jsx)(Q.A,{big:!0,blue:!0})})}):t&&t.length?t.map(((e,t)=>(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(z.A,{sx:{backgroundColor:G.lm.LG_GRAY,["& .".concat(U.A.root)]:{borderBottom:p?"none":"true",mt:10},...o(t,e)},className:"".concat(r),onClick:()=>x(e.id),children:[A&&(0,B.jsx)(P.A,{sx:{color:"black"},className:"".concat(c," fw-500 "),align:"left",children:t+1}),a.map(((t,a)=>(0,B.jsx)(P.A,{sx:{width:t.width&&t.width,color:"black"},className:"".concat(c," fw-500"),align:"left",children:t.render(e)},a)))]},t),(0,B.jsx)(s.A,{sx:{p:.3}})]}))):(0,B.jsx)(z.A,{children:(0,B.jsxs)(P.A,{colSpan:12,className:"text-center h-300 flex items-center opacity-60 w-full",children:[(0,B.jsx)("img",{src:Y,alt:"leaf",height:100,className:"w-full object-contain"}),(0,B.jsx)("p",{className:"text-center",children:"No Records found!"})]})})}),u&&(0,B.jsx)(H.A,{children:(0,B.jsx)(z.A,{children:(0,B.jsx)(M.A,{rowsPerPageOptions:[],count:y||t.length,rowsPerPage:d,onPageChange:(e,t)=>w(t),page:v})})})]})})};var q=a(1136),V=a(3549),J=a(2359),X=a(2670);const Z=()=>{const{token:e}=(0,w.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":V.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new V.Ay,n=await a.get("".concat(J.H.TENANTS,"/?page=").concat(e),{},t,q.So);var i,s;return null!==n&&void 0!==n&&n.data?[null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.results,null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.count]:[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new V.Ay,n=await a.post("".concat(J.H.TENANTS,"/"),e,t,(e=>(0,q.So)(e,null,"Tenant created successfully!")));return null===n||void 0===n?void 0:n.data},remove:async e=>{if(!e)return;const a=new V.Ay,n=await a.delete("".concat(J.H.TENANT,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Tenant deleted successfully!")));return null===n||void 0===n?void 0:n.data}}};var K=a(949),$=a(7810);const ee=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,loading:o}=e;return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"CREATE NEW TENANT"}),(0,B.jsx)(F.A,{title:"Tenant name",placeholder:"Enter tenant name",width:"99%",name:"name",onChange:i,value:n.name}),(0,B.jsx)(F.A,{title:"Secret Key",placeholder:"Enter secret key",width:"99%",name:"secret_key",onChange:i,value:n.secret_key}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:l,loading:o,children:"Create"})]})]})};var te=a(3768),ae=a(3159);const ne=()=>{const e=(0,T.Zp)(),[t,a]=(0,A.useState)([]),[n,i]=(0,A.useState)(),[r,c]=(0,A.useState)(0),[d,u]=(0,A.useState)(!1),[h,m]=(0,A.useState)(0),[p,x]=(0,A.useState)({name:"",secret_key:""}),{list:v,create:w,remove:y}=Z();(0,A.useEffect)((()=>{j()}),[h]);const j=async()=>{i("fetch");const[e,t]=await v(h+1);a(e),c(t),i(!1)},g=[{id:2,title:"ID",render:e=>e.id},{id:3,title:"Tenant Name",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/tenant-Users",{state:t.id}),children:t.name})},{id:4,title:"Secret Code",render:e=>e.secret_key},{id:5,title:"Actions",render:e=>(0,B.jsxs)(s.A,{flexDirection:"row",children:[(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>(async e=>{i("fetch"),await y(e),await j(),i(!1)})(null===e||void 0===e?void 0:e.id),children:(0,B.jsx)(te.A,{color:"error",fontSize:"small"})}),(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{u("edit"),x(e)},children:(0,B.jsx)(ae.A,{color:"primary",fontSize:"small"})})]})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("h1",{className:"mt-4",children:["Tenants",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",r,")"]})]}),(0,B.jsx)(K.A,{onClick:()=>u(!0),children:"Create Tenant"})]}),(0,B.jsx)(W,{columns:g,rows:t,rowsPerPage:5,loading:"fetch"===n,titleCellClasses:"c-gray fw-700",page:h,setPage:m,paginator:!0,serialize:!0,total:r}),(0,B.jsx)(ee,{open:d,onClose:()=>u(!1),data:p,setData:e=>x((t=>({...t,[e.target.name]:e.target.value}))),onSubmit:async()=>{let e;if(null!==p&&void 0!==p&&p.name||(e="Please enter the tenant name!"),null!==p&&void 0!==p&&p.secret_key||(e="Please enter the secret key!"),e)return void D.oR.error(e);i("add");const t=await w(p);null!==t&&void 0!==t&&t.id&&(x({}),u(!1),j()),i(!1)},loading:"add"===n})]})},ie=()=>{const{token:e}=(0,w.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":V.yw.APPLICATION_JSON};return{list:async function(){const e=new V.Ay,a=await e.get("".concat(J.H.USERS,"/"),{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new V.Ay,n=await a.post("".concat(J.H.USERS,"/"),e,t,(e=>(0,q.So)(e,null,"User created successfully!")));return null===n||void 0===n?void 0:n.data},userProfile:async e=>{const a=new V.Ay,n=await a.get("".concat(J.H.USER,"-").concat(J.H.PROFILE,"/").concat(e,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?null===n||void 0===n?void 0:n.data:[[],0]},updateProfile:async(e,a)=>{const n=new V.Ay,i=await n.put("".concat(J.H.USER,"-").concat(J.H.PROFILE,"/").concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"User Updated successfully!")));return null===i||void 0===i?void 0:i.data},update:async(e,a)=>{const n=new V.Ay,i=await n.put("".concat(J.H.USER,"/").concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"User Updated successfully!")));return null===i||void 0===i?void 0:i.data},remove:async e=>{if(!e)return;const a=new V.Ay,n=await a.delete("".concat(J.H.USER,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"User deleted successfully!")));return null===n||void 0===n?void 0:n.data},opratorList:async function(){var e;const a=new V.Ay,n=await a.get("".concat(J.H.OPERATORS,"/"),{},t,q.So);return(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.results.length)>0?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data.results,n.data.count]):[[],0]},createOperator:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new V.Ay,n=await a.post("".concat(J.H.OPERATORS,"/"),e,t,(e=>(0,q.So)(e,null,"User created successfully!")));return null===n||void 0===n?void 0:n.data},updateOperator:async(e,a)=>{const n=new V.Ay,i=await n.put("".concat(J.H.OPERATOR,"/").concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"Operator Updated successfully!")));return null===i||void 0===i?void 0:i.data},removeOperator:async e=>{if(!e)return;const a=new V.Ay,n=await a.delete("".concat(J.H.OPERATOR,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Operator deleted successfully!")));return null===n||void 0===n?void 0:n.data},listByUserName:async e=>{const a={username:e},n=new V.Ay,i=await n.post("search-by-username/",a,t,(e=>(0,q.So)(e,null)));return null!==i&&void 0!==i&&i.data?null===i||void 0===i?void 0:i.data:[[]]},listByAadhar:async e=>{const a={aadhar_number:e},n=new V.Ay,i=await n.post("search-by-aadhar/",a,t,(e=>(0,q.So)(e,null)));return null!==i&&void 0!==i&&i.data?null===i||void 0===i?void 0:i.data:[[]]},listByAadhar2:async e=>{const a=new V.Ay,n=await a.get("".concat(J.H.USERS,"/"),{},t,q.So);if(null!==n&&void 0!==n&&n.data){return n.data.filter((e=>e.is_operator)).map((e=>({value:e.username,key:e.id})))}return[[],0]},updateOpSkill:async(e,a)=>{const n=new V.Ay,i=await n.post("training/update-skill/".concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"Skill Updated successfully!")));return null===i||void 0===i?void 0:i.data}}};var se=a(6335),le=a(8595);const oe=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,handleAdd2:o,loading:r,tab:c}=e;const d=[{title:"User Name",placeholder:"Enter User Name",type:G.wN.INPUT,name:"username",validator:G.wY.REQUIRED},{title:"Email",placeholder:"Enter Email",type:G.wN.INPUT,name:"email"},{title:"Full Name",placeholder:"Enter Full Name",type:G.wN.INPUT,name:"fullname"}],u=[{title:"Aadhar Number",placeholder:"Aadhar Number",type:G.wN.INPUT,name:"aadhar_no",inputType:"number",validator:G.wY.REQUIRED},{title:"Full Name",placeholder:"Enter Full Name",type:G.wN.INPUT,name:"fullname"}],h=[{title:"Phone Number",placeholder:"Phone Number",type:G.wN.INPUT,name:"phone_number",inputType:"number"},{title:"Employee Id",placeholder:"employee_id",type:G.wN.INPUT,name:"employee_id"},"Users"===c&&{title:"Aadhar Number",placeholder:"Aadhar Number",type:G.wN.INPUT,name:"aadhar_number",inputType:"number"},{title:"Employee Type",placeholder:"Employee Type",type:G.wN.INPUT,name:"employee_type"},{title:"Date of Joining",placeholder:"date_of_joining",type:G.wN.DATE,name:"date_of_joining"}],[m,p]=(0,A.useState)(new Map),[x,v]=(0,A.useState)(0);return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:["ADD ",c]}),(0,B.jsx)(se.A,{data:n,errors:m,onChange:e=>{const{name:t,value:a}=e.target;p((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:0===x?"Users"===c?d:u:h}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:async()=>{if(0===x){const e=(0,le.bG)("Users"===c?d:u,n);if(p(e),e.size)return;return await l(),void v((e=>e+1))}if(1===x){const e=(0,le.bG)(h,n);if(p(e),e.size)return;return await o(),void v(0)}},loading:r,children:"Next"})]})]})};var re=a(8903);const ce=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:o,loading:r,tab:c}=e;return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"ADD REPORT"}),(0,B.jsxs)(re.Ay,{display:"grid",sx:{pt:1,gap:1},gridTemplateColumns:{sm:"repeat(4, 1fr)",xs:"repeat(4, 1fr)"},children:[(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"S no"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"Item Name"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"Plan"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"Actual"}),[{itemName:"item 1",plan:1e3},{itemName:"item 2",plan:800},{itemName:"item 3",plan:1e3}].map(((e,t)=>(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(l.A,{children:t+1}),(0,B.jsx)(l.A,{sx:{textTransform:"capitalize"},children:e.itemName}),(0,B.jsx)(l.A,{children:e.plan}),(0,B.jsx)("input",{type:"text"})]})))]}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:o,loading:r,children:"Create"})]})]})};var de=a(9869),ue=a(4056),he=a(3845);const me=e=>{let{title:t="N/A",color:a}=e;return t?(0,B.jsx)(he.A,{label:t,variant:"filled",sx:{backgroundColor:a||"#C1FFB6",fontSize:"10px","& .MuiChip-label":{fontSize:"13px"}},size:"small"}):(0,B.jsx)("p",{className:"c-gray fs-12 ml-1",children:"N/A"})};var pe=a(3374),xe=a(3875),Ae=a(4973),ve=a(5766),we=a.n(ve);const ye=a.p+"static/media/SampleSheet.2da2e90959e1d87dfed0.csv",je=a.p+"static/media/userCsv.eaefb67338841526a91a.csv",ge=a.p+"static/media/operatorCsv.4bfcfd2de35c2736e438.csv",fe=a.p+"static/media/mcq.62bd97559875ee5253f1.csv",Se=(0,I.A)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),Ce=e=>{let{file:t,setFile:a,loading:n,open:i,onClose:l,onSubmit:o,setCsvData:r,tab:c}=e;const[d,u]=(0,A.useState)(!1);return(0,B.jsxs)($.A,{open:i,onClose:l,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"UPLOAD CSV"}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",my:3,children:[(0,B.jsx)("p",{className:"c-gray",children:"Need assistance?"}),(0,B.jsx)(K.A,{bordered:!0,color:"orange",height:"30px",onClick:()=>{window.open("Users"===c?je:"Operators"===c?ge:"question"===c?fe:ye,"_blank")},children:"Download sample CSV"})]}),(0,B.jsxs)(m.A,{className:"h-400 w-full rounded-10 flex flex-col items-center justify-center",sx:{border:"2px dotted ".concat(G.lm.GRAY)},children:[(0,B.jsx)(pe.A,{fontSize:"large",color:"disabled"}),(0,B.jsx)("h3",{className:"opacity-80",children:"Drop your file here to upload"}),!!t&&(0,B.jsxs)("p",{className:"".concat(d?"c-red":"c-primary"," flex items-center"),children:[(0,B.jsx)(xe.A,{fontSize:"small"})," ",null===t||void 0===t?void 0:t.name]}),(0,B.jsxs)(K.A,{onClick:e=>document.getElementById("file").click(),children:[(0,B.jsx)(Ae.A,{})," Upload File"]}),(0,B.jsx)(Se,{type:"file",id:"file",onChange:async e=>{var t,n;const i=e.target.files[0];console.log("file-----",i),i&&(null!==i&&void 0!==i&&null!==(t=i.type)&&void 0!==t&&null!==(n=t.toLowerCase())&&void 0!==n&&n.includes("csv")?(u(!1),we().parse(i,{header:!1,complete:function(e){console.log("csv res-----------",null===e||void 0===e?void 0:e.data),r(null===e||void 0===e?void 0:e.data)}}),a(i)):u("The selected file is not a csv file!"))}})]}),!!d&&(0,B.jsx)("p",{className:"fw-500 c-red text-center",children:d}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",my:2,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:l,children:"Cancel"}),(0,B.jsx)(K.A,{disabled:d||!t,onClick:o,loading:n,children:"Create"})]})]})};var be=a(630),Ne=a(7739),Ee=a(6178),ke=a.n(Ee),Ie=a(7201);const Te=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,loading:o,users:r,skill:c,edit:d}=e;const[u,h]=(0,A.useState)(new Map),m=[{title:"Supervisor",placeholder:"Select Supervisor",type:G.wN.SELECT,name:"supervisor",validator:G.wY.REQUIRED,keyValues:r},{title:"Skill",placeholder:"Select Skill",type:G.wN.SELECT,name:"skill",validator:G.wY.REQUIRED,keyValues:c}];return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[d?"Edit":"Add"," Supervisor"]}),(0,B.jsx)(se.A,{data:n,errors:u,onChange:e=>{const{name:t,value:a}=e.target;h((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:m}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:async()=>{const e=(0,le.bG)(m,n);h(e),e.size||await l()},loading:o,children:"Submit"})]})]})},De=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,loading:o,users:r,testList:c}=e;const[d,u]=(0,A.useState)(new Map),[h,m]=(0,A.useState)(0),[p,x]=(0,A.useState)([]),v=[{title:"Skill",placeholder:"Select Skill",type:G.wN.SELECT,name:"skill",validator:G.wY.REQUIRED,keyValues:r}];return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"Add Skill"}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:v}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:async()=>{const e=(0,le.bG)(v,n);u(e),e.size||await l()},loading:o,children:"Submit"})]})]})},_e=()=>{const{token:e}=(0,w.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":V.yw.APPLICATION_JSON};return{list:async function(){const e=new V.Ay,a=await e.get("training/skills/",{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new V.Ay,n=await a.post("training/skills/",e,t,(e=>(0,q.So)(e,null,"Skill created successfully!")));return null===n||void 0===n?void 0:n.data},updateProfile:async(e,a)=>{const n=new V.Ay,i=await n.put("".concat(J.H.USER,"-").concat(J.H.PROFILE,"/").concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"User Updated successfully!")));return null===i||void 0===i?void 0:i.data},update:async(e,a)=>{const n=new V.Ay,i=await n.put("".concat(J.H.USER,"/").concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"User Updated successfully!")));return null===i||void 0===i?void 0:i.data},addSupervisor:async(e,a)=>{const n=new V.Ay,i=await n.put("training/skill/".concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"Supervisor Updated successfully!")));return null===i||void 0===i?void 0:i.data},remove:async e=>{if(!e)return;const a=new V.Ay,n=await a.delete("training/skills/".concat(e,"/"),t,(e=>(0,q.So)(e,null,"Skill deleted successfully!")));return null===n||void 0===n?void 0:n.data},opratorList:async function(){var e;const a=new V.Ay,n=await a.get("".concat(J.H.OPERATORS,"/"),{},t,q.So);return(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.results.length)>0?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data.results,n.data.count]):[[],0]},createOperator:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new V.Ay,n=await a.post("".concat(J.H.OPERATORS,"/"),e,t,(e=>(0,q.So)(e,null,"User created successfully!")));return null===n||void 0===n?void 0:n.data},updateOperator:async(e,a)=>{const n=new V.Ay,i=await n.put("".concat(J.H.OPERATOR,"/").concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"Operator Updated successfully!")));return null===i||void 0===i?void 0:i.data},removeOperator:async e=>{if(!e)return;const a=new V.Ay,n=await a.delete("".concat(J.H.OPERATOR,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Operator deleted successfully!")));return null===n||void 0===n?void 0:n.data},updateSkill:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;const n=new V.Ay,i=await n.put("training/skill/".concat(a,"/"),e,t,(e=>(0,q.So)(e,null,"Skill created successfully!")));return null===i||void 0===i?void 0:i.data}}},Re=()=>{const[e,t]=(0,A.useState)("Users"),[a,n]=(0,A.useState)([]),[i,r]=(0,A.useState)([]),[c,d]=(0,A.useState)(),[u,h]=(0,A.useState)(0),[m,p]=(0,A.useState)(!1),[x,v]=(0,A.useState)([]),[w,y]=(0,A.useState)(0),[j,g]=(0,A.useState)(null),[f,S]=(0,A.useState)({}),[C,b]=(0,A.useState)([]),[N,E]=(0,A.useState)(""),[k,I]=(0,A.useState)([]),[T,D]=(0,A.useState)(""),[_,R]=(0,A.useState)(""),[P,U]=(0,A.useState)(!1),{list:O,create:L,updateProfile:z,update:H,userProfile:M,remove:Q,listByUserName:Y,listByAadhar:G,updateOpSkill:q}=ie(),{list:V}=_e();(0,A.useEffect)((()=>{n([]),X()}),[w,e]),(0,A.useEffect)((()=>{J()}),[]);const J=async()=>{const[e]=await V(w+1),t=e.results.map((e=>({value:e.skill_name,key:e.id})));b((e=>[...e,...t]))},X=async()=>{d("fetch");try{const[e,t]=await O(w+1),a=e.filter((e=>e.is_operator)),i=e.filter((e=>!e.is_operator)),s=i.map((e=>({value:e.username,key:e.id})));I(s),n(i),h(t);const l=await Promise.all(a.map((e=>M(e.id))));r(l)}catch(At){console.error("Error fetching users:",At)}finally{d(!1)}},Z=async()=>{const t={...f};localStorage.setItem("op_ad_no",f.aadhar_no),t.is_operator="Users"!==e,"Operators"===e&&(t.username="op_".concat(f.aadhar_no)),console.log("id response--------",t),d("fetch");const a=await L(t);E(a.id),S({}),d(!1)},$=async(t,a,n)=>{d("fetch");const i={is_admin:!0!==a},s={status:!0!==a};"Users"===e?await H(t,"status"===n?s:i):H(t,"status"===n?s:i),await X(),d(!1)},ee=[{id:1,title:"Email",render:e=>e.email},{id:2,title:"User Name",render:e=>e.username},{id:3,title:"Full Name",render:e=>e.fullname},{id:4,title:"Employee Id",render:e=>e.employee_id},{id:5,title:"Role",render:e=>(0,B.jsx)(me,{title:e.is_admin?"admin":"Na"})},{id:6,title:"Actions",render:t=>(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(s.A,{flexDirection:"row",sx:{gap:1},children:[(0,B.jsx)(K.A,{width:"10%",color:t.status?"green":"red",onClick:()=>$(null===t||void 0===t?void 0:t.id,null===t||void 0===t?void 0:t.status,"status"),children:t.status?"Active":"Inactive"}),(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>(async e=>{d("fetch"),await Q(e),await X(),d(!1)})(null===t||void 0===t?void 0:t.id),children:(0,B.jsx)(te.A,{color:"error",fontSize:"small"})}),"Users"===e&&!1===(null===t||void 0===t?void 0:t.is_admin)?(0,B.jsx)(Ne.A,{title:"Make Admin",children:(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>$(null===t||void 0===t?void 0:t.id,null===t||void 0===t?void 0:t.is_admin,"delete"),children:(0,B.jsx)(be.A,{color:t.is_admin?"error":"success",fontSize:"small"})})}):null]})})}],ne=[{id:4,title:"Aadhar Number",render:e=>e.aadhar_number},{id:1,title:"Date of Joining",render:e=>ke()(e.date_of_joining).format("ll")},{id:11,title:"Supervisor",render:t=>{var a;return(0,B.jsxs)(s.A,{sx:{flexDirection:"row",alignItems:"center"},children:[t.passed_induction&&(0,B.jsx)(l.A,{children:null===(a=t.supervisor)||void 0===a?void 0:a.username}),"Users"!==e&&(t.passed_induction?(0,B.jsx)(Ne.A,{title:t.supervisor?"Edit Supervisor":"Add Supervisor",children:(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{t.supervisor?U(!0):U(!1),E(t.id),R(t.user.id),p("addSupervisor")},children:t.supervisor?(0,B.jsx)(ae.A,{fontSize:"small",color:"primary"}):(0,B.jsx)(Ie.A,{})})}):(0,B.jsx)(l.A,{children:"Induction not passed"}))]})}},{id:6,title:"Actions",render:t=>(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(s.A,{flexDirection:"row",sx:{gap:1,alignItems:"center"},children:[(0,B.jsx)(K.A,{width:"10%",color:t.user.status?"green":"red",onClick:()=>$(null===t||void 0===t?void 0:t.user.id,null===t||void 0===t?void 0:t.user.status,"status"),children:!0===t.user.status?"Active":"Inactive"}),"Users"===e&&!1===(null===t||void 0===t?void 0:t.is_admin)?(0,B.jsx)(Ne.A,{title:"Make Admin",children:(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>$(null===t||void 0===t?void 0:t.id,null===t||void 0===t?void 0:t.is_admin,"delete"),children:(0,B.jsx)(be.A,{color:t.is_admin?"error":"success"})})}):null]})})}],se=async()=>{d("fetch");const e={skill:f.skill,supervisor:f.supervisor};q(_,e),p(!1),await X(),d(!1)};return(0,B.jsxs)("div",{className:"mx-3 my-2 fw-500",children:[(0,B.jsx)(de.A,{value:e,onChange:(e,a)=>{t(a),y(0),D("")},className:"mb-2 fw-500",children:["Users","Operators"].map(((e,t)=>(0,B.jsx)(ue.A,{label:e,className:"fw-500",value:e})))}),(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsx)(s.A,{children:(0,B.jsx)(F.A,{height:"37px",value:T,placeholder:"Users"===e?"Search By username":"Search by Aadhar Number",onChange:t=>{D(t.target.value),"Users"===e?(async e=>{d("fetch");const[t]=await Y(e);void 0!==t&&n([t]),d(!1)})(t.target.value):(async e=>{const[t,a]=await G(e);void 0!==t&&r([t])})(t.target.value)}})}),(0,B.jsxs)(s.A,{justifyContent:"flex-end",direction:"row",sx:{mb:1},children:[(0,B.jsx)(K.A,{onClick:()=>p("csvUser"),bordered:!0,classes:"mr-1",children:"Upload CSV"}),(0,B.jsxs)(K.A,{onClick:()=>p("add"),children:["Create ",e]})]})]}),(0,B.jsx)(W,{columns:"Users"===e?ee:ne,rows:"Users"===e?a:i,rowsPerPage:10,loading:"fetch"===c,titleCellClasses:"c-gray fw-700",page:w,setPage:y,paginator:!0,serialize:!0,total:u}),(0,B.jsx)(oe,{open:"add"===m,onClose:()=>p(!1),data:f,setData:S,onSubmit:Z,loading:"add"===c,tab:e,handleAdd2:async()=>{const t={...f};"Operators"===e&&(t.aadhar_number=localStorage.getItem("op_ad_no")),t.is_operator="Users"!==e,d("fetch");let a=await M(N);await z(a.id,t),p(!1),await X(),d(!1)}}),(0,B.jsx)(ce,{open:"Report"===m,onClose:()=>p(!1),onSubmit:Z}),(0,B.jsx)(Te,{data:f,setData:S,open:"addSupervisor"===m,onClose:()=>p(!1),onSubmit:async()=>{d("fetch");const e={add_supervisor:f.supervisor};z(N,e),se(),p(!1),d(!1)},users:k,skill:C,edit:P}),(0,B.jsx)(De,{data:f,setData:S,open:"addSkill"===m,onClose:()=>p(!1),onSubmit:se,users:C}),(0,B.jsx)(Ce,{onClose:()=>p(!1),open:"csvUser"===m,onSubmit:async()=>{x.slice(1).map((async t=>{if("Users"===e){if(""===t[0])return;{const e={username:t[0],fullname:t[1],email:t[2]},a=await L(e),n=null===a||void 0===a?void 0:a.id,i={phone_number:t[3],aadhar_number:t[4],employee_id:t[5],employee_type:t[6],date_of_joining:t[7]};let s=await M(n);await z(s.id,i)}}else{if(""===t[4]||""===t[0])return;{const e={aadhar_number:t[4],username:t[0],fullname:t[1],is_operator:!0},a=await L(e),n=null===a||void 0===a?void 0:a.id,i={is_operator:!0,phone_number:t[3],employee_id:t[5],employee_type:t[6],date_of_joining:t[7]};let s=await M(n);await z(s.id,i)}}})),p(!1),await X()},file:j,setFile:g,setCsvData:v,tab:e})]})},Pe=()=>{const{token:e}=(0,w.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":V.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new V.Ay,n=await a.get("".concat(J.H.TOOLS,"/?page=").concat(e,"&page_size=",10),{},t,Function.prototype);var i,s;return null!==n&&void 0!==n&&n.data?[null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.results,null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.count]:[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new V.Ay,n=await a.post("".concat(J.H.TOOLS,"/"),e,t,(e=>(0,q.So)(e,null,"Tool created successfully!")));return null===n||void 0===n?void 0:n.data},remove:async e=>{if(!e)return;const a=new V.Ay,n=await a.delete("".concat(J.H.TOOLS,"/").concat(J.H.DETAIL,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Tool deleted successfully!")));return null===n||void 0===n?void 0:n.data},createInbound:async(e,a)=>{if(!a)return;const n=new V.Ay,i=await n.post("".concat(J.H.TOOLS,"/").concat(a,"/").concat(J.H.ALL_INBOUND,"/"),e,t,Function.prototype);return null===i||void 0===i?void 0:i.data},listInbound:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new V.Ay,n=await a.get("".concat(J.H.TOOLS,"/").concat(J.H.LIST_INBOUND,"/?page=").concat(e),{},t,Function.prototype);var i,s;return null!==n&&void 0!==n&&n.data?[null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.results,null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.count]:[[],0]},listIssued:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new V.Ay,n=await a.get("".concat(J.H.TOOLS,"/").concat(J.H.ALL_ISSUED,"/?page=").concat(e),{},t,Function.prototype);var i,s;return null!==n&&void 0!==n&&n.data?[null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.results,null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.count]:[[],0]},genBarCode:async(e,a)=>{const n=new V.Ay,i=await n.post("".concat(J.H.TOOLS,"/").concat(J.H.GENERATEBARCODE,"/").concat(a,"/"),e,t,(e=>(0,q.So)(e,null,"Barcode Generated!")));var s;return null!==i&&void 0!==i&&i.data?[null===i||void 0===i||null===(s=i.data)||void 0===s?void 0:s.serial_number_list]:[[],0]},update:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new V.Ay,n=await a.put("".concat(J.H.TOOLS,"/").concat(J.H.DETAIL,"/").concat(e.id,"/"),e,t,(e=>(0,q.So)(e,null,"Material created successfully!")));return null===n||void 0===n?void 0:n.data},searchList:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const i=new V.Ay,s=await i.get("".concat(J.H.TOOLS,"/?search_field=").concat(a,"&search_value=").concat(n,"&page=").concat(e,"&page_size=",10),{},t,Function.prototype);var l,o;return null!==s&&void 0!==s&&s.data?[null===s||void 0===s||null===(l=s.data)||void 0===l?void 0:l.results,null===s||void 0===s||null===(o=s.data)||void 0===o?void 0:o.count]:[[],0]},getBarInfo:async e=>{const a={barcode:e},n=new V.Ay,i=await n.post("".concat(J.H.TOOLS,"/").concat(J.H.SEARCH,"/"),a,t);return null!==i&&void 0!==i&&i.data?[null===i||void 0===i?void 0:i.data]:0},outBoundItem:async(e,a)=>{const n={serial_number:e.barcode,internal_id:a,quantity:e.quantity},i=new V.Ay,s=await i.post("".concat(J.H.TOOLS,"/").concat(e.id,"/").concat(J.H.ALL_ISSUED,"/"),n,t);return null===s||void 0===s?void 0:s.data},historyList:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new V.Ay,n=await a.get("".concat(J.H.TOOLS,"/").concat(J.H.OUTBOUNDLIST,"/?page=").concat(e,"&page_size=",10),{},t,Function.prototype);var i,s;return null!==n&&void 0!==n&&n.data?[null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.results,null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.count]:[[],0]},searchOutbound:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const i=new V.Ay,s=await i.get("".concat(J.H.TOOLS,"/").concat(J.H.OUTBOUNDLIST,"/?search_field=").concat(a,"&search_value=").concat(n,"&page=").concat(e,"&page_size=",10),{},t,Function.prototype);var l,o;return null!==s&&void 0!==s&&s.data?[null===s||void 0===s||null===(l=s.data)||void 0===l?void 0:l.results,null===s||void 0===s||null===(o=s.data)||void 0===o?void 0:o.count]:[[],0]}}};var Ue=a(9254),Oe=a(7289),Le=a(9484);const ze=e=>{var t;let{json:a={},icon:n}=e;return null!==(t=Object.values(a||{}))&&void 0!==t&&t.length?(0,B.jsx)(p.A,{dense:!0,disablePadding:!0,children:Object.entries(a).map((e=>{var t;let[a,i]=e;return(0,B.jsxs)(x.Ay,{dense:!0,disablePadding:!0,disableGutters:!0,alignItems:"center",className:"h-45",children:[(0,B.jsx)(o.A,{className:"h-25 w-25 mr-1 fs-10 c-gray",children:n}),(0,B.jsx)(h.A,{className:"capitalize",primary:null===a||void 0===a||null===(t=a.split("_"))||void 0===t?void 0:t.join(" "),secondary:i})]})}))}):(0,B.jsx)("p",{className:"c-gray fs-12 ml-1",children:"N/A"})},He=()=>{const{token:e}=(0,w.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":V.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new V.Ay,n=await a.get("".concat(J.H.MATERIALS,"/?page=").concat(e),{},t,Function.prototype);var i,s;return null!==n&&void 0!==n&&n.data?[null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.results,null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.count]:[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new V.Ay,n=await a.post("".concat(J.H.MATERIALS,"/"),e,t,(e=>(0,q.So)(e,null,"Material created successfully!")));return null===n||void 0===n?void 0:n.data},remove:async e=>{if(!e)return;const a=new V.Ay,n=await a.delete("".concat(J.H.MATERIALS,"/").concat(J.H.DETAIL,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Material deleted successfully!")));return null===n||void 0===n?void 0:n.data},createInbound:async(e,a)=>{if(!a)return;const n=new V.Ay,i=await n.post("".concat(J.H.MATERIALS,"/").concat(a,"/").concat(J.H.ALL_INBOUND,"/"),e,t,Function.prototype);return null===i||void 0===i?void 0:i.data},listInbound:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new V.Ay,n=await a.get("".concat(J.H.MATERIALS,"/").concat(J.H.LIST_INBOUND,"/?page=").concat(e),{},t,Function.prototype);var i,s;return null!==n&&void 0!==n&&n.data?[null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.results,null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.count]:[[],0]},listIssued:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new V.Ay,n=await a.get("".concat(J.H.MATERIALS,"/").concat(J.H.ALL_ISSUED,"/?page=").concat(e),{},t,Function.prototype);var i,s;return null!==n&&void 0!==n&&n.data?[null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.results,null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.count]:[[],0]},update:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new V.Ay,n=await a.put("".concat(J.H.MATERIALS,"/").concat(J.H.DETAIL,"/").concat(e.id,"/"),e,t,(e=>(0,q.So)(e,null,"Material created successfully!")));return null===n||void 0===n?void 0:n.data},searchlistMat:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const i=new V.Ay,s=await i.get("".concat(J.H.MATERIALS,"/?search_field=").concat(a,"&search_value=").concat(n,"&page=").concat(e,"&page_size=",10),{},t,Function.prototype);var l,o;return null!==s&&void 0!==s&&s.data?[null===s||void 0===s||null===(l=s.data)||void 0===l?void 0:l.results,null===s||void 0===s||null===(o=s.data)||void 0===o?void 0:o.count]:[[],0]},matOutBoundItem:async(e,a)=>{const n={serial_number:e.barcode,internal_id:a,quantity:e.quantity},i=new V.Ay,s=await i.post("".concat(J.H.MATERIALS,"/").concat(e.id,"/").concat(J.H.ALL_ISSUED,"/"),n,t);return null===s||void 0===s?void 0:s.data},historyList:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new V.Ay,n=await a.get("".concat(J.H.MATERIALS,"/").concat(J.H.OUTBOUNDLIST,"/?page=").concat(e),{},t,Function.prototype);var i,s;return null!==n&&void 0!==n&&n.data?[null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.results,null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.count]:[[],0]},getBarInfo:async e=>{const a={barcode:e},n=new V.Ay,i=await n.post("".concat(J.H.MATERIALS,"/").concat(J.H.SEARCH,"/"),a,t);return null!==i&&void 0!==i&&i.data?[null===i||void 0===i?void 0:i.data]:0},searchOutbound:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const i=new V.Ay,s=await i.get("".concat(J.H.MATERIALS,"/").concat(J.H.OUTBOUNDLIST,"/?search_field=").concat(a,"&search_value=").concat(n,"&page=").concat(e,"&page_size=",10),{},t,Function.prototype);var l,o;return null!==s&&void 0!==s&&s.data?[null===s||void 0===s||null===(l=s.data)||void 0===l?void 0:l.results,null===s||void 0===s||null===(o=s.data)||void 0===o?void 0:o.count]:[[],0]}}};var Me=a(2432),Qe=a(1497),Ye=a(4726),Fe=a(3985);const Ge=()=>{const{token:e}=(0,w.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":V.yw.APPLICATION_JSON};return{categories:async()=>{var e;const a=new V.Ay,n=await a.get("".concat(J.H.CATEGORIES,"/"),{},t,Function.prototype);var i,s;return null!==n&&void 0!==n&&null!==(e=n.data)&&void 0!==e&&e.results?null===n||void 0===n||null===(i=n.data)||void 0===i||null===(s=i.results)||void 0===s?void 0:s.map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.name}))):[]},createCategory:async e=>{if(!e)return;const a=new V.Ay,n=await a.post("".concat(J.H.CATEGORIES,"/"),{name:e},t,Function.prototype);return null!==n&&void 0!==n&&n.data?null===n||void 0===n?void 0:n.data:void 0}}},Be=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,isTool:o}=e;const[r,c]=(0,A.useState)(0),[d,u]=(0,A.useState)(new Map),[h,m]=(0,A.useState)(!1),{categories:p}=Ge(),x=[{title:"Name",placeholder:"Enter name",type:G.wN.INPUT,name:"name",validator:G.wY.REQUIRED},{title:"SAP Id",placeholder:"Enter SAP Id",type:G.wN.INPUT,name:"sap_id"},{title:"HSN CODE",placeholder:"HSN CODE",type:G.wN.INPUT,name:"hsn_code"},{title:"Vendor part ID",placeholder:"vendor part id",type:G.wN.INPUT,name:"vendor_part_id"},{title:"Category",placeholder:"Select Category",type:G.wN.MASTER,name:"category",validator:G.wY.REQUIRED,fetch:[p],noSearch:!0},{title:"Unit",placeholder:"",type:G.wN.SELECT,name:"unit",validator:G.wY.REQUIRED,keyValues:G.QN},{title:"Cost",placeholder:"cost",type:G.wN.INPUT,name:"cost",validator:G.wY.REQUIRED},{title:"Expected Life",placeholder:"",type:G.wN.INPUT,name:"expected_life"},{title:"Serialization",placeholder:"Select the serialization type",type:G.wN.SELECT,name:"serialization_method",validator:G.wY.NUMBER,keyValues:G.QO}],v=()=>{u(new Map),i({location:{},specification:{}}),c(0),a()};return(0,A.useEffect)((()=>{o||v()}),[o]),(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,80vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:["CREATE NEW ",o?"TOOL":"MATERIAL"]}),(0,B.jsx)(Me.A,{activeStep:r,alternativeLabel:!0,children:["Info","Specifications","Location"].map((e=>(0,B.jsx)(Qe.A,{children:(0,B.jsx)(Ye.A,{children:e})},e)))}),0===r&&(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:x}),1===r&&(0,B.jsx)(Fe.A,{setItemss:null===n||void 0===n?void 0:n.specification,setJson:e=>i((t=>({...t,specification:e}))),title:"Specification"}),2===r&&(0,B.jsx)(Fe.A,{setItemss:null===n||void 0===n?void 0:n.location,setJson:e=>i((t=>({...t,location:e}))),title:"Location"}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:()=>{0===r?v():c((e=>e-1))},children:"Cancel"}),(0,B.jsx)(K.A,{onClick:async()=>{if(0!==r)1!==r?2===r&&(m(!0),await l(),m(!1),c(0)):c((e=>e+1));else{const e=(0,le.bG)(x,n);if(u(e),e.size)return;c((e=>e+1))}},loading:h,children:2===r?"Create":"Next"})]})]})},We=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,isTool:o}=e;const[r,c]=(0,A.useState)(0),[d,u]=(0,A.useState)(new Map),[h,m]=(0,A.useState)(!1),{categories:p}=Ge(),x=[{title:"Name",placeholder:"Enter name",type:G.wN.INPUT,name:"name",validator:G.wY.REQUIRED},{title:"SAP Id",placeholder:"Enter SAP Id",type:G.wN.INPUT,name:"sap_id"},{title:"HSN CODE",placeholder:"HSN CODE",type:G.wN.INPUT,name:"hsn_code"},{title:"Vendor part ID",placeholder:"vendor part id",type:G.wN.INPUT,name:"vendor_part_id"},{title:"Category",placeholder:"Select Category",type:G.wN.MASTER,name:"category",validator:G.wY.REQUIRED,fetch:[p],noSearch:!0},{title:"Unit",placeholder:"",type:G.wN.SELECT,name:"unit",validator:G.wY.REQUIRED,keyValues:G.QN},{title:"Cost",placeholder:"cost",type:G.wN.INPUT,name:"cost",validator:G.wY.REQUIRED},{title:"Expected Life",placeholder:"",type:G.wN.INPUT,name:"expected_life",validator:G.wY.REQUIRED},{title:"Serialization",placeholder:"Select the serialization type",type:G.wN.SELECT,name:"serialization_method",validator:G.wY.NUMBER,keyValues:G.QO}],v=()=>{u(new Map),i({location:{},specification:{}}),c(0),a()};return(0,A.useEffect)((()=>{o||v()}),[o]),(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,80vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:["EDIT ",o?"TOOL":"MATERIAL"]}),(0,B.jsx)(Me.A,{activeStep:r,alternativeLabel:!0,children:["Info","Specifications","Location"].map((e=>(0,B.jsx)(Qe.A,{children:(0,B.jsx)(Ye.A,{children:e})},e)))}),0===r&&(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:x}),1===r&&(0,B.jsx)(Fe.A,{setItemss:null===n||void 0===n?void 0:n.specification,setJson:e=>i((t=>({...t,specification:e}))),title:"Specification"}),2===r&&(0,B.jsx)(Fe.A,{setItemss:null===n||void 0===n?void 0:n.location,setJson:e=>i((t=>({...t,location:e}))),title:"Location"}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:()=>{0===r?v():c((e=>e-1))},children:"Cancel"}),(0,B.jsx)(K.A,{onClick:async()=>{if(0!==r)1!==r?2===r&&(m(!0),await l(),m(!1),c(0)):c((e=>e+1));else{const e=(0,le.bG)(x,n);if(u(e),e.size)return;c((e=>e+1))}},loading:h,children:2===r?"Edit":"Next"})]})]})};var qe=a(6012);const Ve=()=>{const[e,t]=(0,A.useState)([]),[a,n]=(0,A.useState)(),[i,l]=(0,A.useState)(0),[r,c]=(0,A.useState)(!1),[d,u]=(0,A.useState)(0),[h,m]=(0,A.useState)(null),[p,x]=(0,A.useState)([]),[v,w]=(0,A.useState)(0),[y,j]=(0,A.useState)(""),[g,f]=(0,A.useState)(""),[S,C]=(0,A.useState)(!1),[b,N]=(0,A.useState)({specification:{},location:{}}),{list:E,create:k,remove:I,createInbound:T,update:_,searchList:R}=Pe(),{list:P,create:U,remove:O,update:L,createInbound:z,searchlistMat:H}=He(),{createCategory:M,categories:Q}=Ge();(0,A.useEffect)((()=>{Y()}),[d,v]);const Y=async()=>{n("fetch");const[e,a]=1===v?await P(d+1):await E(d+1);t(e),l(a),n(!1)},G=async e=>{""!==y?(n("fetch"),setTimeout((async()=>{const[a,n]=1===v?await H(d+1,y,e):await R(d+1,y,e);t(a),l(n)}),1e3),n(!1)):D.oR.warn("Please Select Search by Option")},q=[{id:42,title:"Name",render:e=>e.name},{id:1,title:"SAP ID",render:e=>e.sap_id},{id:2,title:"HSN CODE",render:e=>e.hsn_code},{id:3,title:"Serialization",render:e=>1===e.serialization_method?"No Serialization":2===e.serialization_method?"Use Pre-Generated ID":3===e.serialization_method?"Use Own ID":"-"},{id:4,title:"Vendor Part ID",render:e=>e.vendor_part_id},{id:5,title:"Category",render:e=>(0,B.jsx)(me,{title:null===e||void 0===e?void 0:e.category})},{id:6,title:"Specifications",render:e=>(0,B.jsx)(ze,{icon:(0,B.jsx)(Ue.A,{fontSize:"small"}),json:null===e||void 0===e?void 0:e.specification})},{id:8,title:"Location",render:e=>(0,B.jsx)(ze,{icon:(0,B.jsx)(Oe.A,{fontSize:"small"}),json:null===e||void 0===e?void 0:e.location})},{id:9,title:"Actions",render:e=>(0,B.jsxs)(s.A,{sx:{flexDirection:"row"},children:[(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>(async e=>{n("fetch"),1===v?await O(e):await I(e),await Y(),n(!1)})(null===e||void 0===e?void 0:e.id),children:(0,B.jsx)(te.A,{color:"error",fontSize:"small"})}),(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{c("edit"),N(e),N((t=>({...t,category:{value:e.category}})))},children:(0,B.jsx)(ae.A,{color:"primary",fontSize:"small"})})]})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("h1",{className:"mt-4",children:["Master",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",i,")"]})]}),(0,B.jsxs)(s.A,{justifyContent:"flex-end",direction:"row",children:[(0,B.jsx)(K.A,{onClick:()=>c("csv"),bordered:!0,classes:"mr-1",children:"Upload CSV"}),(0,B.jsx)(K.A,{onClick:()=>c("add"),children:"Create"})]})]}),(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsx)(de.A,{value:v,onChange:(e,t)=>{w(t),u(0)},className:"mb-2",children:["Tools","Materials"].map(((e,t)=>(0,B.jsx)(ue.A,{label:e,className:"fw-500",value:t})))}),(0,B.jsxs)(s.A,{direction:"row",justifyContent:"flex-end",children:[(0,B.jsx)(qe.A,{keyValues:[{id:"name",title:"Name"},{id:"sap_id",title:"SAP ID"},{id:"hsn_code",title:"HSN CODE"},{id:"internal_id",title:"Internal ID"},{id:"serialization",title:"Serialization"},{id:"category",title:"Category"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1",value:y,onChange:e=>j(e.target.value)}),(0,B.jsx)(F.A,{height:"37px",placeholder:"Universal Search",onChange:e=>{f(e.target.value),G(e.target.value)},icon:(0,B.jsx)(Le.A,{sx:{cursor:"pointer"},onClick:()=>G()})})]})]}),(0,B.jsx)(W,{edit:S,columns:q,rows:e,rowsPerPage:5,loading:"fetch"===a,titleCellClasses:"c-gray fw-700",page:d,setPage:u,paginator:!0,serialize:!0,total:i}),(0,B.jsx)(Be,{onClose:()=>c(!1),open:"add"===r,data:b,onSubmit:async()=>{var e,t;let a=null===b||void 0===b||null===(e=b.category)||void 0===e?void 0:e.key;if(null!==b&&void 0!==b&&null!==(t=b.category)&&void 0!==t&&t.isNew){const e=await M(a);a=null===e||void 0===e?void 0:e.id}const n={...b,category:a},i=1===v?await U(n):await k(n);null!==i&&void 0!==i&&i.id&&(N({specification:{},location:{}}),c(!1),await Y())},setData:N,isTool:0===v}),(0,B.jsx)(Ce,{onClose:()=>c(!1),open:"csv"===r,onSubmit:async()=>{const e=await Q();var t="";p.map((async a=>{if(e.map((async e=>{a.category===e.value&&(t=e.key)})),console.log("pre catID",t),""===t&&void 0===t){const e=await M(a.category);t=null===e||void 0===e?void 0:e.id}a.category=t,console.log(" final item",a),1===v?await U(a):await k(a)})),c(!1),setTimeout((async()=>{await Y()}),500)},file:h,setFile:m,setCsvData:x}),(0,B.jsx)(We,{onClose:()=>c(!1),open:"edit"===r,data:b,onSubmit:async e=>{const t={...b};n("fetch"),1===v?await L(t):await _(t),c(!1),await Y(),n(!1)},setData:N,isTool:0===v})]})};G.wN.INPUT,G.wY.REQUIRED,G.wN.INPUT,G.wN.INPUT,G.wN.INPUT,G.wY.REQUIRED,G.wN.INPUT,G.wY.REQUIRED,G.wN.SELECT,G.wY.NUMBER,G.QO;var Je=a(3141),Xe=a(3092),Ze=a.n(Xe),Ke=a(1867);const $e=[],et=(0,A.forwardRef)(((e,t)=>{let{open:a,onClose:n,data:i,setData:o,onSubmit:r,isTool:c,onGenerate:d,codes:u}=e;const h=(0,w.d4)((e=>{var t;return null===e||void 0===e||null===(t=e.InboundItem)||void 0===t?void 0:t.data})),m=(0,A.useRef)(null),p=(0,A.useRef)(null),[x,y]=(0,A.useState)(0),[j,g]=(0,A.useState)(new Map),[f,S]=(0,A.useState)(!1),[C,b]=(0,A.useState)([]),[N,E]=(0,A.useState)(""),[k,I]=(0,A.useState)(""),T=()=>{g(new Map),o({}),y(0),n()};function D(){setTimeout((()=>{m.current.focus()}),500)}(0,A.useImperativeHandle)(t,(()=>({handleFocus:D,handlePrintq:_}))),(0,A.useEffect)((()=>{c||T()}),[c]);const _=(0,Je.useReactToPrint)({content:()=>p.current,onPrintError:()=>console.log("error------"),removeAfterPrint:!0});return(0,B.jsxs)($.A,{open:a,onClose:n,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)(l.A,{sx:{mt:2},children:[null===h||void 0===h?void 0:h.sap_id," / ",null===h||void 0===h?void 0:h.hsn_code," ",">"," ",null===h||void 0===h?void 0:h.category," ",">"," ",null===h||void 0===h?void 0:h.name]}),(0,B.jsx)(v.A,{}),(0,B.jsx)(s.A,{sx:{flexDirection:"row"},children:(0,B.jsx)(l.A,{children:"Location"})}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row"},children:[(0,B.jsxs)(s.A,{sx:{width:"40%"},children:[(0,B.jsxs)("p",{className:Ke.A.title,style:{marginBottom:0},children:["Unit : ",null===h||void 0===h?void 0:h.unit]}),2===(null===h||void 0===h?void 0:h.serialization_method)&&(0,B.jsxs)("p",{className:Ke.A.title,style:{marginBottom:0},children:["New Quantity :\xa0",2===(null===h||void 0===h?void 0:h.serialization_method)&&C.length]})]}),(0,B.jsxs)(s.A,{sx:{width:"60%"},children:[(0,B.jsxs)("p",{className:Ke.A.title,style:{marginBottom:0},children:["Present Quanitity : ",null===h||void 0===h?void 0:h.remaining_stock]}),2===(null===h||void 0===h?void 0:h.serialization_method)&&(0,B.jsxs)(s.A,{sx:{flexDirection:"row",width:"100%",alignItems:"center",gap:1,mt:1.5},children:[(0,B.jsx)("label",{className:Ke.A.title,style:{marginBottom:0},children:"Scan Code :"}),(0,B.jsx)("input",{ref:m,type:"text",value:N,onKeyUp:e=>{"Enter"===e.code&&(C.includes(N)||b([...C,N]),E(""),console.log("count---",i[0]))},onChange:e=>E(e.target.value)})]})]})]}),2!==(null===h||void 0===h?void 0:h.serialization_method)&&(0,B.jsxs)(s.A,{sx:{flexDirection:"row",width:"100%",alignItems:"center",gap:1,mt:1},children:[(0,B.jsx)("label",{className:Ke.A.title,children:"New Quanitity :"}),(0,B.jsx)("input",{onChange:e=>I(e.target.value)})]}),(0,B.jsx)(se.A,{data:i,errors:j,onChange:e=>{const{name:t,value:a}=e.target;g((e=>(e.delete(t),e))),o((e=>({...e,[t]:a})))},schema:$e,handleCounter:e=>{"add"===e?o((e=>({...e,[Object.keys(i)[0]]:Number(i.newQuanitity)+1}))):i.newQuanitity>0&&o((e=>({...e,[Object.keys(i)[0]]:Number(i.newQuanitity)-1})))}}),2===(null===h||void 0===h?void 0:h.serialization_method)&&(0,B.jsx)(s.A,{sx:{mt:2},children:(0,B.jsx)(l.A,{variant:"h4",sx:{alignSelf:"center",letterSpacing:4},children:N})}),3===(null===h||void 0===h?void 0:h.serialization_method)&&(0,B.jsxs)(s.A,{sx:{mt:1},children:[(0,B.jsx)(K.A,{onClick:async()=>{const e={quantity:Number(k)};await d(e,null===h||void 0===h?void 0:h.id)},loading:f,children:"Print Barcode"}),3===(null===h||void 0===h?void 0:h.serialization_method)&&u&&u.length&&(0,B.jsx)(s.A,{sx:{overflow:"scroll",height:70,overflowX:"hidden"},children:(0,B.jsx)(s.A,{ref:p,gap:1,sx:{justifyItems:"center",alignItems:"center"},children:u&&u[0].map(((e,t)=>(0,B.jsx)(Ze(),{value:e,width:1,height:40,fontSize:16,margin:5},t)))})})]}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:()=>{0===x?T():y((e=>e-1))},children:"Cancel"}),3===(null===h||void 0===h?void 0:h.serialization_method)?(0,B.jsx)(K.A,{onClick:()=>(()=>{const e={quantity:u[0].length,serial_numbers:u[0]};r(null===h||void 0===h?void 0:h.id,e)})(),loading:f,children:"Save"}):(0,B.jsx)(K.A,{onClick:()=>{const e={quantity:1===(null===h||void 0===h?void 0:h.serialization_method)?k:C.length,serial_numbers:C};r(null===h||void 0===h?void 0:h.id,e)},loading:f,children:"Save"})]})]})})),tt=et;var at=a(1282);const nt=()=>{const e=(0,w.wA)(),t=(0,A.useRef)(),[a,n]=(0,A.useState)([]),[i,l]=(0,A.useState)(),[r,c]=(0,A.useState)(),[d,u]=(0,A.useState)(0),[h,m]=(0,A.useState)(!1),[p,x]=(0,A.useState)(0),[v,y]=(0,A.useState)(0),[j,g]=(0,A.useState)({}),[f,S]=(0,A.useState)(""),[C,b]=(0,A.useState)(""),{list:N,create:E,createInbound:k,genBarCode:I,searchList:T}=Pe(),{list:_,create:R,createInbound:P,searchlistMat:U}=He(),[O,L]=(0,A.useState)({});(0,A.useEffect)((()=>{z()}),[p,v]);const z=async(e,t)=>{c("fetch");const[a,i]=1===v?await _(p+1):await N(p+1);n(a),u(i),c(!1)},H=async e=>{""!==f?(c("fetch"),setTimeout((async()=>{const[t,a]=1===v?await U(p+1,f,e):await T(p+1,f,e);n(t),u(a)}),1e3),c(!1)):D.oR.warn("Please Select Search by Option")},M=[{id:3,title:"Name",render:e=>e.name},{id:4,title:"HSN Code",render:e=>e.hsn_code},{id:5,title:"Vendor Part ID",render:e=>e.vendor_part_id},{id:"cat",title:"Category",render:e=>e.category},{id:6,title:"Serialization",render:e=>1===e.serialization_method?"No Serialization":2===e.serialization_method?"Use Pre-Generated ID":3===e.serialization_method?"Use Own ID":"-"},{id:7,title:"Details",render:e=>e.details},{id:9,title:"Cost",render:e=>e.cost},{id:10,title:"Quantity",render:e=>e.remaining_stock},{id:10,title:"Expected Life",render:e=>e.expected_life},{id:11,title:"Actions",render:a=>(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{var n;(m("add"),2===a.serialization_method)&&(null===(n=t.current)||void 0===n||n.handleFocus());e((0,at.S)(a))},children:(0,B.jsx)(Ie.A,{color:"primary",fontSize:"small"})})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsxs)("h1",{className:"mt-4",children:["Inbound",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",d,")"]})]})}),(0,B.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,B.jsx)(de.A,{value:v,onChange:(e,t)=>{y(t),x(0)},children:["Tools","Materials"].map(((e,t)=>(0,B.jsx)(ue.A,{className:"fw-500",label:e,value:t},t)))}),(0,B.jsxs)(s.A,{direction:"row",justifyContent:"flex-end",children:[(0,B.jsx)(qe.A,{keyValues:[{id:"name",title:"Name"},{id:"sap_id",title:"SAP ID"},{id:"hsn_code",title:"HSN CODE"},{id:"internal_id",title:"Internal ID"},{id:"serialization",title:"Serialization"},{id:"category",title:"Category"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1",value:f,onChange:e=>{S(e.target.value)}}),(0,B.jsx)(F.A,{height:"37px",placeholder:"Universal Search",onChange:e=>{b(e.target.value),H(e.target.value)},icon:(0,B.jsx)(Le.A,{onClick:()=>H(),sx:{cursor:"pointer"}})})]})]}),(0,B.jsx)(W,{columns:M,rows:a,rowsPerPage:5,loading:"fetch"===r,titleCellClasses:"c-gray fw-700",page:p,setPage:x,paginator:!0,serialize:!0,total:d}),(0,B.jsx)(tt,{row:O,onClose:()=>m(!1),open:"add"===h,data:j,onSubmit:async(e,t)=>{1===v?await P(t,e):await k(t,e),await z(),g({}),m(!1)},setData:g,isTool:0===v,ref:t,onGenerate:async(e,a)=>{const n=await I(e,a);l(n),n.length&&setTimeout((()=>{var e;null===(e=t.current)||void 0===e||e.handlePrintq()}),1e3)},codes:i})]})},it=()=>{const{token:e}=(0,w.d4)((e=>e[X.X.AUTH])),t=(0,w.d4)((e=>{var t;return null===e||void 0===e||null===(t=e.SelectSearch)||void 0===t?void 0:t.data})),a={Authorization:"Bearer ".concat(e),"Content-Type":V.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=new V.Ay,n=await t.get("".concat(J.H.MATERIALS,"/?page=").concat(e),{},a,Function.prototype);var i,s;return null!==n&&void 0!==n&&n.data?[null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.results,null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.count]:[[],0]},searchlistMat:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const i=new V.Ay,s=await i.get("".concat(J.H.MATERIALS,"/?search_field=").concat(t,"&search_value=").concat(n,"&page=").concat(e,"&page_size=",10),{},a,Function.prototype);var l,o;return null!==s&&void 0!==s&&s.data?[null===s||void 0===s||null===(l=s.data)||void 0===l?void 0:l.results,null===s||void 0===s||null===(o=s.data)||void 0===o?void 0:o.count]:[[],0]},matOutBoundItem:async(e,t)=>{const n={serial_number:e.barcode,internal_id:t},i=new V.Ay,s=await i.post("".concat(J.H.MATERIALS,"/").concat(e.id,"/").concat(J.H.ALL_ISSUED,"/"),n,a);return null===s||void 0===s?void 0:s.data},historyList:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=new V.Ay,n=await t.get("".concat(J.H.MATERIALS,"/").concat(J.H.OUTBOUNDLIST,"/?page=").concat(e),{},a,Function.prototype);var i,s;return null!==n&&void 0!==n&&n.data?[null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.results,null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.count]:[[],0]},getBarInfo:async e=>{const t={barcode:e},n=new V.Ay,i=await n.post("".concat(J.H.MATERIALS,"/").concat(J.H.SEARCH,"/"),t,a);return null!==i&&void 0!==i&&i.data?[null===i||void 0===i?void 0:i.data]:0},searchOutbound:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const i=new V.Ay,s=await i.get("".concat(J.H.MATERIALS,"/").concat(J.H.OUTBOUNDLIST,"/?search_field=").concat(t,"&search_value=").concat(n,"&page=").concat(e,"&page_size=",10),{},a,Function.prototype);var l,o;return null!==s&&void 0!==s&&s.data?[null===s||void 0===s||null===(l=s.data)||void 0===l?void 0:l.results,null===s||void 0===s||null===(o=s.data)||void 0===o?void 0:o.count]:[[],0]},fetchToolInbound:async(e,t)=>{const n=new V.Ay,i=await n.get("".concat(J.H.TOOLS,"/?serialization=1&search_field=").concat(e,"&search_value=").concat(t),{},a,Function.prototype);var s,l;return null!==i&&void 0!==i&&i.data?[null===i||void 0===i||null===(s=i.data)||void 0===s?void 0:s.results,null===i||void 0===i||null===(l=i.data)||void 0===l?void 0:l.count]:[]},fetchMaterialInbound:async(e,n)=>{const i=new V.Ay,s=await i.get("".concat(J.H.MATERIALS,"/?serialization=1&search_field=").concat(t,"&search_value=").concat(e),{},a,Function.prototype);var l,o;return null!==s&&void 0!==s&&s.data?[null===s||void 0===s||null===(l=s.data)||void 0===l?void 0:l.results,null===s||void 0===s||null===(o=s.data)||void 0===o?void 0:o.count]:[]}}};a(8943),a(6638);const st=()=>{(0,w.wA)();const e=(0,A.useRef)(),[t,a]=(0,A.useState)([]),[n,i]=(0,A.useState)(),[o,r]=(0,A.useState)(0),[c,d]=(0,A.useState)(0),[u,h]=(0,A.useState)(0),[m,p]=(0,A.useState)("Serialization"),[x,v]=(0,A.useState)(""),[y,j]=(0,A.useState)(""),[g,f]=(0,A.useState)(""),{list:S,create:C,createInbound:b,genBarCode:N,searchList:E,getBarInfo:k,outBoundItem:I}=Pe(),{list:T,create:_,createInbound:R,searchlistMat:P,matOutBoundItem:U,getBarInfo:O}=He(),{fetchToolInbound:L,fetchMaterialInbound:z}=it(),[H,M]=(0,A.useState)(""),[Q,Y]=(0,A.useState)([]),[G,q]=(0,A.useState)([]);(0,A.useEffect)((()=>{"Serialization"===m&&e.current.focus()}),[c,u]);const V=[{id:2,title:"Inbound Date",render:e=>(0,B.jsx)(l.A,{children:ke()(e.created).format("LL")})},{id:3,title:"Name",render:e=>e.name},{id:1,title:"Barcode",render:e=>e.barcode},{id:4,title:"Expected Life",render:e=>e.expected_life},{id:6,title:"Total Stock",render:e=>"No Serialization"===m?e.remaining_stock:1},{id:5,title:"Quantity ",render:e=>"No Serialization"===m?(0,B.jsx)(F.A,{width:"15%",onChange:t=>J(t,e.id)}):1}],J=(e,t)=>{const{value:a}=e.target,n=G.map((e=>e.id===t?{...e,quantity:a}:e));q(n)};return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsx)("h1",{className:"mt-4",children:"Outbound"})}),(0,B.jsx)("div",{className:" items-center  mb-3 fw-500",children:(0,B.jsx)(de.A,{value:u,onChange:(e,t)=>{h(t),d(0)},children:["Tools","Materials"].map(((e,t)=>(0,B.jsx)(ue.A,{label:e,className:"fw-500",value:t},t)))})}),(0,B.jsxs)("div",{className:"flex items-center  mb-3",children:[(0,B.jsx)(de.A,{value:m,onChange:(e,t)=>{p(t)},children:["Serialization","No Serialization"].map(((e,t)=>(0,B.jsx)(ue.A,{label:e,value:e},t)))}),"No Serialization"===m?(0,B.jsxs)(s.A,{direction:"row",justifyContent:"flex-end",ml:5,children:[(0,B.jsx)(qe.A,{keyValues:[{id:"name",title:"Name"},{id:"sap_id",title:"SAP ID"},{id:"hsn_code",title:"HSN CODE"},{id:"internal_id",title:"Internal ID"},{id:"serialization",title:"Serialization"},{id:"category",title:"Category"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1",value:y,onChange:e=>{j(e.target.value)}}),(0,B.jsx)(F.A,{height:"37px",placeholder:"Universal Search",onChange:e=>{f(e.target.value),(async(e,t)=>{i("fetch");const[a,n]=1===u?await z(e,t):await L(e,t);q(a),i(!1)})(y,e.target.value)}})]}):(0,B.jsx)("input",{style:{marginLeft:50},className:Ke.A.input,ref:e,height:"17px",placeholder:"Scan Code",value:H,onKeyUp:e=>async function(e){if("Enter"===e.code){if(!Q.includes(H)){Y([...Q,H]);const e=1===u?await O(H):await k(H);if(e[0]){const t=1===u?{created:e[0].material_lot.created,name:e[0].material_type.name,id:e[0].material_type.id,expected_life:e[0].material_type.expected_life,barcode:e[0].barcode}:{created:e[0].tool_lot.created,name:e[0].tool_type.name,id:e[0].tool_type.id,expected_life:e[0].tool_type.expected_life,barcode:e[0].barcode};q([...G,t])}}M("")}}(e),onChange:e=>M(e.target.value)})]}),G.length>0&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(W,{columns:V,rows:G,rowsPerPage:10,loading:"fetch"===n,titleCellClasses:"c-gray fw-700"}),(0,B.jsx)(s.A,{sx:{mt:1,alignItems:"flex-end"},children:(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:1},children:[(0,B.jsx)(F.A,{placeholder:"Internal Id",value:x,onChange:e=>{v(e.target.value)}}),(0,B.jsx)(K.A,{width:"fit-content",onClick:async()=>{""!==x?(G.map((async(e,t)=>{if("No Serialization"===m){if(!e.quantity)return;0===u?await I(e,x):U(e,x)}else 0===u?await I(e,x):U(e,x)})),q([]),Y([]),v("")):D.oR.warn("Please Fill Internal Id")},loading:n,children:"Save"})]})})]})]})},lt=()=>{(0,w.wA)(),(0,A.useRef)();const[e,t]=(0,A.useState)([]),[a,n]=(0,A.useState)(),[i,l]=(0,A.useState)(),[o,r]=(0,A.useState)(0),[c,d]=(0,A.useState)(!1),[u,h]=(0,A.useState)(0),[m,p]=(0,A.useState)(0),[x,v]=(0,A.useState)({}),[y,j]=(0,A.useState)(""),[g,f]=(0,A.useState)(""),{historyList:S,searchOutbound:C}=Pe(),{historyList:b,searchOutbound:N}=He(),[E,k]=(0,A.useState)({});(0,A.useEffect)((()=>{I()}),[u,m]);const I=async(e,a)=>{l("fetch");const[n,i]=1===m?await b(u+1):await S(u+1);t(n),r(i),l(!1)},T=async e=>{""!==y?(l("fetch"),setTimeout((async()=>{const[a,n]=1===m?await N(u+1,y,e):await C(u+1,y,e);t(a),r(n)}),1e3),l(!1)):D.oR.warn("Please Select Search by Option")},_=[{id:3,title:"Name",render:e=>{var t,a;return(null===(t=e.tool_type)||void 0===t?void 0:t.name)||(null===(a=e.material_type)||void 0===a?void 0:a.name)}},{id:4,title:"Bar Code",render:e=>e.serial_number},{id:5,title:"Internal ID",render:e=>e.internal_id},{id:6,title:"Category",render:e=>{var t,a;return(null===(t=e.tool_type)||void 0===t?void 0:t.category)||(null===(a=e.material_type)||void 0===a?void 0:a.category)}},{id:1,title:"Inbound Date",render:e=>{var t,a;return null!==(t=e.tool_lot)&&void 0!==t&&t.created?ke()(e.tool_lot.created).format("lll"):ke()(null===(a=e.material_lot)||void 0===a?void 0:a.created).format("lll")}},{id:2,title:"Outbound Date",render:e=>ke()(e.created).format("lll")}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsxs)("h1",{className:"mt-4",children:["Outbound History",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",o,")"]})]})}),(0,B.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,B.jsx)(de.A,{value:m,onChange:(e,t)=>{p(t),h(0)},children:["Tools","Materials"].map(((e,t)=>(0,B.jsx)(ue.A,{label:e,className:"fw-500",value:t},t)))}),(0,B.jsxs)(s.A,{direction:"row",justifyContent:"flex-end",children:[(0,B.jsx)(qe.A,{keyValues:[{id:"name",title:"Name"},{id:"internal_id",title:"Internal ID"},{id:"category",title:"Category"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1",value:y,onChange:e=>{j(e.target.value)}}),(0,B.jsx)(F.A,{height:"37px",placeholder:"Universal Search",onChange:e=>{f(e.target.value),T(e.target.value)},icon:(0,B.jsx)(Le.A,{onClick:()=>T(),sx:{cursor:"pointer"}})})]})]}),(0,B.jsx)(W,{columns:_,rows:e,rowsPerPage:5,loading:"fetch"===i,titleCellClasses:"c-gray fw-700",page:u,setPage:h,paginator:!0,serialize:!0,total:o})]})},ot=()=>{(0,w.wA)();const e=(0,A.useRef)(),[t,a]=(0,A.useState)([]),[n,i]=(0,A.useState)(),[s,l]=(0,A.useState)(),[o,r]=(0,A.useState)(0),[c,d]=(0,A.useState)(!1),[u,h]=(0,A.useState)(0),[m,p]=(0,A.useState)(0),[x,v]=(0,A.useState)({}),[y,j]=(0,A.useState)(),{list:g,create:f,createInbound:S,genBarCode:C}=Pe(),{list:b,create:N,createInbound:E}=He(),[k,I]=(0,A.useState)({});(0,A.useEffect)((()=>{T()}),[u,m]);const T=async()=>{l("fetch");const[e,t]=1===m?await b(u+1):await g(u+1);a(e),r(t),l(!1)};return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsxs)("h1",{className:"mt-4",children:["Store Order",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",o,")"]})]})}),(0,B.jsx)("div",{className:"flex items-center justify-between mb-3"}),(0,B.jsx)(tt,{row:k,onClose:()=>d(!1),open:"add"===c,data:x,onSubmit:async(e,t)=>{1===m?await E:await S(t,e),await T(),v({}),d(!1)},setData:v,isTool:0===m,ref:e,onGenerate:async(t,a)=>{const n=await C(t,a);i(n),n.length&&setTimeout((()=>{var t;null===(t=e.current)||void 0===t||t.handlePrintq()}),1e3)},codes:n})]})};var rt=a(2559),ct=a(9593),dt=a(9704),ut=a(2019);function ht(e){let{label:t,colorCode:a,chart:n,...i}=e;const{colors:s,series:l,options:o}=n,r=l.map((e=>e.value)),c={chart:{type:"radialBar",sparkline:{enabled:!0}},plotOptions:{radialBar:{startAngle:-90,endAngle:90,track:{background:"#e7e7e7",strokeWidth:"97%",dropShadow:{enabled:!0,left:0,color:"#999",opacity:1,blur:2}},dataLabels:{name:{show:!0,fontSize:"18px",fontWeight:600,color:a,offsetY:5},value:{show:!0,fontSize:"24px",fontFamily:"Helvetica, Arial",fontWeight:400,color:a,offsetY:-30,formatter:function(e){return e+"%"}}}}},grid:{padding:{top:1}},fill:{type:"solid",colors:[a]},labels:[t]};return(0,B.jsx)(m.A,{sx:{display:"flex",justifyContent:"center"},children:(0,B.jsx)(ut.A,{type:"radialBar",series:r,options:c})})}function mt(e){let{title:t,colorCode:a,chart:n,...i}=e;const{series:l,options:o}=n,r=l.map((e=>e.value)),c={chart:{type:"radialBar",sparkline:{enabled:!0}},plotOptions:{radialBar:{track:{color:a,background:"#e7e7e7",strokeWidth:"85%",margin:5,dropShadow:{enabled:!0,left:0,color:"#999",opacity:1,blur:1}},hollow:{size:"50%"},dataLabels:{show:!0,name:{show:!1},value:{show:!0,fontSize:"14px",color:a,offsetY:5}}}},grid:{padding:{top:1}},stroke:{lineCap:"round"},fill:{type:"solid",colors:[a]}};return(0,B.jsx)(s.A,{sx:{},dir:"ltr",children:(0,B.jsx)(ut.A,{type:"radialBar",series:r,options:c})})}const pt=e=>{let{cCode:t,mState:a}=e;const n=(0,T.Zp)();return(0,B.jsxs)(s.A,{sx:{overflow:"hidden",boxShadow:3,borderRadius:2},children:[(0,B.jsxs)(s.A,{sx:{backgroundColor:t,p:1},children:[(0,B.jsxs)(s.A,{sx:{flexDirection:"row"},children:["on"===a&&(0,B.jsx)(ct.A,{style:{color:G.lm.WHITE}}),"off"===a&&(0,B.jsx)(rt.A,{style:{color:G.lm.WHITE}}),"downtime"===a&&(0,B.jsx)(dt.A,{style:{color:G.lm.WHITE}}),(0,B.jsx)(l.A,{sx:{ml:1},children:"Line 1"})]}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[(0,B.jsx)(l.A,{variant:"subtitle2",sx:{},children:"Running"}),(0,B.jsx)(l.A,{variant:"subtitle2",sx:{alignSelf:"flex-end"},children:"Last update: July 29, 2024, 11:34 a.m."})]})]}),(0,B.jsx)(s.A,{sx:{mb:1},children:(0,B.jsx)(ht,{label:"OEE",colorCode:t,chart:{series:[{label:"OEE",value:37.77}]}})}),(0,B.jsx)(v.A,{}),(0,B.jsxs)(s.A,{sx:{p:1},children:[(0,B.jsx)(l.A,{children:"Key Metrics"}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:1},children:[(0,B.jsxs)(s.A,{sx:{justifyContent:"center",alignItems:"center",width:"33%"},children:[(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"Availablity"}),(0,B.jsx)(mt,{chart:{series:[{label:"America",value:70}]},colorCode:t})]}),(0,B.jsxs)(s.A,{sx:{justifyContent:"center",alignItems:"center",width:"33%"},children:[(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"Performance"}),(0,B.jsx)(mt,{chart:{series:[{label:"America",value:80}]},colorCode:t})]}),(0,B.jsxs)(s.A,{sx:{justifyContent:"center",alignItems:"center",width:"33%"},children:[(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"Quantity"}),(0,B.jsx)(mt,{chart:{series:[{label:"America",value:90}]},colorCode:t})]})]})]}),(0,B.jsx)(v.A,{}),(0,B.jsxs)(s.A,{sx:{p:1},children:[(0,B.jsx)(l.A,{children:"Product Metrics"}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",justifyContent:"space-between",p:1},children:[(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"Total"}),(0,B.jsx)(l.A,{children:"10000"})]}),(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"Good"}),(0,B.jsx)(l.A,{children:"10000"})]}),(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"NG"}),(0,B.jsx)(l.A,{children:"23"})]}),(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"Pass"}),(0,B.jsx)(l.A,{children:"10000"})]}),(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"Fail"}),(0,B.jsx)(l.A,{children:"333"})]})]})]}),(0,B.jsx)(v.A,{}),(0,B.jsxs)(s.A,{sx:{p:1},children:[(0,B.jsx)(l.A,{children:"Packet Per Second"}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",justifyContent:"space-between",p:1},children:[(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"Best"}),(0,B.jsx)(l.A,{children:"10000"})]}),(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"Worst"}),(0,B.jsx)(l.A,{children:"10000"})]}),(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"Average"}),(0,B.jsx)(l.A,{children:"23"})]})]})]}),(0,B.jsx)(v.A,{}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold",textDecoration:"underline",p:1,cursor:"pointer"},onClick:()=>n("/operator-portal"),children:"Operator Portal"})]})};var xt=a(1750);const At=()=>{const[e,t]=(0,A.useState)(0),[a,n]=(0,A.useState)(""),[i,o]=(0,A.useState)(""),[r,c]=(0,A.useState)({company:"",location:"",division:"",line:""});return(0,B.jsx)(s.A,{children:(0,B.jsx)(l.A,{variant:"h1",children:"404"})})},vt=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,loading:o}=e;const r=[{title:"Name",placeholder:"Enter Name",type:G.wN.INPUT,name:"username",validator:G.wY.REQUIRED},{title:"Description",placeholder:"Enter description",type:G.wN.INPUT,name:"email",validator:G.wY.REQUIRED},{title:"Product Division",placeholder:"",type:G.wN.SELECT,name:"fullname",validator:G.wY.REQUIRED}],[c,d]=(0,A.useState)(new Map);return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"ADD NEW LINE"}),(0,B.jsx)(se.A,{data:n,errors:c,onChange:e=>{const{name:t,value:a}=e.target;d((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:r}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:l,loading:o,children:"Create"})]})]})};var wt=a(4256),yt=a(8492),jt=a(4605),gt=a(3193),ft=a(1292);const St=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,loading:o,edit:r}=e;const c=[{title:"Alias",placeholder:"Enter Name",type:G.wN.INPUT,name:"alias",validator:G.wY.REQUIRED},{title:"Model",placeholder:"Enter model",type:G.wN.INPUT,name:"model",validator:G.wY.REQUIRED},{title:"Machine ID",placeholder:"Enter machine ID",type:G.wN.INPUT,name:"machineID",validator:G.wY.REQUIRED},{title:"Serial Number",placeholder:"Enter serial number",type:G.wN.INPUT,name:"snumber",validator:G.wY.REQUIRED},{title:"Supplier",placeholder:"Enter supplier",type:G.wN.INPUT,name:"supplier",validator:G.wY.REQUIRED},{title:"Purchase Date",type:G.wN.DATE,name:"purchase_date",validator:G.wY.REQUIRED},{title:"Warranty Expiration",type:G.wN.DATE,name:"warranty",validator:G.wY.REQUIRED},{title:"API Endpoint",placeholder:"Enter API Endpoint",type:G.wN.INPUT,name:"api_endpoint",validator:G.wY.REQUIRED},{title:"Ideal Cycle Time (seconds)",placeholder:"",type:G.wN.INPUT,name:"api_endpoint",validator:G.wY.REQUIRED}],[d,u]=(0,A.useState)(new Map),[h,m]=(0,A.useState)("Yes"),[p,x]=(0,A.useState)("Job/Part based"),[v,w]=(0,A.useState)("Yes");return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===r?"EDIT":"ADD"," Station"]}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:c}),(0,B.jsxs)(s.A,{mt:1,children:[(0,B.jsxs)(gt.A,{children:[(0,B.jsx)(ft.A,{sx:{color:"black"},id:"demo-row-radio-buttons-group-label",children:"Is end of line"}),(0,B.jsxs)(yt.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:h,onChange:e=>m(e.target.value),children:[(0,B.jsx)(jt.A,{value:"Yes",control:(0,B.jsx)(wt.A,{}),label:"Yes"}),(0,B.jsx)(jt.A,{value:"No",control:(0,B.jsx)(wt.A,{}),label:"No"})]})]}),(0,B.jsxs)(gt.A,{children:[(0,B.jsx)(ft.A,{sx:{color:"black"},id:"demo-row-radio-buttons-group-label",children:"Performance Calculation"}),(0,B.jsxs)(yt.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:p,onChange:e=>x(e.target.value),children:[(0,B.jsx)(jt.A,{value:"Job/Part based",control:(0,B.jsx)(wt.A,{}),label:"Job/Part based"}),(0,B.jsx)(jt.A,{value:"Output based",control:(0,B.jsx)(wt.A,{}),label:"Output based"})]})]}),(0,B.jsxs)(gt.A,{children:[(0,B.jsx)(ft.A,{sx:{color:"black"},id:"demo-row-radio-buttons-group-label",children:"Fixed Cycle Time"}),(0,B.jsxs)(yt.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:v,onChange:e=>w(e.target.value),children:[(0,B.jsx)(jt.A,{value:"Yes",control:(0,B.jsx)(wt.A,{}),label:"Yes"}),(0,B.jsx)(jt.A,{value:"No",control:(0,B.jsx)(wt.A,{}),label:"No"})]})]})]}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:l,loading:o,children:"Create"})]})]})};var Ct=a(1337),bt=a(3968);const Nt=()=>{const[e,t]=(0,A.useState)([]),[a,n]=(0,A.useState)(),[i,o]=(0,A.useState)(0),[r,c]=(0,A.useState)(!1),[d,u]=(0,A.useState)(!1),[h,m]=(0,A.useState)(0),[p,x]=(0,A.useState)(!1),[v,w]=(0,A.useState)({name:"",metadata:""}),{list:y,create:j,update:g,remove:f}=ie();(0,A.useEffect)((()=>{S()}),[h]);const S=async()=>{n("fetch");const[e,a]=await y(h+1);t(e),o(a),n(!1)},C=async()=>{const e={...v};n("fetch");let t=e.id;await g(t,e),w({}),u(!1),await S(),n(!1)};return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("h1",{className:"mt-4",children:["Machine Master",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",e.length,")"]})]}),(0,B.jsx)(K.A,{onClick:()=>u("add"),children:"Create New Line"})]}),(0,B.jsx)(l.A,{children:"Company 1 / Plant 1 / SMT"}),(0,B.jsxs)(s.A,{sx:{backgroundColor:G.lm.BLUE_OPAQUE,flexDirection:"row",mt:2,p:.5,borderRadius:1},children:[p?(0,B.jsx)(Ct.A,{sx:{cursor:"pointer"},onClick:()=>x(!1)}):(0,B.jsx)(bt.A,{sx:{cursor:"pointer"},onClick:()=>x(!0)}),(0,B.jsx)(l.A,{children:"Demo"})]}),p&&(0,B.jsx)(s.A,{sx:{mx:1},children:(0,B.jsxs)(re.Ay,{sx:{pt:1,gap:1},container:!0,direction:"row",children:[(0,B.jsx)(s.A,{sx:{backgroundColor:G.lm.BG_GRAY,borderRadius:1,width:"fit-content",p:1,px:2},onClick:()=>{u("addstation"),c(!0)},children:(0,B.jsx)(l.A,{sx:{width:"fit-content"},children:"Wire Cut"})}),(0,B.jsx)(s.A,{sx:{backgroundColor:G.lm.BG_GRAY,borderRadius:1,width:"fit-content",p:1,px:2},children:(0,B.jsx)(l.A,{sx:{width:"fit-content"},children:"CNC"})}),(0,B.jsx)(s.A,{sx:{width:"fit-content",p:1},children:(0,B.jsx)(Ie.A,{color:"primary",onClick:()=>u("addstation")})})]})}),(0,B.jsx)(vt,{open:"add"===d,onClose:()=>{u(!1),c(!1)},data:v,setData:w,onSubmit:C}),(0,B.jsx)(St,{edit:r,open:"addstation"===d,onClose:()=>{u(!1),c(!1)},data:v,setData:w,onSubmit:C})]})},Et=()=>{const{token:e}=(0,w.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":V.yw.APPLICATION_JSON};return{list:async function(){const e=new V.Ay,a=await e.get("".concat(J.H.ASSET,"/").concat(J.H.COMPANIES,"/"),{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new V.Ay,n=await a.post("".concat(J.H.ASSET,"/").concat(J.H.COMPANIES,"/"),e,t,(e=>(0,q.So)(e,null,"Company created successfully!")));return null===n||void 0===n?void 0:n.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new V.Ay,i=await n.put("".concat(J.H.ASSET,"/").concat(J.H.COMPANY,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Company Updated successfully!")));return null===i||void 0===i?void 0:i.data},remove:async e=>{const a=new V.Ay,n=await a.delete("".concat(J.H.ASSET,"/").concat(J.H.COMPANY,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Company deleted successfully!")));return null===n||void 0===n?void 0:n.data}}},kt=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,loading:o,edit:r}=e;const c=[{title:"Company Name",placeholder:"Enter Company Name",type:G.wN.INPUT,name:"name",validator:G.wY.REQUIRED}],[d,u]=(0,A.useState)(new Map);return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===r?"EDIT":"ADD"," NEW COMPANY"]}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:c}),(0,B.jsx)(Fe.A,{setItemss:null===n||void 0===n?void 0:n.metadata,setJson:e=>{i((t=>({...t,metadata:e}))),console.log("data------",e)},title:"Details"}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:l,loading:o,children:"Create"})]})]})},It=()=>{const e=(0,T.Zp)(),[t,a]=(0,A.useState)([]),[n,i]=(0,A.useState)(),[r,c]=(0,A.useState)(0),[d,u]=(0,A.useState)(!1),[h,m]=(0,A.useState)(!1),[p,x]=(0,A.useState)(0),[v,w]=(0,A.useState)({name:"",metadata:{}}),{list:y,create:j,update:g,remove:f}=Et();(0,A.useEffect)((()=>{S()}),[p]);const S=async()=>{i("fetch");const[e,t]=await y(p+1);a(e),c(t),i(!1)},C=[{id:2,title:"Company Name",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer",fontSize:20},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:6,title:"Details",render:e=>(0,B.jsx)(ze,{icon:(0,B.jsx)(Ue.A,{fontSize:"small"}),json:null===e||void 0===e?void 0:e.metadata})},{id:5,title:"Actions",render:e=>(0,B.jsxs)(s.A,{flexDirection:"row",children:[(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{w(e),u(!0),m("add")},children:(0,B.jsx)(ae.A,{color:"primary",fontSize:"small"})}),(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>(async e=>{i("fetch"),await f(e),await S(),i(!1)})(null===e||void 0===e?void 0:e.id),children:(0,B.jsx)(te.A,{color:"error",fontSize:"small"})})]})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("h1",{className:"mt-4",children:["Companies",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",t.length,")"]})]}),(0,B.jsx)(K.A,{onClick:()=>m("add"),children:"Create Company"})]}),(0,B.jsx)(W,{columns:C,rows:t,rowsPerPage:5,loading:"fetch"===n,titleCellClasses:"c-gray fw-700",page:p,setPage:x,paginator:!0,serialize:!0,total:r}),(0,B.jsx)(kt,{open:"add"===h,onClose:()=>{m(!1),u(!1)},data:v,edit:d,setData:w,onSubmit:async()=>{const e={...v};console.log("payload",e),i("fetch"),!0===d?await g(e):await j(e),w({}),m(!1),await S(),i(!1),u(!1)}})]})},Tt=()=>{const{token:e}=(0,w.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":V.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>1?arguments[1]:void 0;const a=new V.Ay,n=await a.get("".concat(J.H.ASSET,"/").concat(e,"/").concat(J.H.PLANTS,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;const n=new V.Ay,i=await n.post("".concat(J.H.ASSET,"/").concat(a,"/").concat(J.H.PLANTS,"/"),e,t,(e=>(0,q.So)(e,null,"Plant created successfully!")));return null===i||void 0===i?void 0:i.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new V.Ay,i=await n.put("".concat(J.H.ASSET,"/").concat(J.H.PLANT,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Plant Updated successfully!")));return null===i||void 0===i?void 0:i.data},remove:async e=>{const a=new V.Ay,n=await a.delete("".concat(J.H.ASSET,"/").concat(J.H.PLANT,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Plant deleted successfully!")));return null===n||void 0===n?void 0:n.data}}},Dt=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,loading:o,edit:r}=e;const c=[{title:"Plant Name",placeholder:"Enter Plant Name",type:G.wN.INPUT,name:"name",validator:G.wY.REQUIRED}],[d,u]=(0,A.useState)(new Map);return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===r?"EDIT":"ADD"," NEW PLANT"]}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:c}),(0,B.jsx)(Fe.A,{setItemss:n.metadata,setJson:e=>i((t=>({...t,metadata:e}))),title:"Details"}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:l,loading:o,children:"Create"})]})]})};var _t=a(9120);const Rt=()=>{const e=(0,T.zy)(),t=(0,T.Zp)(),a=e.state,[n,i]=(0,A.useState)([]),[r,c]=(0,A.useState)(),[d,u]=(0,A.useState)(0),[h,m]=(0,A.useState)(!1),[p,x]=(0,A.useState)(!1),[v,w]=(0,A.useState)(0),[y,j]=(0,A.useState)({name:"",metadata:{}}),{list:g,create:f,update:S,remove:C}=Tt();(0,A.useEffect)((()=>{b()}),[v]);const b=async()=>{c("fetch");const[e,t]=await g(v+1,a);i(e),u(t),c(!1)},N=[{id:1,title:"Plant Name",render:e=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>t("/divisionpage",{state:e.id}),children:e.name})},{id:2,title:"Company Name",render:e=>e.company},{id:3,title:"Details",render:e=>(0,B.jsx)(ze,{icon:(0,B.jsx)(Ue.A,{fontSize:"small"}),json:null===e||void 0===e?void 0:e.metadata})},{id:5,title:"Actions",render:e=>(0,B.jsxs)(s.A,{flexDirection:"row",children:[(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{m(!0),x("add"),j(e)},children:(0,B.jsx)(ae.A,{color:"primary",fontSize:"small"})}),(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>(async e=>{c("fetch"),await C(e),await b(),c(!1)})(null===e||void 0===e?void 0:e.id),children:(0,B.jsx)(te.A,{color:"error",fontSize:"small"})})]})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)(s.A,{sx:{flexDirection:"row",alignItems:"center"},children:[(0,B.jsx)(_t.A,{color:"primary",sx:{mr:1,cursor:"pointer"},onClick:()=>t(-1)}),(0,B.jsxs)("h1",{className:"mt-4",children:["Plant's",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",n.length,")"]})]})]}),(0,B.jsx)(K.A,{onClick:()=>x("add"),children:"Add Plant"})]}),(0,B.jsx)(W,{columns:N,rows:n,rowsPerPage:5,loading:"fetch"===r,titleCellClasses:"c-gray fw-700",page:v,setPage:w,paginator:!0,serialize:!0,total:d}),(0,B.jsx)(Dt,{open:"add"===p,onClose:()=>{x(!1),m(!1)},data:y,edit:h,setData:j,onSubmit:async()=>{const e={...y};c("fetch"),!0===h?await S(e):await f(e,a),j({}),x(!1),await b(),c(!1),m(!1)}})]})},Pt=()=>{const{token:e}=(0,w.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":V.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>1?arguments[1]:void 0;const a=new V.Ay,n=await a.get("".concat(J.H.ASSET,"/").concat(e,"/").concat(J.H.DIVISIONS,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;const n=new V.Ay,i=await n.post("".concat(J.H.ASSET,"/").concat(a,"/").concat(J.H.DIVISIONS,"/"),e,t,(e=>(0,q.So)(e,null,"Division created successfully!")));return null===i||void 0===i?void 0:i.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new V.Ay,i=await n.put("".concat(J.H.ASSET,"/").concat(J.H.DIVISION,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Division Updated successfully!")));return null===i||void 0===i?void 0:i.data},remove:async e=>{const a=new V.Ay,n=await a.delete("".concat(J.H.ASSET,"/").concat(J.H.DIVISION,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Division deleted successfully!")));return null===n||void 0===n?void 0:n.data}}},Ut=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,loading:o,edit:r}=e;const c=[{title:"Division Name",placeholder:"Enter Division Name",type:G.wN.INPUT,name:"name",validator:G.wY.REQUIRED}],[d,u]=(0,A.useState)(new Map);return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===r?"EDIT":"ADD"," NEW DIVISION"]}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:c}),(0,B.jsx)(Fe.A,{setItemss:n.metadata,setJson:e=>i((t=>({...t,metadata:e}))),title:"Details"}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:l,loading:o,children:"Create"})]})]})},Ot=()=>{const e=(0,T.zy)(),t=(0,T.Zp)(),a=e.state,[n,i]=(0,A.useState)([]),[r,c]=(0,A.useState)(),[d,u]=(0,A.useState)(0),[h,m]=(0,A.useState)(!1),[p,x]=(0,A.useState)(!1),[v,w]=(0,A.useState)(0),[y,j]=(0,A.useState)({name:"",metadata:{}}),{list:g,create:f,update:S,remove:C}=Pt();(0,A.useEffect)((()=>{b()}),[v]);const b=async()=>{c("fetch");const[e,t]=await g(v+1,a);i(e),u(t),c(!1)},N=[{id:1,title:"Division Name",render:e=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>t("/line",{state:e.id}),children:e.name})},{id:2,title:"Plant Name",render:e=>e.plant},{id:6,title:"Details",render:e=>(0,B.jsx)(ze,{icon:(0,B.jsx)(Ue.A,{fontSize:"small"}),json:null===e||void 0===e?void 0:e.metadata})},{id:5,title:"Actions",render:e=>(0,B.jsxs)(s.A,{flexDirection:"row",children:[(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{m(!0),x("add"),j(e)},children:(0,B.jsx)(ae.A,{color:"primary",fontSize:"small"})}),(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>(async e=>{c("fetch"),await C(e),await b(),c(!1)})(null===e||void 0===e?void 0:e.id),children:(0,B.jsx)(te.A,{color:"error",fontSize:"small"})})]})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)(s.A,{sx:{flexDirection:"row",alignItems:"center"},children:[(0,B.jsx)(_t.A,{color:"primary",sx:{mr:1,cursor:"pointer"},onClick:()=>t(-1)}),(0,B.jsxs)("h1",{className:"mt-4",children:["Division's",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",n.length,")"]})]})]}),(0,B.jsx)(K.A,{onClick:()=>x("add"),children:"Add Division"})]}),(0,B.jsx)(W,{columns:N,rows:n,rowsPerPage:5,loading:"fetch"===r,titleCellClasses:"c-gray fw-700",page:v,setPage:w,paginator:!0,serialize:!0,total:d}),(0,B.jsx)(Ut,{open:"add"===p,onClose:()=>{x(!1),m(!1)},data:y,edit:h,setData:j,onSubmit:async()=>{const e={...y};c("fetch"),!0===h?await S(e):await f(e,a),j({}),x(!1),await b(),c(!1),m(!1)}})]})},Lt=()=>{const{token:e}=(0,w.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":V.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>1?arguments[1]:void 0;const a=new V.Ay,n=await a.get("".concat(J.H.ASSET,"/").concat(e,"/").concat(J.H.LINES,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;const n=new V.Ay,i=await n.post("".concat(J.H.ASSET,"/").concat(a,"/").concat(J.H.LINES,"/"),e,t,(e=>(0,q.So)(e,null,"Line created successfully!")));return null===i||void 0===i?void 0:i.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new V.Ay,i=await n.put("".concat(J.H.ASSET,"/").concat(J.H.LINE,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Line Updated successfully!")));return null===i||void 0===i?void 0:i.data},remove:async e=>{const a=new V.Ay,n=await a.delete("".concat(J.H.ASSET,"/").concat(J.H.LINE,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Line deleted successfully!")));return null===n||void 0===n?void 0:n.data}}},zt=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,loading:o,edit:r}=e;const c=[{title:"Line Name",placeholder:"Enter Line Name",type:G.wN.INPUT,name:"name",validator:G.wY.REQUIRED}],[d,u]=(0,A.useState)(new Map);return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===r?"EDIT":"ADD"," NEW LINE"]}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:c}),(0,B.jsx)(Fe.A,{setItemss:n.metadata,setJson:e=>i((t=>({...t,metadata:e}))),title:"Details"}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:l,loading:o,children:"Create"})]})]})},Ht=()=>{const e=(0,T.zy)(),t=(0,T.Zp)(),a=e.state,[n,i]=(0,A.useState)([]),[r,c]=(0,A.useState)(),[d,u]=(0,A.useState)(0),[h,m]=(0,A.useState)(!1),[p,x]=(0,A.useState)(!1),[v,w]=(0,A.useState)(0),[y,j]=(0,A.useState)({name:"",metadata:{}}),{list:g,create:f,update:S,remove:C}=Lt();(0,A.useEffect)((()=>{b()}),[v]);const b=async()=>{c("fetch");const[e,t]=await g(v+1,a);i(e),u(t),c(!1)},N=[{id:1,title:"Line Name",render:e=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>t("/asset",{state:e.id}),children:e.name})},{id:2,title:"Division Name",render:e=>e.division},{id:3,title:"Details",render:e=>(0,B.jsx)(ze,{icon:(0,B.jsx)(Ue.A,{fontSize:"small"}),json:null===e||void 0===e?void 0:e.metadata})},{id:5,title:"Actions",render:e=>(0,B.jsxs)(s.A,{flexDirection:"row",children:[(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{m(!0),x("add"),j(e)},children:(0,B.jsx)(ae.A,{color:"primary",fontSize:"small"})}),(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>(async e=>{c("fetch"),await C(e),await b(),c(!1)})(null===e||void 0===e?void 0:e.id),children:(0,B.jsx)(te.A,{color:"error",fontSize:"small"})})]})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)(s.A,{sx:{flexDirection:"row",alignItems:"center"},children:[(0,B.jsx)(_t.A,{color:"primary",sx:{mr:1,cursor:"pointer"},onClick:()=>t(-1)}),(0,B.jsxs)("h1",{className:"mt-4",children:["Line's",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",n.length,")"]})]})]}),(0,B.jsx)(K.A,{onClick:()=>x("add"),children:"Add Line"})]}),(0,B.jsx)(W,{columns:N,rows:n,rowsPerPage:5,loading:"fetch"===r,titleCellClasses:"c-gray fw-700",page:v,setPage:w,paginator:!0,serialize:!0,total:d}),(0,B.jsx)(zt,{open:"add"===p,onClose:()=>{x(!1),m(!1)},data:y,edit:h,setData:j,onSubmit:async()=>{const e={...y};c("fetch"),!0===h?await S(e):await f(e,a),j({}),x(!1),await b(),c(!1),m(!1)}})]})},Mt=()=>{const{token:e}=(0,w.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":V.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>1?arguments[1]:void 0;const a=new V.Ay,n=await a.get("".concat(J.H.ASSET,"/").concat(e,"/").concat(J.H.ASSETS,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;const n=new V.Ay,i=await n.post("".concat(J.H.ASSET,"/").concat(a,"/").concat(J.H.ASSETS,"/"),e,t,(e=>(0,q.So)(e,null,"Asset created successfully!")));return null===i||void 0===i?void 0:i.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new V.Ay,i=await n.put("".concat(J.H.ASSET,"/").concat(J.H.ASSET,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Asset Updated successfully!")));return null===i||void 0===i?void 0:i.data},remove:async e=>{const a=new V.Ay,n=await a.delete("".concat(J.H.ASSET,"/").concat(J.H.ASSET,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Asset deleted successfully!")));return null===n||void 0===n?void 0:n.data}}},Qt=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,loading:o,edit:r}=e;const c=[{title:"Asset Name",placeholder:"Enter asset Name",type:G.wN.INPUT,name:"name",validator:G.wY.REQUIRED}],[d,u]=(0,A.useState)(new Map);return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===r?"EDIT":"ADD"," NEW LINE"]}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:c}),(0,B.jsx)(Fe.A,{setItemss:n.metadata,setJson:e=>i((t=>({...t,metadata:e}))),title:"Details"}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:l,loading:o,children:"Create"})]})]})},Yt=()=>{const e=(0,T.zy)(),t=(0,T.Zp)(),a=e.state,[n,i]=(0,A.useState)([]),[l,r]=(0,A.useState)(),[c,d]=(0,A.useState)(0),[u,h]=(0,A.useState)(!1),[m,p]=(0,A.useState)(!1),[x,v]=(0,A.useState)(0),[w,y]=(0,A.useState)({name:"",metadata:{}}),{list:j,create:g,update:f,remove:S}=Mt();(0,A.useEffect)((()=>{C()}),[x]);const C=async()=>{r("fetch");const[e,t]=await j(x+1,a);i(e),d(t),r(!1)},b=[{id:1,title:"Asset Name",render:e=>e.name},{id:2,title:"Line Name",render:e=>e.line},{id:6,title:"Details",render:e=>(0,B.jsx)(ze,{icon:(0,B.jsx)(Ue.A,{fontSize:"small"}),json:null===e||void 0===e?void 0:e.metadata})},{id:5,title:"Actions",render:e=>(0,B.jsxs)(s.A,{flexDirection:"row",children:[(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{h(!0),p("add"),y(e)},children:(0,B.jsx)(ae.A,{color:"primary",fontSize:"small"})}),(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>(async e=>{r("fetch"),await S(e),await C(),r(!1)})(null===e||void 0===e?void 0:e.id),children:(0,B.jsx)(te.A,{color:"error",fontSize:"small"})})]})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)(s.A,{sx:{flexDirection:"row",alignItems:"center"},children:[(0,B.jsx)(_t.A,{color:"primary",sx:{mr:1,cursor:"pointer"},onClick:()=>t(-1)}),(0,B.jsxs)("h1",{className:"mt-4",children:["Asset's",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",n.length,")"]})]})]}),(0,B.jsx)(K.A,{onClick:()=>p("add"),children:"Add Asset"})]}),(0,B.jsx)(W,{columns:b,rows:n,rowsPerPage:5,loading:"fetch"===l,titleCellClasses:"c-gray fw-700",page:x,setPage:v,paginator:!0,serialize:!0,total:c}),(0,B.jsx)(Qt,{open:"add"===m,onClose:()=>{p(!1),h(!1)},data:w,edit:u,setData:y,onSubmit:async()=>{const e={...w};r("fetch"),!0===u?await f(e):await g(e,a),y({}),p(!1),await C(),r(!1),h(!1)}})]})},Ft=()=>{const{token:e}=(0,w.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":V.yw.APPLICATION_JSON};return{list:async function(){const e=new V.Ay,a=await e.get("".concat(J.H.ASSET,"/").concat(J.H.GROUPS,"/"),{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new V.Ay,n=await a.post("".concat(J.H.ASSET,"/").concat(J.H.GROUPS,"/"),e,t,(e=>(0,q.So)(e,null,"Group created successfully!")));return null===n||void 0===n?void 0:n.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new V.Ay,i=await n.put("".concat(J.H.ASSET,"/").concat(J.H.GROUP,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Group Updated successfully!")));return null===i||void 0===i?void 0:i.data},remove:async e=>{const a=new V.Ay,n=await a.delete("".concat(J.H.ASSET,"/").concat(J.H.GROUP,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Group deleted successfully!")));return null===n||void 0===n?void 0:n.data},allAssets:async function(){const e=new V.Ay,a=await e.get("".concat(J.H.ASSET,"/").concat(J.H.ALLASSETS,"/"),{},t);return null!==a&&void 0!==a&&a.data?[null===a||void 0===a?void 0:a.data]:[[],0]},groupAsset:async e=>{const a=new V.Ay,n=await a.get("".concat(J.H.ASSET,"/").concat(J.H.GROUP,"/").concat(e,"/"),{},t);return null===n||void 0===n?void 0:n.data},updateAssets:async(e,a)=>{const n=new V.Ay,i=await n.put("".concat(J.H.ASSET,"/").concat(J.H.GROUP,"/").concat(a,"/"),e,t);return null===i||void 0===i?void 0:i.data}}},Gt=()=>{const{token:e}=(0,w.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":V.yw.APPLICATION_JSON};return{list:async function(){const e=new V.Ay,a=await e.get("".concat(J.H.OPERATOR,"-").concat(J.H.GROUPS,"/"),{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new V.Ay,n=await a.post("".concat(J.H.OPERATOR,"-").concat(J.H.GROUPS,"/"),e,t,(e=>(0,q.So)(e,null,"Group created successfully!")));return null===n||void 0===n?void 0:n.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new V.Ay,i=await n.put("".concat(J.H.OPERATOR,"-").concat(J.H.GROUP,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Group Updated successfully!")));return null===i||void 0===i?void 0:i.data},remove:async e=>{const a=new V.Ay,n=await a.delete("".concat(J.H.OPERATOR,"-").concat(J.H.GROUP,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Group deleted successfully!")));return null===n||void 0===n?void 0:n.data},allOperator:async function(){const e=new V.Ay,a=await e.get("".concat(J.H.OPERATORS,"/"),{},t);var n;return null!==a&&void 0!==a&&a.data?[null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.results]:[[],0]},groupOp:async e=>{const a=new V.Ay,n=await a.get("".concat(J.H.OPERATOR,"-").concat(J.H.GROUP,"/").concat(e,"/"),{},t);return null===n||void 0===n?void 0:n.data},updateAssets:async(e,a)=>{const n=new V.Ay,i=await n.put("".concat(J.H.OPERATOR,"-").concat(J.H.GROUP,"/").concat(a,"/"),e,t);return null===i||void 0===i?void 0:i.data}}},Bt=()=>{const{token:e}=(0,w.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":V.yw.APPLICATION_JSON};return{list:async function(){const e=new V.Ay,a=await e.get("".concat(J.H.USER,"-").concat(J.H.GROUPS,"/"),{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new V.Ay,n=await a.post("".concat(J.H.USER,"-").concat(J.H.GROUPS,"/"),e,t,(e=>(0,q.So)(e,null,"Group created successfully!")));return null===n||void 0===n?void 0:n.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new V.Ay,i=await n.put("".concat(J.H.USER,"-").concat(J.H.GROUP,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Group Updated successfully!")));return null===i||void 0===i?void 0:i.data},remove:async e=>{const a=new V.Ay,n=await a.delete("".concat(J.H.USER,"-").concat(J.H.GROUP,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Group deleted successfully!")));return null===n||void 0===n?void 0:n.data},allUser:async function(){const e=new V.Ay,a=await e.get("".concat(J.H.USERS,"/"),{},t);return null!==a&&void 0!==a&&a.data?[null===a||void 0===a?void 0:a.data]:[[],0]},updateAssets:async(e,a)=>{const n=new V.Ay,i=await n.put("".concat(J.H.USER,"-").concat(J.H.GROUP,"/").concat(a,"/"),e,t);return null===i||void 0===i?void 0:i.data},groupUser:async e=>{const a=new V.Ay,n=await a.get("".concat(J.H.USER,"-").concat(J.H.GROUP,"/").concat(e,"/"),{},t);return null===n||void 0===n?void 0:n.data}}};var Wt=a(5502);const qt=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:o,loading:r,edit:c,tab:d}=e;const{allAssets:u,groupAsset:h,updateAssets:m}=Ft(),{allOperator:p,groupOp:x,updateAssets:v}=Gt(),{allUser:y,groupUser:j,updateAssets:g}=Bt(),[f,S]=(0,A.useState)(new Map),[C,b]=(0,A.useState)([]),[N,E]=(0,A.useState)([]),[k,I]=(0,A.useState)([]),T=(0,w.d4)((e=>{var t,a;return null===e||void 0===e||null===(t=e.SelectedId)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.id})),D=(0,w.d4)((e=>{var t,a;return null===e||void 0===e||null===(t=e.SelectedId)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.name}));(0,A.useLayoutEffect)((()=>{R()}),[""!==T]);const _=async(e,t)=>{let a=t;e.map((e=>{a.map(((t,n)=>{if(t.id===e.id){a.indexOf(t);a.splice(n,1)}}))})),b(a)},R=async()=>{if("Machines"===d){var e;const[t]=await u(),a=await h(T);_(a.assets,t),(null===(e=a.assets)||void 0===e?void 0:e.length)>0&&E(a.assets)}else if("Operators"===d){var t;const[e]=await p(),a=await x(T);_(a.operators,e),(null===(t=a.operators)||void 0===t?void 0:t.length)>0&&E(a.operators)}else if("Users"===d){var a;const[e]=await y(),t=await j(T);_(t.users,e),(null===(a=t.users)||void 0===a?void 0:a.length)>0&&E(t.users)}},P=async(e,t)=>{const a={remove:[e]},n={add:[e]};"Machines"===d?await m("add"===t?n:a,T):"Operators"===d?await v("add"===t?n:a,T):"Users"===d&&await g("add"===t?n:a,T),R()};return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(800px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",style:{textTransform:"capitalize"},children:["(",D,") ",d," Management"]}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",justifyContent:"space-between",mb:1,gap:1,height:400},children:[(0,B.jsxs)(s.A,{sx:{width:"49%",border:1,borderRadius:2,borderColor:G.lm.PRIMARY,p:1,overflow:"scroll",scrollbarWidth:"none"},children:[(0,B.jsxs)(l.A,{sx:{px:1},children:[d," in Group"]}),N.map(((e,t)=>(0,B.jsxs)(s.A,{sx:{flexDirection:"row",backgroundColor:G.lm.GREEN_OPAQUE,mt:.5,borderRadius:2,width:"fit-content",px:.5},children:[(0,B.jsxs)(l.A,{variant:"h6",sx:{textTransform:"capitalize"},children:[t+1,". ",e.name||e.fullname||e.username]},e.name),(0,B.jsx)(Wt.A,{fontSize:"small",sx:{color:G.lm.DARK_RED,m:.2,cursor:"pointer"},onClick:()=>P(e.id,"remove")})]},t)))]}),(0,B.jsxs)(s.A,{sx:{width:"49%",border:1,borderRadius:2,borderColor:G.lm.PRIMARY,p:1,overflow:"scroll",scrollbarWidth:"none"},children:[(0,B.jsxs)(l.A,{sx:{px:1},children:["All ",d]}),C.map(((e,t)=>(0,B.jsxs)(s.A,{sx:{flexDirection:"row",backgroundColor:G.lm.GREEN_OPAQUE,mt:.5,borderRadius:2,width:"fit-content",px:.5},children:[(0,B.jsxs)(l.A,{variant:"h6",sx:{textTransform:"capitalize"},children:[t+1,". ",e.name||e.fullname||e.username]},e.name),(0,B.jsx)(Ie.A,{fontSize:"small",sx:{color:G.lm.DARK_GREEN,m:.2,cursor:"pointer"},onClick:()=>P(e.id,"add")})]},t)))]})]})]})},Vt=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,loading:o,edit:r}=e;const c=[{title:"Group Name",placeholder:"Enter Group Name",type:G.wN.INPUT,name:"name",validator:G.wY.REQUIRED}],[d,u]=(0,A.useState)(new Map);return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===r?"EDIT":"ADD"," NEW GROUP"]}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:c}),(0,B.jsx)(Fe.A,{setItemss:n.metadata,setJson:e=>i((t=>({...t,metadata:e}))),title:"Details"}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:l,loading:o,children:"Create"})]})]})};var Jt=a(7404);const Xt=()=>{const e=(0,w.wA)(),[t,a]=((0,T.zy)(),(0,T.Zp)(),(0,A.useState)("Users")),[n,i]=(0,A.useState)([]),[r,c]=(0,A.useState)(),[d,u]=(0,A.useState)(0),[h,m]=(0,A.useState)(!1),[p,x]=(0,A.useState)(!1),[v,y]=(0,A.useState)(0),[j,g]=(0,A.useState)({name:"",metadata:{}}),{list:f,create:S,update:C,remove:b}=Ft(),{list:N,create:E,update:k,remove:I}=Gt(),{list:D,create:_,update:R,remove:P}=Bt();(0,A.useEffect)((()=>{U()}),[v,t]);const U=async()=>{c("fetch");const[e,a]="Machines"===t?await f(v+1):await D(v+1);i(e),u(a),c(!1)},O=async()=>{const e={...j};c("fetch"),!0===h?"Machines"===t?await C(e):"Operators"===t?await k(e):await R(e):"Machines"===t?await S(e):"Operators"===t?await E(e):await _(e),g({name:"",metadata:{}}),x(!1),await U(),c(!1),m(!1)},L=[{id:1,title:"Group Name",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer",fontSize:20},onClick:()=>{e((0,Jt.z)({id:t.id,name:t.name})),x("addremove")},children:t.name})},{id:3,title:"Details",render:e=>(0,B.jsx)(ze,{icon:(0,B.jsx)(Ue.A,{fontSize:"small"}),json:null===e||void 0===e?void 0:e.metadata})},{id:5,title:"Actions",render:e=>(0,B.jsxs)(s.A,{flexDirection:"row",children:[(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{m(!0),x("add"),g(e)},children:(0,B.jsx)(ae.A,{color:"primary",fontSize:"small"})}),(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>(async e=>{c("fetch"),"Machines"===t?await b(e):"Operators"===t?await I(e):await P(e),await U(),c(!1)})(null===e||void 0===e?void 0:e.id),children:(0,B.jsx)(te.A,{color:"error",fontSize:"small"})})]})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)(de.A,{value:t,onChange:(e,t)=>{a(t),y(0)},className:"mb-2 fw-500",children:["Users","Machines"].map(((e,t)=>(0,B.jsx)(ue.A,{label:e,className:"fw-500",value:e})))}),(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsx)(s.A,{sx:{flexDirection:"row",alignItems:"center"},children:(0,B.jsxs)("h1",{className:"mt-4",children:[t," Group's",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",n.length,")"]})]})}),(0,B.jsxs)(K.A,{onClick:()=>x("add"),children:["Add ",t," Group"]})]}),(0,B.jsx)(W,{columns:L,rows:n,rowsPerPage:5,loading:"fetch"===r,titleCellClasses:"c-gray fw-700",page:v,setPage:y,paginator:!0,serialize:!0,total:d}),(0,B.jsx)(Vt,{open:"add"===p,onClose:()=>{x(!1),m(!1)},data:j,edit:h,setData:g,onSubmit:O}),"addremove"===p&&(0,B.jsx)(qt,{open:"addremove"===p,onClose:()=>{x(!1)},data:j,setData:g,onSubmit:O,tab:t})]})},Zt=()=>{const{token:e}=(0,w.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":V.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>1?arguments[1]:void 0;const a=new V.Ay,n=await a.get("".concat(e,"/").concat(J.H.USERS,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},create:async(e,a)=>{const n=new V.Ay,i=await n.post("".concat(a,"/").concat(J.H.USERS,"/"),e,t,(e=>(0,q.So)(e,null,"User created successfully!")));return null===i||void 0===i?void 0:i.data},update:async(e,a,n)=>{const i=new V.Ay,s=await i.put("".concat(e,"/").concat(J.H.USER,"/").concat(a,"/"),n,t,(e=>(0,q.So)(e,null,"User Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{if(!e)return;const a=new V.Ay,n=await a.delete("".concat(J.H.USER,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"User deleted successfully!")));return null===n||void 0===n?void 0:n.data},opratorList:async function(){let e=arguments.length>1?arguments[1]:void 0;const a=new V.Ay,n=await a.get("".concat(e,"/").concat(J.H.OPERATORS,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},createOperator:async(e,a)=>{const n=new V.Ay,i=await n.post("".concat(a,"/").concat(J.H.OPERATORS,"/"),e,t,(e=>(0,q.So)(e,null,"Operator created successfully!")));return null===i||void 0===i?void 0:i.data},updateOperator:async(e,a)=>{const n=new V.Ay,i=await n.put("".concat(J.H.OPERATOR,"/").concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"Operator Updated successfully!")));return null===i||void 0===i?void 0:i.data},removeOperator:async e=>{if(!e)return;const a=new V.Ay,n=await a.delete("".concat(J.H.OPERATOR,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Operator deleted successfully!")));return null===n||void 0===n?void 0:n.data}}},Kt=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,loading:o,tab:r}=e;const c=[{title:"User Name",placeholder:"Enter User Name",type:G.wN.INPUT,name:"username",validator:G.wY.REQUIRED},{title:"Email",placeholder:"Enter Email",type:G.wN.INPUT,name:"email"},{title:"Full Name",placeholder:"Enter Full Name",type:G.wN.INPUT,name:"fullname"}],d=[{title:"Employee Id",placeholder:"Employee Id",type:G.wN.INPUT,name:"employee_id",validator:G.wY.REQUIRED},{title:"Full Name",placeholder:"Enter Full Name",type:G.wN.INPUT,name:"fullname"}],[u,h]=(0,A.useState)(new Map);return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:["ADD ",r]}),(0,B.jsx)(se.A,{data:n,errors:u,onChange:e=>{const{name:t,value:a}=e.target;h((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:"Users"===r?c:d}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:async()=>{const e=(0,le.bG)(c,n);h(e),e.size||l()},loading:o,children:"Create"})]})]})},$t=()=>{const e=(0,T.zy)(),t=((0,T.Zp)(),null===e||void 0===e?void 0:e.state),{list:a,opratorList:n,create:i,createOperator:s,update:l}=Zt(),[r,c]=(0,A.useState)("Users"),[d,u]=(0,A.useState)([]),[h,m]=(0,A.useState)(),[p,x]=(0,A.useState)(0),[v,w]=(0,A.useState)(0),[y,j]=(0,A.useState)(!1),[g,f]=(0,A.useState)({});(0,A.useEffect)((()=>{S()}),[v,r]);const S=async()=>{m("fetch");const[e,n]=await a(v+1,t);u(e),x(n),m(!1)},C=[{id:1,title:"Email",render:e=>e.email},{id:2,title:"User Name",render:e=>e.username},{id:3,title:"Full Name",render:e=>e.fullname},{id:4,title:"Employee Id",render:e=>e.employee_id},{id:5,title:"Role",render:e=>(0,B.jsx)(me,{title:e.is_admin?"admin":"Na"})},{id:6,title:"Action",render:e=>(0,B.jsx)(Ne.A,{title:e.is_admin?"Remove Admin":"Make Admin",children:(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>b(null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.is_admin),children:(0,B.jsx)(be.A,{color:e.is_admin?"error":"success",fontSize:"small"})})})}],b=async(e,a)=>{m("fetch");const n={is_admin:!0!==a};await l(t,e,n),await S(),m(!1)};return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("h1",{className:"mt-4",children:[r,(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",d.length,")"]})]}),(0,B.jsxs)(K.A,{onClick:()=>j(!0),children:["Create ",r]})]}),(0,B.jsx)(W,{columns:C,rows:d,rowsPerPage:10,loading:"fetch"===h,titleCellClasses:"c-gray fw-700",page:v,setPage:w,paginator:!0,serialize:!0,total:p}),(0,B.jsx)(Kt,{open:y,onClose:()=>j(!1),data:g,setData:f,onSubmit:async()=>{const e={...g};m("fetch"),"Users"===r?await i(e,t):await s(e,t),f({}),j(!1),await S(),m(!1)},loading:"add"===h,tab:r})]})},ea=()=>{const[e,t]=(0,A.useState)(0),[a,n]=(0,A.useState)(""),[i,l]=(0,A.useState)(""),[o,r]=(0,A.useState)({company:"",location:"",division:"",line:""});return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(s.A,{sx:{p:2,justifyContent:"space-between",flexDirection:"row"},children:[(0,B.jsx)(de.A,{value:e,onChange:(e,a)=>{t(a)},children:["Kanban View","Table View"].map(((e,t)=>(0,B.jsx)(ue.A,{label:e,className:"fw-500",value:t})))}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row"},children:[(0,B.jsx)(qe.A,{keyValues:[{id:"All",title:"All"},{id:"company list",title:"company list"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Company",classes:"mr-1",value:o.company,onChange:e=>r({...o,company:e.target.value})}),(0,B.jsx)(qe.A,{keyValues:[{id:"All",title:"All"},{id:"location list",title:"location list"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Location",classes:"mr-1",value:o.location,onChange:e=>r({...o,location:e.target.value})}),(0,B.jsx)(qe.A,{keyValues:[{id:"All",title:"All"},{id:"division list",title:"division list"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Division",classes:"mr-1",value:o.division,onChange:e=>r({...o,division:e.target.value})}),(0,B.jsx)(qe.A,{keyValues:[{id:"All",title:"All"},{id:"line list",title:"line list"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Line/Cell",classes:"mr-1",value:o.line,onChange:e=>r({...o,line:e.target.value})}),(0,B.jsx)(xt.A,{width:"fit-content"})]})]}),0===e?(0,B.jsxs)(re.Ay,{display:"grid",sx:{gap:1,p:2},gridTemplateColumns:{sm:"repeat(3, 1fr)",xs:"repeat(3, 1fr)"},children:[(0,B.jsx)(pt,{cCode:G.lm.RED,mState:"off"}),(0,B.jsx)(pt,{cCode:G.lm.YELLOW,mState:"downtime"}),(0,B.jsx)(pt,{cCode:G.lm.GREEN,mState:"on"})]}):(0,B.jsxs)(s.A,{sx:{p:2},children:[(0,B.jsxs)(s.A,{direction:"row",justifyContent:"flex-end",sx:{mb:1},children:[(0,B.jsx)(qe.A,{keyValues:[{id:"Division",title:"Division"},{id:"Line",title:"Line"},{id:"OEE",title:"OEE"},{id:"Availability",title:"Availability"},{id:"Performance",title:"Performance"},{id:"Quality",title:"Quality"},{id:"Total Cycle Time",title:"Total Cycle Time"},{id:"Total Downtime",title:"Total Downtime"},{id:"Total Available Time",title:"Total Available Time"},{id:"Pass",title:"Pass"},{id:"Fail",title:"Fail"},{id:"Status",title:"Status"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1",value:a,onChange:e=>n(e.target.value)}),(0,B.jsx)(F.A,{height:"37px",placeholder:"Universal Search",value:i,onChange:e=>{l(e.target.value)}})]}),(0,B.jsx)(W,{columns:[{id:42,title:"Division",render:e=>e.name},{id:1,title:"Line",render:e=>e.sap_id},{id:2,title:"OEE",render:e=>e.hsn_code},{id:3,title:"Availability",render:e=>1===e.serialization_method?"No Serialization":2===e.serialization_method?"Use Pre-Generated ID":3===e.serialization_method?"Use Own ID":"-"},{id:4,title:"Performance",render:e=>e.vendor_part_id},{id:5,title:"Quality",render:e=>null===e||void 0===e?void 0:e.category},{id:6,title:"Total Cycle Time",render:e=>e.hsn_code},{id:7,title:"Total Downtime",render:e=>e.hsn_code},{id:8,title:"Total Available Time",render:e=>e.hsn_code},{id:9,title:"Pass",render:e=>e.hsn_code},{id:10,title:"Fail",render:e=>e.hsn_code},{id:11,title:"Status",render:e=>e.hsn_code},{id:12,title:"Last Event Received At",render:e=>e.hsn_code},{id:13,title:"Details",render:e=>e.hsn_code}],rowsPerPage:5,titleCellClasses:"c-gray fw-700 text text-nowrap",paginator:!0,serialize:!0})]})]})},ta=()=>{const[e,t]=(0,A.useState)([]),[a,n]=(0,A.useState)(!1),i={chart:{height:350,type:"rangeBar"},plotOptions:{bar:{horizontal:!0,barHeight:"50%",rangeBarGroupRows:!0}},colors:["#008000","#ff0000","#ffff00"],fill:{type:"solid"},xaxis:{type:"datetime",labels:{formatter:e=>ke()(e).format("LT")}},tooltip:{custom:function(e){const t=new Date(e.y1).getFullYear(),a=new Date(e.y2).getFullYear(),n=e.ctx.w;let i=n.globals.labels[e.dataPointIndex],s=n.config.series[e.seriesIndex].name?n.config.series[e.seriesIndex].name:"";return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+n.globals.colors[e.seriesIndex]+'">'+(s||"")+'</span></div><div> <span class="category">'+i+' </span> <span class="value start-value">'+t+'</span> <span class="separator">-</span> <span class="value end-value">'+a+"</span></div></div>"}}},l=[{startTime:1722495760,endTime:1722495794},{startTime:1722495848,endTime:1722495919},{startTime:1722495986,endTime:1722496049},{startTime:1722496049,endTime:1722496092}];(0,A.useLayoutEffect)((()=>{!async function(){const e=[];(e=>{for(let t=0;t<e.length-1;t++){const a=e[t].endTime,n=e[t+1].startTime;300>Math.abs(a-n)&&(e[t+1].startTime=a)}return e})(l).map((t=>{let a={x:"State",y:[t.startTime,t.endTime]};e.push(a)})),t(e),n(!0)}()}),[]);const o=[{name:"Online",data:e}];return console.log("new obj",e),(0,B.jsx)(s.A,{sx:{width:"95%"},children:a&&(0,B.jsx)(ut.A,{options:i,series:o,type:"rangeBar",height:200})})};a(4951);const aa=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,loading:o,edit:r}=e;const c=[{title:"Name",placeholder:"Enter Name",type:G.wN.INPUT,name:"name",validator:G.wY.REQUIRED},{title:"Lines",placeholder:"Enter Line",type:G.wN.INPUT,name:"Line",validator:G.wY.REQUIRED},{title:"Threshold (seconds)",placeholder:"Enter Name",type:G.wN.INPUT,name:"name",validator:G.wY.REQUIRED},{title:"Status",type:G.wN.RADIO,name:"status",keyValues:[{value:"1",label:"Enable"},{value:"2",label:"Disable"}]}],[d,u]=(0,A.useState)(new Map);return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===r?"EDIT":"ADD"," DOWNTIME REASON"]}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:c}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:l,loading:o,children:"Create"})]})]})},na=()=>{const e=(0,T.Zp)(),[t,a]=(0,A.useState)([]),[n,i]=(0,A.useState)(),[r,c]=(0,A.useState)(0),[d,u]=(0,A.useState)(!1),[h,m]=(0,A.useState)(!1),[p,x]=(0,A.useState)(0),[v,w]=(0,A.useState)({name:"",metadata:{}}),{list:y,create:j,update:g,remove:f}=Et(),S=async()=>{i("fetch");const[e,t]=await y(p+1);a(e),c(t),i(!1)},C=[{id:1,title:"Name",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:2,title:"Effective Downtime",render:e=>e.name},{id:3,title:"Created By",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:4,title:"Created on",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:7,title:"Status",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:8,title:"Lines",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:2,title:"Threshold",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:5,title:"Action",render:e=>(0,B.jsx)(s.A,{flexDirection:"row",children:(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{w(e),u(!0),m("add")},children:(0,B.jsx)(ae.A,{color:"primary",fontSize:"small"})})})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("h1",{className:"mt-4",children:["Downtime Master",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",t.length,")"]})]}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:1},children:[(0,B.jsx)(K.A,{onClick:()=>m("add"),children:"Add Downtime Reason"}),(0,B.jsx)(K.A,{children:"Default Downtime Reason"})]})]}),(0,B.jsxs)(s.A,{direction:"row",justifyContent:"flex-end",sx:{mb:1},children:[(0,B.jsx)(qe.A,{keyValues:[{id:"name",title:"Name"},{id:"sap_id",title:"SAP ID"},{id:"hsn_code",title:"HSN CODE"},{id:"internal_id",title:"Internal ID"},{id:"serialization",title:"Serialization"},{id:"category",title:"Category"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1"}),(0,B.jsx)(F.A,{height:"37px",placeholder:"Universal Search"})]}),(0,B.jsx)(W,{columns:C,rows:t,rowsPerPage:5,loading:"fetch"===n,titleCellClasses:"c-gray fw-700",page:p,setPage:x,paginator:!0,serialize:!0,total:r}),(0,B.jsx)(aa,{open:"add"===h,onClose:()=>{m(!1),u(!1)},data:v,edit:d,setData:w,onSubmit:async()=>{const e={...v};console.log("payload",e),i("fetch"),!0===d?await g(e):await j(e),w({}),m(!1),await S(),i(!1),u(!1)}})]})},ia=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,loading:o,edit:r}=e;const c=[{title:"Model",placeholder:"Enter model",type:G.wN.INPUT,name:"name",validator:G.wY.REQUIRED},{title:"Material Code",placeholder:"Enter code",type:G.wN.INPUT,name:"Line",validator:G.wY.REQUIRED},{title:"Barcode Identifier",placeholder:"Enter identifier",type:G.wN.INPUT,name:"name",validator:G.wY.REQUIRED},{title:"Customer",placeholder:"Select customer",type:G.wN.SELECT,name:"serialization_method",validator:G.wY.REQUIRED,keyValues:[]},{title:"Description",placeholder:"Enter description",type:G.wN.INPUT,name:"name",validator:G.wY.REQUIRED},{title:"Fixed Cycle Time",type:G.wN.RADIO,name:"cycle_time",validator:G.wY.REQUIRED,keyValues:[{value:"yes",label:"Yes"},{value:"no",label:"No"}]}],[d,u]=(0,A.useState)(new Map);return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===r?"EDIT":"ADD"," MODEL"]}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:c}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:l,loading:o,children:"Create"})]})]})},sa=()=>{const e=(0,T.Zp)(),[t,a]=(0,A.useState)([]),[n,i]=(0,A.useState)(),[r,c]=(0,A.useState)(0),[d,u]=(0,A.useState)(!1),[h,m]=(0,A.useState)(!1),[p,x]=(0,A.useState)(0),[v,w]=(0,A.useState)({name:"",metadata:{}}),{list:y,create:j,update:g,remove:f}=Et(),S=async()=>{i("fetch");const[e,t]=await y(p+1);a(e),c(t),i(!1)},C=[{id:1,title:"Name",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:2,title:"Effective Downtime",render:e=>e.name},{id:3,title:"Created By",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:4,title:"Created on",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:7,title:"Status",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:8,title:"Lines",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:2,title:"Threshold",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:5,title:"Action",render:e=>(0,B.jsx)(s.A,{flexDirection:"row",children:(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{w(e),u(!0),m("add")},children:(0,B.jsx)(ae.A,{color:"primary",fontSize:"small"})})})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("h1",{className:"mt-4",children:["Model Master",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",t.length,")"]})]}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:1},children:[(0,B.jsx)(K.A,{onClick:()=>m("add"),children:"Add Model"}),(0,B.jsx)(K.A,{onClick:()=>m("bulkUpload"),bordered:!0,children:"Bulk Upload"})]})]}),(0,B.jsxs)(s.A,{direction:"row",justifyContent:"flex-end",sx:{mb:1},children:[(0,B.jsx)(qe.A,{keyValues:[{id:"name",title:"Name"},{id:"sap_id",title:"SAP ID"},{id:"hsn_code",title:"HSN CODE"},{id:"internal_id",title:"Internal ID"},{id:"serialization",title:"Serialization"},{id:"category",title:"Category"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1"}),(0,B.jsx)(F.A,{height:"37px",placeholder:"Universal Search"})]}),(0,B.jsx)(W,{columns:C,rows:t,rowsPerPage:5,loading:"fetch"===n,titleCellClasses:"c-gray fw-700",page:p,setPage:x,paginator:!0,serialize:!0,total:r}),(0,B.jsx)(ia,{open:"add"===h,onClose:()=>{m(!1),u(!1)},data:v,edit:d,setData:w,onSubmit:async()=>{const e={...v};console.log("payload",e),i("fetch"),!0===d?await g(e):await j(e),w({}),m(!1),await S(),i(!1),u(!1)}}),(0,B.jsx)(Ce,{onClose:()=>m(!1),open:"bulkUpload"===h})]})},la=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,loading:o,edit:r}=e;const c=[{title:"Name",placeholder:"Enter Name",type:G.wN.INPUT,name:"name",validator:G.wY.REQUIRED},{title:"Model",placeholder:"Select Model",type:G.wN.SELECT,name:"Line",validator:G.wY.REQUIRED,keyValues:[]},{title:"Status",type:G.wN.RADIO,name:"status",validator:G.wY.REQUIRED,keyValues:[{value:"enable",label:"Enable"},{value:"disable",label:"Disable"}]}],[d,u]=(0,A.useState)(new Map);return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"PARTS REJECTION MODE REASON"}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:c}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:l,loading:o,children:"Create"})]})]})},oa=()=>{const e=(0,T.Zp)(),[t,a]=(0,A.useState)([]),[n,i]=(0,A.useState)(),[r,c]=(0,A.useState)(0),[d,u]=(0,A.useState)(!1),[h,m]=(0,A.useState)(!1),[p,x]=(0,A.useState)(0),[v,w]=(0,A.useState)({name:"",metadata:{}}),{list:y,create:j,update:g,remove:f}=Et(),S=async()=>{i("fetch");const[e,t]=await y(p+1);a(e),c(t),i(!1)},C=[{id:1,title:"Name",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:2,title:"Effective Downtime",render:e=>e.name},{id:3,title:"Created By",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:4,title:"Created on",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:7,title:"Status",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:8,title:"Lines",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:2,title:"Threshold",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:5,title:"Action",render:e=>(0,B.jsx)(s.A,{flexDirection:"row",children:(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{w(e),u(!0),m("add")},children:(0,B.jsx)(ae.A,{color:"primary",fontSize:"small"})})})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("h1",{className:"mt-4",children:["Parts Rejection Mode",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",t.length,")"]})]}),(0,B.jsx)(s.A,{sx:{flexDirection:"row",gap:1},children:(0,B.jsx)(K.A,{onClick:()=>m("add"),children:"Add NG"})})]}),(0,B.jsxs)(s.A,{direction:"row",justifyContent:"flex-end",sx:{mb:1},children:[(0,B.jsx)(qe.A,{keyValues:[{id:"name",title:"Name"},{id:"sap_id",title:"SAP ID"},{id:"hsn_code",title:"HSN CODE"},{id:"internal_id",title:"Internal ID"},{id:"serialization",title:"Serialization"},{id:"category",title:"Category"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1"}),(0,B.jsx)(F.A,{height:"37px",placeholder:"Universal Search"})]}),(0,B.jsx)(W,{columns:C,rows:t,rowsPerPage:5,loading:"fetch"===n,titleCellClasses:"c-gray fw-700",page:p,setPage:x,paginator:!0,serialize:!0,total:r}),(0,B.jsx)(la,{open:"add"===h,onClose:()=>{m(!1),u(!1)},data:v,edit:d,setData:w,onSubmit:async()=>{const e={...v};console.log("payload",e),i("fetch"),!0===d?await g(e):await j(e),w({}),m(!1),await S(),i(!1),u(!1)}})]})};var ra=a(1962);const ca=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:o,loading:r,edit:c}=e;const d=[{title:"Name",placeholder:"Enter Name",type:G.wN.INPUT,name:"name",validator:G.wY.REQUIRED},{title:"Plant",placeholder:"Select Model",type:G.wN.SELECT,name:"Line",validator:G.wY.REQUIRED,keyValues:[]},{title:"Start Time",placeholder:"select time",type:G.wN.TIME,name:"start_time",validator:G.wY.REQUIRED},{title:"End Time",placeholder:"select time",type:G.wN.TIME,name:"end_time",validator:G.wY.REQUIRED},{title:"Overlap",placeholder:"Select Overlap",type:G.wN.SELECT,name:"plant",validator:G.wY.REQUIRED,keyValues:[]},{title:"Type",placeholder:"Select Plant",type:G.wN.RADIO,name:"plant",validator:G.wY.REQUIRED,keyValues:[{value:"working_shift",label:"Working Shift"},{value:"planned_break",label:"Planned Break"}]}],[u,h]=(0,A.useState)(new Map),m={inputProps:{"aria-label":"Checkbox demo"}};return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"Add Shift Schedule"}),(0,B.jsx)(se.A,{data:n,errors:u,onChange:e=>{const{name:t,value:a}=e.target;h((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:d}),(0,B.jsxs)(s.A,{sx:{mt:1},children:[(0,B.jsx)(l.A,{children:"Week Days"}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:1},children:[(0,B.jsx)(ra.A,{...m,icon:(0,B.jsx)(l.A,{children:"M"}),checkedIcon:(0,B.jsx)(l.A,{children:"M"})}),(0,B.jsx)(ra.A,{...m,icon:(0,B.jsx)(l.A,{children:"T"}),checkedIcon:(0,B.jsx)(l.A,{children:"T"})}),(0,B.jsx)(ra.A,{...m,icon:(0,B.jsx)(l.A,{children:"W"}),checkedIcon:(0,B.jsx)(l.A,{children:"W"})}),(0,B.jsx)(ra.A,{...m,icon:(0,B.jsx)(l.A,{children:"T"}),checkedIcon:(0,B.jsx)(l.A,{children:"T"})}),(0,B.jsx)(ra.A,{...m,icon:(0,B.jsx)(l.A,{children:"F"}),checkedIcon:(0,B.jsx)(l.A,{children:"F"})}),(0,B.jsx)(ra.A,{...m,icon:(0,B.jsx)(l.A,{children:"S"}),checkedIcon:(0,B.jsx)(l.A,{children:"S"})}),(0,B.jsx)(ra.A,{...m,icon:(0,B.jsx)(l.A,{children:"S"}),checkedIcon:(0,B.jsx)(l.A,{children:"S"})})]})]}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:o,loading:r,children:"Create"})]})]})},da=()=>{const e=(0,T.Zp)(),[t,a]=(0,A.useState)([]),[n,i]=(0,A.useState)(),[r,c]=(0,A.useState)(0),[d,u]=(0,A.useState)(!1),[h,m]=(0,A.useState)(!1),[p,x]=(0,A.useState)(0),[v,w]=(0,A.useState)({name:"",metadata:{}}),{list:y,create:j,update:g,remove:f}=Et();(0,A.useEffect)((()=>{S()}),[p]);const S=async()=>{i("fetch");const[e,t]=await y(p+1);a(e),c(t),i(!1)},C=[{id:1,title:"Plant",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:2,title:"Name",render:e=>e.name},{id:3,title:"Type",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:4,title:"Duration",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:5,title:"Start",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:6,title:"End",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:7,title:"Mon",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:8,title:"Tue",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:9,title:"Wed",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:10,title:"Thu",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:11,title:"Fri",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:12,title:"Sat",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:13,title:"Sun",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:14,title:"Action",render:e=>(0,B.jsx)(s.A,{flexDirection:"row",children:(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{w(e),u(!0),m("add")},children:(0,B.jsx)(ae.A,{color:"primary",fontSize:"small"})})})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("h1",{className:"mt-4",children:["Shift Master",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",t.length,")"]})]}),(0,B.jsx)(s.A,{sx:{flexDirection:"row",gap:1},children:(0,B.jsx)(K.A,{onClick:()=>m("add"),children:"Add Shift Schedule"})})]}),(0,B.jsxs)(s.A,{direction:"row",justifyContent:"flex-end",sx:{mb:1},children:[(0,B.jsx)(qe.A,{keyValues:[{id:"plant",title:"Plant"},{id:"name",title:"Name"},{id:"type",title:"Type"},{id:"duration",title:"Duration"},{id:"start",title:"Start"},{id:"end",title:"End"},{id:"mon",title:"Mon"},{id:"tue",title:"Tue"},{id:"wed",title:"Wed"},{id:"thu",title:"Thu"},{id:"fri",title:"Fri"},{id:"sat",title:"Sat"},{id:"sun",title:"Sun"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1"}),(0,B.jsx)(F.A,{height:"37px",placeholder:"Universal Search"})]}),(0,B.jsx)(W,{columns:C,rows:t,rowsPerPage:5,loading:"fetch"===n,titleCellClasses:"c-gray fw-700",page:p,setPage:x,paginator:!0,serialize:!0,total:r}),(0,B.jsx)(ca,{open:"add"===h,onClose:()=>{m(!1),u(!1)},data:v,edit:d,setData:w,onSubmit:async()=>{const e={...v};console.log("payload",e),i("fetch"),!0===d?await g(e):await j(e),w({}),m(!1),await S(),i(!1),u(!1)}})]})},ua=()=>{(0,T.Zp)();const[e,t]=(0,A.useState)([{assets:"machine1"}]),[a,n]=(0,A.useState)(),[i,l]=(0,A.useState)(0),[o,r]=(0,A.useState)(!1),[c,d]=(0,A.useState)(!1),[u,h]=(0,A.useState)(0),[m,p]=(0,A.useState)({name:"",metadata:{}}),{list:x,create:v,update:w,remove:y}=Et(),j=[{id:1,title:"Assets",render:e=>e.assets},{id:2,title:"Online",render:e=>(0,B.jsx)(ra.A,{})},{id:3,title:"Offline",render:e=>(0,B.jsx)(ra.A,{})},{id:4,title:"Downtime",render:e=>(0,B.jsx)(ra.A,{})},{id:5,title:"Action",render:e=>(0,B.jsx)(K.A,{children:"Confirm"})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsxs)("h1",{className:"mt-4",children:["Notification Settings",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",e.length,")"]})]})}),(0,B.jsxs)(s.A,{direction:"row",justifyContent:"flex-end",sx:{mb:1},children:[(0,B.jsx)(qe.A,{keyValues:[{id:"assets",title:"Assets"},{id:"online",title:"Online"},{id:"downtime",title:"Downtime"},{id:"offline",title:"Offline"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1"}),(0,B.jsx)(F.A,{height:"37px",placeholder:"Universal Search"})]}),(0,B.jsx)(W,{columns:j,rows:e,rowsPerPage:5,loading:"fetch"===a,titleCellClasses:"c-gray fw-700",page:u,setPage:h,paginator:!0,serialize:!0,total:i})]})},ha=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,loading:o,edit:r}=e;const c=[{title:"Name",placeholder:"Enter name",type:G.wN.INPUT,name:"name",validator:G.wY.REQUIRED},{title:"Unit",placeholder:"Enter unit",type:G.wN.INPUT,name:"unit",validator:G.wY.REQUIRED},{title:"Reorder Point",placeholder:"Enter identifier",type:G.wN.INPUT,name:"reorder_point",validator:G.wY.REQUIRED},{title:"Initial Stock",placeholder:"Enter Stock",type:G.wN.INPUT,name:"stock",validator:G.wY.REQUIRED},{title:"Vendor",placeholder:"Select Vendor",type:G.wN.SELECT,name:"vendor",validator:G.wY.REQUIRED,keyValues:[]}],[d,u]=(0,A.useState)(new Map);return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===r?"EDIT":"ADD"," NEW RESOURCE"]}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:c}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:l,loading:o,children:"Create"})]})]})},ma=()=>{const e=(0,T.Zp)(),[t,a]=(0,A.useState)([]),[n,i]=(0,A.useState)(),[r,c]=(0,A.useState)(0),[d,u]=(0,A.useState)(!1),[h,m]=(0,A.useState)(!1),[p,x]=(0,A.useState)(0),[v,w]=(0,A.useState)({name:"",metadata:{}}),{list:y,create:j,update:g,remove:f}=Et(),S=async()=>{i("fetch");const[e,t]=await y(p+1);a(e),c(t),i(!1)},C=[{id:1,title:"Name",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:2,title:"Effective Downtime",render:e=>e.name},{id:3,title:"Created By",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:4,title:"Created on",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:7,title:"Status",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:8,title:"Lines",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:2,title:"Threshold",render:t=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:5,title:"Action",render:e=>(0,B.jsx)(s.A,{flexDirection:"row",children:(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{w(e),u(!0),m("add")},children:(0,B.jsx)(ae.A,{color:"primary",fontSize:"small"})})})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("h1",{className:"mt-4",children:["Consumables",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",t.length,")"]})]}),(0,B.jsx)(s.A,{sx:{flexDirection:"row",gap:1},children:(0,B.jsx)(K.A,{onClick:()=>m("add"),children:"Add New Resource"})})]}),(0,B.jsxs)(s.A,{direction:"row",justifyContent:"flex-end",children:[(0,B.jsx)(qe.A,{keyValues:[{id:"name",title:"Name"},{id:"sap_id",title:"SAP ID"},{id:"hsn_code",title:"HSN CODE"},{id:"internal_id",title:"Internal ID"},{id:"serialization",title:"Serialization"},{id:"category",title:"Category"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1"}),(0,B.jsx)(F.A,{height:"37px",placeholder:"Universal Search"})]}),(0,B.jsx)(W,{columns:C,rows:t,rowsPerPage:5,loading:"fetch"===n,titleCellClasses:"c-gray fw-700",page:p,setPage:x,paginator:!0,serialize:!0,total:r}),(0,B.jsx)(ha,{open:"add"===h,onClose:()=>{m(!1),u(!1)},data:v,edit:d,setData:w,onSubmit:async()=>{const e={...v};console.log("payload",e),i("fetch"),!0===d?await g(e):await j(e),w({}),m(!1),await S(),i(!1),u(!1)}}),(0,B.jsx)(Ce,{onClose:()=>m(!1),open:"bulkUpload"===h})]})};var pa=a(7965),xa=a(9761);const Aa=()=>{(0,T.Zp)();const[e,t]=(0,A.useState)([]),[a,n]=(0,A.useState)(),[i,r]=(0,A.useState)(0),[c,d]=(0,A.useState)(!1),[u,h]=(0,A.useState)(!1),[m,p]=(0,A.useState)(0),[x,w]=(0,A.useState)({name:"",metadata:{}}),{list:y,create:j,update:g,remove:f}=Et();return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsx)("h1",{className:"mt-4",children:"Organization Profile"})}),(0,B.jsxs)(s.A,{sx:{backgroundColor:"#edf7ff"},children:[(0,B.jsx)(s.A,{sx:{backgroundColor:"#c5e3f7",height:"35vh"},children:(0,B.jsx)("img",{width:"100%",height:"100%",alt:"image industry",style:{objectFit:"cover"},src:"https://www.advsyscon.com/blog/wp-content/uploads/intelligent-process-automation-examples.jpg"})}),(0,B.jsx)(s.A,{sx:{backgroundColor:"yellow",height:"30vh",borderRadius:"50%",width:"18%",alignSelf:"center",mt:-15,overflow:"hidden"},children:(0,B.jsx)("img",{width:"100%",height:"100%",alt:"image industry",src:"https://wellgroomedgentleman.com/wp-content/uploads/2023/10/Tony_Stark_Beard_with_Quiff_Hairstyle.width-800.jpg"})}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",justifyContent:"center",my:2},children:[(0,B.jsx)(o.A,{sx:{p:1,color:"black"},children:(0,B.jsx)(pa.A,{})}),(0,B.jsx)(o.A,{sx:{p:1,color:"black"},children:(0,B.jsx)(xa.A,{})}),(0,B.jsx)(o.A,{sx:{p:1,color:"black"},children:(0,B.jsx)(C.A,{})}),(0,B.jsx)(o.A,{sx:{p:1,color:"black"},children:(0,B.jsx)(ae.A,{})})]})]}),(0,B.jsxs)(re.Ay,{display:"grid",sx:{gap:1,mt:1},gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:[(0,B.jsxs)(s.A,{sx:{backgroundColor:"#edf7ff",p:1},children:[(0,B.jsx)(l.A,{variant:"h6",sx:{textTransform:"uppercase"},children:"Organizational Details"}),(0,B.jsx)(v.A,{}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:2,mt:1},children:[(0,B.jsx)(l.A,{children:"Organizational Name :"}),(0,B.jsx)(l.A,{children:"Dhoot Transmission"})]}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:2},children:[(0,B.jsx)(l.A,{children:"Joining Code :"}),(0,B.jsx)(l.A,{children:"SNL1234"})]}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:2},children:[(0,B.jsx)(l.A,{children:"Organization Type :"}),(0,B.jsx)(l.A,{children:"Dhoot Transmission"})]})]}),(0,B.jsxs)(s.A,{sx:{backgroundColor:"#edf7ff",p:1},children:[(0,B.jsx)(l.A,{variant:"h6",sx:{textTransform:"uppercase"},children:"Address Details"}),(0,B.jsx)(v.A,{}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:2,mt:1},children:[(0,B.jsx)(l.A,{children:"Address :"}),(0,B.jsx)(l.A,{children:"Hoshyarpur, Haryana 202098 "})]}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:2},children:[(0,B.jsx)(l.A,{children:"City :"}),(0,B.jsx)(l.A,{children:"Hoshyarpur"})]}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:2},children:[(0,B.jsx)(l.A,{children:"State :"}),(0,B.jsx)(l.A,{children:"Haryana"})]})]}),(0,B.jsxs)(s.A,{sx:{backgroundColor:"#edf7ff",p:1},children:[(0,B.jsx)(l.A,{variant:"h6",sx:{textTransform:"uppercase"},children:"General Details"}),(0,B.jsx)(v.A,{}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:2,mt:1},children:[(0,B.jsx)(l.A,{children:"GSTIN :"}),(0,B.jsx)(l.A,{children:"GSTIN202098 "})]}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:2},children:[(0,B.jsx)(l.A,{children:"Module Access :"}),(0,B.jsx)(s.A,{sx:{width:"70%"},children:(0,B.jsxs)(re.Ay,{sx:{gap:1},children:[(0,B.jsx)(he.A,{sx:{mb:.5,ml:.2},label:"Module 1"}),(0,B.jsx)(he.A,{sx:{mb:.5,ml:.2},label:"Module 2"}),(0,B.jsx)(he.A,{sx:{mb:.5,ml:.2},label:"Module 3"}),(0,B.jsx)(he.A,{sx:{mb:.5,ml:.2},label:"Module 4"}),(0,B.jsx)(he.A,{sx:{mb:.5,ml:.2},label:"Module 5"}),(0,B.jsx)(he.A,{sx:{mb:.5,ml:.2},label:"Module 6"})]})})]})]}),(0,B.jsxs)(s.A,{sx:{backgroundColor:"#edf7ff",p:1},children:[(0,B.jsx)(l.A,{variant:"h6",sx:{textTransform:"uppercase"},children:"Additional Details"}),(0,B.jsx)(v.A,{}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:2,mt:1},children:[(0,B.jsx)(l.A,{children:"Created On :"}),(0,B.jsxs)(l.A,{children:[ke()().format("llll")," "]})]}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:2},children:[(0,B.jsx)(l.A,{children:"Last Modified :"}),(0,B.jsx)(l.A,{children:ke()().format("llll")})]})]})]})]})},va=()=>{const{token:e}=(0,w.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":V.yw.APPLICATION_JSON};return{list:async function(){const e=new V.Ay,a=await e.get("".concat(J.H.ORDERS,"/"),{},t,q.So);return null!==a&&void 0!==a&&a.data?[null===a||void 0===a?void 0:a.data]:[[],0]},subList:async function(e){const a=new V.Ay,n=await a.get("".concat(J.H.ORDERS,"/").concat(J.H.DETAIL,"/").concat(e,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?[null===n||void 0===n?void 0:n.data.suborder]:[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new V.Ay,n=await a.post("".concat(J.H.ORDERS,"/"),e,t,(e=>(0,q.So)(e,null,"Order created successfully!")));return null===n||void 0===n?void 0:n.data},createSub:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new V.Ay,i=await n.post("".concat(J.H.ORDERS,"/").concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"Order created successfully!")));return null===i||void 0===i?void 0:i.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new V.Ay,i=await n.put("".concat(J.H.ASSET,"/").concat(J.H.PLANT,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Plant Updated successfully!")));return null===i||void 0===i?void 0:i.data},remove:async e=>{const a=new V.Ay,n=await a.delete("".concat(J.H.ASSET,"/").concat(J.H.PLANT,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Plant deleted successfully!")));return null===n||void 0===n?void 0:n.data}}},wa=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,loading:o,edit:r}=e;const c=[{title:"Name",placeholder:"Enter Name",type:G.wN.INPUT,name:"name",validator:G.wY.REQUIRED},{title:"Sales Order Number",placeholder:"Enter Sales Order Number",type:G.wN.INPUT,name:"sales_order_number",validator:G.wY.REQUIRED},{title:"Target Warehouse",placeholder:"Enter Target Warehouse",type:G.wN.INPUT,name:"target_warehouse",validator:G.wY.REQUIRED}],[d,u]=(0,A.useState)(new Map);return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===r?"EDIT":"ADD"," NEW ORDER"]}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:c}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:l,loading:o,children:"Create"})]})]})},ya=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:o,loading:r,edit:c}=e;const d=(0,w.d4)((e=>{var t;return null===e||void 0===e||null===(t=e.OrderItem)||void 0===t?void 0:t.data}));G.wN.INPUT,G.wY.REQUIRED,G.wN.INPUT,G.wY.REQUIRED,G.wN.INPUT,G.wY.REQUIRED;return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"ORDER DETAILS"}),(0,B.jsxs)(s.A,{sx:{gap:1},children:[(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:5},children:[(0,B.jsx)(l.A,{sx:{width:"20%"},children:"Order ID :"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:null===d||void 0===d?void 0:d.order_id})]}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:5},children:[(0,B.jsx)(l.A,{sx:{width:"20%"},children:"Client :"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:null===d||void 0===d?void 0:d.target_warehouse})]}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:5},children:[(0,B.jsx)(l.A,{sx:{width:"20%"},children:"Oty :"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:null===d||void 0===d?void 0:d.planned_quantity})]}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:5},children:[(0,B.jsx)(l.A,{sx:{width:"20%"},children:"Start Date :"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:ke()(null===d||void 0===d?void 0:d.created).format("ll")})]}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:5},children:[(0,B.jsx)(l.A,{sx:{width:"20%"},children:"End Date :"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:ke()(null===d||void 0===d?void 0:d.modified).format("ll")})]})]})]})};var ja=a(616);const ga=e=>{let{children:t,onClick:a,variant:n,top:i,colorCode:l,classes:o,height:r,width:c,bordered:d,gray:u,disabled:h,loading:m,hide:p,background:x,white:A}=e;return(0,B.jsx)(s.A,{onClick:a,sx:{cursor:"pointer",borderRadius:5,textTransform:"capitalize",justifyContent:"center",alignItems:"center",px:.4,fontSize:18,fontWeight:400,backgroundColor:"outline"===n?"transparent":l,color:"outline"===n?"#3E3E3E":"white",border:"outline"===n?1:"none",borderColor:l},children:t})},fa=()=>{const e=(0,T.Zp)(),t=(0,w.wA)(),[a,n]=((0,A.useRef)(),(0,A.useState)([])),[i,s]=(0,A.useState)(),[o,r]=(0,A.useState)(),[c,d]=(0,A.useState)(0),[u,h]=(0,A.useState)(!1),[m,p]=(0,A.useState)(0),[x,v]=(0,A.useState)(0),[y,j]=(0,A.useState)({}),[g,f]=(0,A.useState)(2),[S,C]=(0,A.useState)(),{list:b,create:N,createInbound:E,genBarCode:k}=va(),[I,D]=(0,A.useState)({});(0,A.useEffect)((()=>{_()}),[m,x]);const _=async()=>{r("fetch");const[e]=await b(m+1);console.log("counnt----",e.count),n(null===e||void 0===e?void 0:e.results),d(e.count),r(!1)},R=async()=>{const e={...y};await N(e),await _(),j({}),h(!1)},P=[{id:1,title:"Order ID",render:e=>(0,B.jsx)(l.A,{sx:{cursor:"pointer",color:"blue",fontSize:20},onClick:()=>{t((0,ja.l)(e)),h("detail")},children:e.order_id})},{id:2,title:"Client ID",render:e=>e.vendor_part_id},{id:3,title:"Oty",render:e=>e.planned_quantity},{id:4,title:"Start Date",render:e=>ke()(e.created).format("ll")},{id:5,title:"End Date",render:e=>ke()(e.created).format("ll")},{id:6,title:"Actions",render:t=>(0,B.jsx)(ga,{variant:"outline",colorCode:"#FA7474",onClick:()=>e("/plan",{state:t.id}),children:"on hold"})},{id:7,title:"Status",render:e=>(0,B.jsx)(Me.A,{style:{padding:0,backgroundColor:G.lm.LG_GRAY},activeStep:g,alternativeLabel:!0,children:["I","S","L"].map((e=>(0,B.jsx)(Qe.A,{children:(0,B.jsx)(Ye.A,{})},e)))})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("h1",{className:"mt-4",children:["Order",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",c,")"]})]}),(0,B.jsx)(K.A,{onClick:()=>h("add"),children:"Add Order"})]}),(0,B.jsx)("div",{className:"flex items-center justify-between mb-3"}),(0,B.jsx)(W,{columns:P,rows:a,rowsPerPage:5,loading:"fetch"===o,titleCellClasses:"c-gray fw-700",page:m,setPage:p,paginator:!0,serialize:!0,total:c}),(0,B.jsx)(wa,{onClose:()=>h(!1),open:"add"===u,data:y,onSubmit:R,setData:j}),(0,B.jsx)(ya,{onClose:()=>h(!1),open:"detail"===u,data:y,onSubmit:R,setData:j})]})},Sa=()=>{const{token:e}=(0,w.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":V.yw.APPLICATION_JSON};return{jobList:async function(){let e=arguments.length>1?arguments[1]:void 0;const a=new V.Ay,n=await a.get("".concat(J.H.ORDERS,"/all-jobs/").concat(e,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},subList:async function(e){const a=new V.Ay,n=await a.get("".concat(J.H.ORDERS,"/").concat(e,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?[null===n||void 0===n?void 0:n.data]:[[],0]},createJob:async function(){let e=arguments.length>1?arguments[1]:void 0;const a={...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},prerequisite_jobs:[]},n=new V.Ay,i=await n.post("".concat(J.H.ORDERS,"/").concat(J.H.JOBS,"/").concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"Job created successfully!")));return null===i||void 0===i?void 0:i.data},createSub:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new V.Ay,i=await n.post("".concat(J.H.ORDERS,"/").concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"Job created successfully!")));return null===i||void 0===i?void 0:i.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new V.Ay,i=await n.put("".concat(J.H.ASSET,"/").concat(J.H.PLANT,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Plant Updated successfully!")));return null===i||void 0===i?void 0:i.data},remove:async e=>{const a=new V.Ay,n=await a.delete("".concat(J.H.ASSET,"/").concat(J.H.PLANT,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Plant deleted successfully!")));return null===n||void 0===n?void 0:n.data}}},Ca=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,loading:o,edit:r,tab:c}=e;const d=[{title:"Name",placeholder:"Enter Name",type:G.wN.INPUT,name:"name",validator:G.wY.REQUIRED}],[u,h]=(0,A.useState)(new Map);return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",style:{textTransform:"uppercase"},children:[!0===r?"EDIT":"ADD"," ",c]}),(0,B.jsx)(se.A,{data:n,errors:u,onChange:e=>{const{name:t,value:a}=e.target;h((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:d}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:l,loading:o,children:"Create"})]})]})};var ba=a(1223);const Na=()=>{const e=(0,T.Zp)(),t=(0,T.zy)(),[a,n]=((0,w.wA)(),(0,A.useState)(t.state)),[i,s]=(0,A.useState)([]),[l,r]=(0,A.useState)(),[c,d]=(0,A.useState)(),[u,h]=(0,A.useState)(0),[m,p]=(0,A.useState)(!1),[x,v]=(0,A.useState)(0),[y,j]=(0,A.useState)("Sub Orders"),[g,f]=(0,A.useState)({}),[S,C]=(0,A.useState)(),{list:b,subList:N,createSub:E,createInbound:k,genBarCode:I}=va(),{jobList:D,createJob:_}=Sa(),[R,P]=(0,A.useState)({});(0,A.useEffect)((()=>{U()}),[x,y,a]);const U=async()=>{d("fetch");const[e]="Sub Orders"===y?await N(a,x+1):await D(x+1,a);s(e),h(e.count),d(!1)},O=[{id:1,title:"Sub Orders"===y?"Order ID":"Name",render:e=>"Sub Orders"===y?e.order_id:e.name},{id:2,title:"Client ID",render:e=>e.vendor_part_id},{id:3,title:"Oty",render:e=>e.planned_quantity},{id:4,title:"Start Date",render:e=>ke()(e.created).format("ll")},{id:5,title:"End Date",render:e=>ke()(e.created).format("ll")},{id:7,title:"Status",render:e=>(0,B.jsx)(ga,{colorCode:"#1535DB",onClick:()=>{"Sub Orders"===y&&n(e.id)},children:"To Plan"})},{id:6,title:"Actions",render:t=>(0,B.jsx)(o.A,{onClick:()=>e("/plan-overview",{state:t.order_id}),children:(0,B.jsx)(ba.A,{})})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsxs)("h1",{className:"mt-4",children:[y,(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",i.length,")"]})]})}),(0,B.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,B.jsx)(de.A,{value:y,onChange:(e,t)=>j(t),children:["Sub Orders","Jobs"].map(((e,t)=>(0,B.jsx)(ue.A,{label:e,value:e},t)))}),(0,B.jsxs)(K.A,{onClick:()=>p("add"),children:["Add ",y]})]}),(0,B.jsx)(W,{columns:O,rows:i,rowsPerPage:5,loading:"fetch"===c,titleCellClasses:"c-gray fw-700",page:x,setPage:v,paginator:!0,serialize:!0,total:u}),(0,B.jsx)(Ca,{onClose:()=>p(!1),open:"add"===m,data:g,onSubmit:async()=>{const e={...g};"Sub Orders"===y?await E(a,e):await _(e,a),await U(),f({}),p(!1)},setData:f,tab:y})]})};var Ea=a(4535),ka=a(1906),Ia=a(2954);const Ta=()=>{const e=(0,T.zy)(),[t,a]=((0,T.Zp)(),(0,w.wA)(),(0,A.useRef)(),(0,A.useState)([])),[n,i]=(0,A.useState)(),[o,r]=(0,A.useState)(),[c,d]=(0,A.useState)(0),[u,h]=(0,A.useState)(!1),[m,p]=(0,A.useState)(0),[x,v]=(0,A.useState)(0),[y,j]=(0,A.useState)({}),[g,f]=(0,A.useState)(),{list:S,create:C,createInbound:b,genBarCode:N}=va(),[E,k]=(0,A.useState)({}),I=e.state,D=(0,Ea.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});(0,A.useEffect)((()=>{_()}),[m,x]);const _=async()=>{r("fetch");const[e]=await S(I,m+1);console.log("counnt----",e.count),a(null===e||void 0===e?void 0:e.results),d(e.count),r(!1)};return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsxs)(s.A,{sx:{gap:.5,flexDirection:"row",alignItems:"center"},children:[(0,B.jsx)("h2",{className:"",children:"Plan Overview "}),(0,B.jsx)(bt.A,{fontSize:"large"}),(0,B.jsxs)("span",{className:"fs-30 c-gray",children:[" ",I]})]})}),(0,B.jsx)("div",{className:"flex items-center justify-between mb-3"}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",justifyContent:"space-between",pr:2},children:[(0,B.jsx)(l.A,{children:"To start please select file"}),(0,B.jsxs)(ka.A,{sx:{width:"fit-content"},component:"label",role:void 0,variant:"contained",tabIndex:-1,startIcon:(0,B.jsx)(Ia.A,{}),children:["Upload file",(0,B.jsx)(D,{type:"file"})]})]}),(0,B.jsx)(wa,{onClose:()=>h(!1),open:"add"===u,data:y,onSubmit:async()=>{const e={...y};await C(e),await _(),j({}),h(!1)},setData:j})]})},Da=()=>{(0,T.zy)(),(0,T.Zp)();const[e,t]=(0,A.useState)([]),[a,n]=(0,A.useState)(""),[i,l]=(0,A.useState)(""),[o,r]=(0,A.useState)({shift:"",state:"",quality:""});return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("h1",{className:"mt-2",children:"Live View"}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",justifyContent:"space-between",mb:2},children:[(0,B.jsxs)(s.A,{sx:{flexDirection:"row"},children:[(0,B.jsx)(qe.A,{keyValues:[{id:"All",title:"All"},{id:"Shift A",title:"Shift A"},{id:"Shift B",title:"Shift B"},{id:"Out of Shift",title:"Out of Shift"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Shift",classes:"mr-1",value:o.shift,onChange:e=>r({...o,shift:e.target.value})}),(0,B.jsx)(qe.A,{keyValues:[{id:"All",title:"All"},{id:"Production",title:"Production"},{id:"Downtime",title:"Downtime"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"State",classes:"mr-1",value:o.state,onChange:e=>r({...o,state:e.target.value})}),(0,B.jsx)(qe.A,{keyValues:[{id:"All",title:"All"},{id:"Good",title:"Good"},{id:"NG",title:"NG"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Quality",classes:"mr-1",value:o.quality,onChange:e=>r({...o,quality:e.target.value})}),(0,B.jsx)(xt.A,{width:"fit-content"})]}),(0,B.jsxs)(s.A,{direction:"row",justifyContent:"flex-end",children:[(0,B.jsx)(qe.A,{keyValues:[{id:"Division",title:"Division"},{id:"Line",title:"Line"},{id:"OEE",title:"OEE"},{id:"Availability",title:"Availability"},{id:"Performance",title:"Performance"},{id:"Quality",title:"Quality"},{id:"Total Cycle Time",title:"Total Cycle Time"},{id:"Total Downtime",title:"Total Downtime"},{id:"Total Available Time",title:"Total Available Time"},{id:"Pass",title:"Pass"},{id:"Fail",title:"Fail"},{id:"Status",title:"Status"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1",value:a,onChange:e=>n(e.target.value)}),(0,B.jsx)(F.A,{height:"37px",placeholder:"Universal Search",value:i,onChange:e=>{l(e.target.value)}})]})]}),(0,B.jsx)(ta,{}),(0,B.jsx)(W,{columns:[{id:42,title:"Division",render:e=>e.name},{id:1,title:"Line",render:e=>e.sap_id},{id:2,title:"OEE",render:e=>e.hsn_code},{id:3,title:"Availability",render:e=>1===e.serialization_method?"No Serialization":2===e.serialization_method?"Use Pre-Generated ID":3===e.serialization_method?"Use Own ID":"-"},{id:4,title:"Performance",render:e=>e.vendor_part_id},{id:5,title:"Quality",render:e=>null===e||void 0===e?void 0:e.category},{id:6,title:"Total Cycle Time",render:e=>e.hsn_code},{id:7,title:"Total Downtime",render:e=>e.hsn_code},{id:8,title:"Total Available Time",render:e=>e.hsn_code},{id:9,title:"Pass",render:e=>e.hsn_code},{id:10,title:"Fail",render:e=>e.hsn_code},{id:11,title:"Status",render:e=>e.hsn_code},{id:12,title:"Last Event Received At",render:e=>e.hsn_code},{id:13,title:"Details",render:e=>e.hsn_code}],rows:e,rowsPerPage:5,titleCellClasses:"c-gray fw-700",serialize:!0})]})},_a=e=>{let{options:t,series:a}=e;const[n,i]=(0,A.useState)([]),[l,o]=(0,A.useState)(!1);return(0,B.jsx)(s.A,{sx:{width:"95%"},children:(0,B.jsx)(ut.A,{options:t,series:a,type:"bar",height:300})})},Ra=[{id:"SPM-DUPLEX-512",title:"SPM-DUPLEX-512"}],Pa=()=>{(0,T.zy)(),(0,T.Zp)();const[e,t]=(0,A.useState)([]),[a,n]=(0,A.useState)(""),[i,o]=(0,A.useState)(""),[r,c]=(0,A.useState)({shift:Ra[0].title,state:"",quality:""});return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("h1",{className:"mt-2",children:"Operator Portal"}),(0,B.jsx)(s.A,{sx:{flexDirection:"row",justifyContent:"space-between",mb:2},children:(0,B.jsxs)(s.A,{sx:{flexDirection:"row"},children:[(0,B.jsx)(qe.A,{keyValues:Ra.map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Shift",classes:"mr-1",value:r.shift,onChange:e=>c({...r,shift:e.target.value})}),(0,B.jsx)(xt.A,{width:"fit-content"})]})}),(0,B.jsxs)(s.A,{children:[(0,B.jsxs)(s.A,{sx:{border:2,borderColor:"#eeee",flexDirection:"row",justifyContent:"space-between",p:1},children:[(0,B.jsxs)(s.A,{sx:{flexDirection:"row",justifyContent:"space-between",width:"49%"},children:[(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{children:"Good"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"123"})]}),(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{children:"NG"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"65"})]}),(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{children:"ass"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"55"})]}),(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{children:"Fail"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"44"})]}),(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{children:"Total"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"33"})]})]}),(0,B.jsx)(s.A,{sx:{borderRight:2,borderColor:"#eeee"}}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",justifyContent:"space-between",width:"49%"},children:[(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{children:"OEE"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"123"})]}),(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{children:"Availability"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"65"})]}),(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{children:"Performance"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"55"})]}),(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{children:"Quality"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"44"})]})]})]}),(0,B.jsxs)(s.A,{sx:{border:2,borderColor:"#eeee",flexDirection:"row",justifyContent:"space-between",p:1,mt:1},children:[(0,B.jsxs)(s.A,{sx:{flexDirection:"row",justifyContent:"space-between",width:"25%",alignContent:"center",alignItems:"center"},children:[(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{children:"Machining Time"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"0:00:00"})]}),(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{children:"Downtime"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"0:00:00"})]})]}),(0,B.jsx)(s.A,{sx:{borderRight:2,borderColor:"#eeee"}}),(0,B.jsxs)(s.A,{sx:{width:"73%"},children:[(0,B.jsx)(l.A,{children:"Downtime Event"}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{children:"Start Time"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"0:00:00"})]}),(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{children:"End Time"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"0:00:00"})]}),(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{children:"Duration Time"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"0:00:00"})]}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row"},children:[(0,B.jsx)(qe.A,{keyValues:Ra.map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Shift",classes:"mr-1",value:r.shift,onChange:e=>c({...r,shift:e.target.value})}),(0,B.jsx)(s.A,{sx:{justifyContent:"center"},children:(0,B.jsx)(K.A,{sx:{width:"fit-content"},children:"Submit"})})]})]})]})]}),(0,B.jsxs)(s.A,{sx:{border:2,borderColor:"#eeee",p:1,mt:1},children:[(0,B.jsx)(l.A,{children:"Production"}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row"},children:[(0,B.jsx)(s.A,{sx:{width:"30%"},children:(0,B.jsx)(mt,{chart:{series:[{label:"America",value:80}]},colorCode:"#e334e6"})}),(0,B.jsx)(s.A,{sx:{width:"70%"},children:(0,B.jsx)(_a,{series:[{name:"Sales",data:[30,40,35,50,49,60,70]},{name:"Buy",data:[30,40,35,50,49,60,70]}],options:{chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded",dataLabels:{orientation:"vertical"}}},dataLabels:{enabled:!0,offsetY:-20,style:{fontSize:"12px",colors:["#fff"]}},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul"]},fill:{opacity:1},tooltip:{y:{formatter:function(e){return"$ "+e+" thousands"}}}}})})]})]})]})]})},Ua=()=>{const{token:e}=(0,w.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":V.yw.APPLICATION_JSON};return{question_list:async function(){const e=new V.Ay,a=await e.get("training/question-bank/",{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},skill_question_list:async function(){let e=arguments.length>1?arguments[1]:void 0;const a=new V.Ay,n=await a.get("training/skill-questions/".concat(e,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},skill_list:async function(){const e=new V.Ay,a=await e.get("training/skills/",{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},induction_question:async function(){const e=new V.Ay,a=await e.get("training/induction-questions/",{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},hr_question:async function(){const e=new V.Ay,a=await e.get("training/miscellaneous-questions/",{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},result:async e=>{const a=new V.Ay,n=await a.get("training/update-test-results/".concat(e,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},get_Test:async e=>{const a=new V.Ay,n=await a.get("training/test-instance/".concat(e,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},test_list:async function(){const e=new V.Ay,a=await e.get("training/test-masters/",{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},createTest:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new V.Ay,n=await a.post("training/test-masters/",e,t,(e=>(0,q.So)(e,null)));return null===n||void 0===n?void 0:n.data},assignExam:async e=>{const a=new V.Ay,n=await a.post("training/".concat(e.test,"/test-instance/").concat(e.operator.key,"/"),{},t,(e=>(0,q.So)(e,null,"Test Successfully Assign !")));return null===n||void 0===n?void 0:n.data},addQuestion:async(e,a)=>{const n=new V.Ay,i=await n.put("training/test-master/".concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"Test Updated Successfully!")));return null===i||void 0===i?void 0:i.data},updateTest:async(e,a)=>{const n=new V.Ay,i=await n.put("training/test-instance/".concat(e,"/"),a,t,(e=>(0,q.So)(e,null)));return null===i||void 0===i?void 0:i.data},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new V.Ay,n=await a.post("training/question-bank/",e,t,(e=>(0,q.So)(e,null)));return null===n||void 0===n?void 0:n.data},updateProfile:async(e,a)=>{const n=new V.Ay,i=await n.put("".concat(J.H.USER,"-").concat(J.H.PROFILE,"/").concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"User Updated successfully!")));return null===i||void 0===i?void 0:i.data},remove:async e=>{if(!e)return;const a=new V.Ay,n=await a.delete("".concat(J.H.USER,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"User deleted successfully!")));return null===n||void 0===n?void 0:n.data},linkPlanTestMaster:async(e,a)=>{const n=new V.Ay,i=await n.put("training/training/".concat(e,"/"),a,t,(e=>(0,q.So)(e,null)));return null===i||void 0===i?void 0:i.data}}};var Oa=a(9413);const La=e=>{let{open:t,onClose:a,data:n,setData:i,onStart:o,loading:r,edit:c,setModalOpen:d,testData:u}=e;return(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(m.A,{sx:{display:"flex",gap:2},children:[(0,B.jsxs)(s.A,{sx:{width:"55%"},children:[(0,B.jsx)(s.A,{sx:{backgroundColor:G.lm.LIGHT_BLUE,borderRadius:2,p:2},children:(0,B.jsx)(l.A,{className:"fw-600-16",children:(null===u||void 0===u?void 0:u.test.test_name)||"sass"})}),(0,B.jsxs)(s.A,{className:"fw-500-14",sx:{backgroundColor:G.lm.LIGHT_GRAY,mt:2,borderRadius:2,p:2},children:[(0,B.jsx)(l.A,{className:"fw-500-14",children:"You are going to start the Test, Please read carefully below Instructions"}),(0,B.jsxs)(s.A,{children:[(0,B.jsxs)(l.A,{className:"fw-500-14",children:["1.The test is designed to test your Skill - ",(null===u||void 0===u?void 0:u.test.skill)||"sass"]}),(0,B.jsxs)(l.A,{className:"fw-500-14",children:["2.The time duration is ",(null===u||void 0===u?void 0:u.test.alloted_minutes)||"sass"," mins."]}),(0,B.jsxs)(l.A,{className:"fw-500-14",children:["3.The test will auto close  at ",(null===u||void 0===u?void 0:u.test.alloted_minutes)||"sass"," mins"]}),(0,B.jsx)(l.A,{className:"fw-500-14",children:"4.Each question is on 1 mark."}),(0,B.jsxs)(l.A,{className:"fw-500-14",children:["5.There are ",(null===u||void 0===u?void 0:u.test.maximum_questions)||"sass"," Questions."]}),(0,B.jsx)(l.A,{className:"fw-500-14",children:"6.There is no negative marking "}),(0,B.jsx)(l.A,{className:"fw-500-14",children:"7.Choose only one best answer"}),(0,B.jsx)(l.A,{className:"fw-500-14",children:"8.You can go back and change your answers."}),(0,B.jsx)(l.A,{className:"fw-500-14",children:"9.Please take the test at one go."}),(0,B.jsx)(l.A,{className:"fw-500-14",children:"10.Please click submit when you are finished"})]}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",justifyContent:"space-between",mt:2},children:[(0,B.jsx)(K.A,{color:"gray",children:"Back"}),(0,B.jsx)(K.A,{color:"light_green",onClick:()=>{d("start"),o()},children:"Start"})]})]})]}),(0,B.jsx)(s.A,{sx:{width:"43%"},children:(0,B.jsxs)(s.A,{sx:{backgroundColor:G.lm.LIGHT_GRAY,borderRadius:2,p:2},children:[(0,B.jsx)(l.A,{className:"fw-600-16",children:"Sample Question 1"}),(0,B.jsx)(l.A,{sx:{mt:1},className:"fw-600-16",children:"Tick the correct answer or Answers and  Submit"}),(0,B.jsx)(l.A,{sx:{mt:1},className:"fw-500-14",children:"Question 1"}),(0,B.jsx)(l.A,{sx:{mt:1,mb:1},className:"fw-500-14",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),[{option:"Answer 1",check:!0},{option:"Answer 2",check:!1},{option:"Answer 3",check:!1},{option:"Answer 4",check:!1}].map(((e,t,a)=>(0,B.jsx)(Oa.A,{sx:{mb:1.4},children:(0,B.jsx)(jt.A,{disabled:!0,control:(0,B.jsx)(ra.A,{className:"fw-500-14",defaultChecked:e.check}),label:e.option})},a)))]})})]})})};var za=a(1338);const Ha=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:o,loading:r,edit:c}=e;return(0,B.jsx)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:(0,B.jsxs)(s.A,{sx:{justifyContent:"center",alignItems:"center",mt:4},children:[(0,B.jsx)(za.A,{sx:{width:55,height:55},color:"primary"}),(0,B.jsx)(s.A,{sx:{justifyContent:"center",alignItems:"center",mt:2,mb:2},children:(0,B.jsx)(l.A,{sx:{fontSize:20,fontWeight:"bold"},color:"primary",children:"Done !"})})]})})};var Ma=a(1825);const Qa=e=>{let{activeQuestion:t,totalQuestions:a,setModalOpen:n,testData:i}=e;(0,T.Zp)();const[o,r]=(0,A.useState)(null===i||void 0===i?void 0:i.remaining_time_in_seconds);return(0,A.useEffect)((()=>{if(o>0){const e=setTimeout((()=>{r((e=>e-1)),localStorage.setItem("time",o)}),1e3);return()=>clearTimeout(e)}o<1&&(n("timeUps"),localStorage.setItem("draweWidth",270))}),[o]),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:.5,alignItems:"baseline"},children:[(0,B.jsx)(l.A,{sx:{fontWeight:500,fontSize:40},children:(0,le.gv)(t)}),(0,B.jsxs)(l.A,{sx:{fontWeight:500,fontSize:20},children:["/",(0,le.gv)(a)]})]}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:1,alignItems:"center",mr:2},children:[(0,B.jsx)(Ma.A,{fontSize:"large"}),(0,B.jsx)(l.A,{sx:{fontWeight:500,fontSize:18},children:(0,le.fU)(o)})]})]})};var Ya=a(6240);const Fa=e=>{let{highlightAnswer:t,children:a,...n}=e;const i=(0,Ya.A)();return(0,B.jsx)(m.A,{...n,sx:{fontSize:{xs:"18px",sm:"calc(18px + 2vw)",md:"calc(18px + 4vw)",lg:"16px"},color:i.palette.text.secondary,fontWeight:t?400:300,border:"1px solid ".concat(t?i.palette.primary.main:i.palette.divider),backgroundColor:t?i.palette.background.selected:i.palette.background.paper,borderRadius:"16px",marginTop:{xs:"13px",sm:"calc(10px + 6 * ((100vw - 600px) / 1320))",md:"16px"},cursor:"pointer",transition:t?"border 0.2s ease-in":"none","& input":{visibility:"hidden",margin:0}},children:a})},Ga=e=>{let{onChange:t,index:a,choice:n,type:i,correct:s}=e;const o=String.fromCharCode(65+a),[r,c]=(0,A.useState)("");return(0,B.jsx)(Fa,{highlightAnswer:!0===s?"21":"",children:(0,B.jsxs)(l.A,{sx:{p:1.5,display:"flex",fontWeight:!0===s?"bold":""},onClick:()=>t(n),children:[(0,B.jsxs)(l.A,{sx:{fontWeight:!0===s?"bold":""},children:[o,"."]}),n]})},a)},Ba=e=>{let{question:t,code:a,image:n,type:i,choices:o=[],selectedAnswer:r,handleAnswerSelection:c,ans:d,questionNo:u}=e;return(0,B.jsxs)(s.A,{children:[(0,B.jsx)(l.A,{className:"fw-500-14",sx:{mb:1},children:null===t||void 0===t?void 0:t.question_text}),(0,B.jsx)(s.A,{children:o.map(((e,a)=>{var n;return(0,B.jsx)(Ga,{choice:e,index:a,onChange:e=>c(a+1,t.id),type:i,selectedAnswer:r,correct:(null===(n=d[u])||void 0===n?void 0:n.ans)-1===a},a)}))})]})},Wa=()=>{var e;const t=new URLSearchParams(window.location.search).get("key1"),a=(0,T.zy)(),[n,i]=((0,T.Zp)(),a.state,(0,A.useState)([])),[o,r]=(0,A.useState)(),[c,d]=(0,A.useState)(0),[u,h]=(0,A.useState)(!1),[m,p]=(0,A.useState)("testDetail"),[x,v]=(0,A.useState)(0),[w,y]=(0,A.useState)({name:"",metadata:{}}),{get_Test:j,updateTest:g,result:f}=Ua(),[S,C]=(0,A.useState)([]),[b,N]=(0,A.useState)(0),[E,k]=(0,A.useState)([]),[I,D]=(0,A.useState)(null),[_,R]=(0,A.useState)([]),[P,U]=(0,A.useState)(),[O,L]=(0,A.useState)([]);(0,A.useEffect)((()=>{z()}),[]);const z=async()=>{r("fetch");const[e,a]=await j(t);U(e);const n=e.questions_list.map((e=>({question:e.id,ans:""})));k((e=>[...e,...n]));const i=E.map((e=>({[e.question]:0})));L((e=>[...e,...i])),d(a),r(!1)};function H(e){"pre"===e&&b>=1&&N((e=>e-1)),"next"===e&&b+1<P.questions_list.length&&N((e=>e+1))}function M(){window.opener=null,window.open("","_self"),window.close()}return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsx)(s.A,{sx:{flexDirection:"row",alignItems:"center"},children:(0,B.jsx)("h1",{className:"mt-4",children:"Test"})})}),"start"===m&&(0,B.jsxs)(s.A,{sx:{flexDirection:"row",justifyContent:"space-between",p:1},children:[(0,B.jsxs)(s.A,{sx:{width:"78%"},children:[(0,B.jsx)(Qa,{activeQuestion:b+1,totalQuestions:P.questions_list.length,setModalOpen:p,testData:P}),(0,B.jsx)(Ba,{question:P.questions_list[b],choices:null===(e=P.questions_list[b])||void 0===e?void 0:e.question_options,type:"MAQs",handleAnswerSelection:(e,a)=>{!async function(e,a){let n=localStorage.getItem("time"),i={answers:{[a]:e},remaining_time_in_seconds:n};if(await g(t,i),n<=1){p("timeUps");let e={completed:!0,remaining_time_in_seconds:0};await g(t,e);await f(t);setTimeout((()=>{M()}),2e3)}}(e,a),k((t=>{const n=t.findIndex((e=>e.question===a));if(-1!==n){const i=[...t];return i[n]={question:a,ans:e},i}return[...t,{question:a,ans:e}]}))},ans:E,questionNo:b}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",justifyContent:"space-between",mt:3},children:[(0,B.jsx)(K.A,{onClick:()=>H("pre"),children:"Previous"}),b===P.questions_list.length-1?(0,B.jsx)(K.A,{onClick:()=>async function(e){localStorage.setItem("time",0),await g(t,{completed:!0}),await f(t),p("timeUps"),setTimeout((()=>{M()}),3e3)}(),children:"Submit"}):(0,B.jsx)(K.A,{onClick:()=>H("next"),children:"Next"})]})]}),(0,B.jsxs)(s.A,{sx:{width:"18%",boxShadow:3,p:1,py:2,borderRadius:2,justifyContent:"space-between"},children:[(0,B.jsx)(re.Ay,{display:"grid",gap:1,gridTemplateColumns:{sm:"repeat(5, 1fr)",xs:"repeat(5, 1fr)"},children:E.map(((e,t)=>(0,B.jsx)(s.A,{sx:{backgroundColor:e.ans?"#86D56A":"#3E3E3E",justifyContent:"center",alignItems:"center",borderRadius:1,width:22,height:22,cursor:"pointer"},onClick:()=>N(t),children:(0,B.jsx)(l.A,{style:{fontSize:"12px",fontWeight:"bold"},sx:{color:e.ans?"black":"white",textAlign:"center"},children:t+1})},t)))}),(0,B.jsxs)(s.A,{sx:{},children:[(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:1},children:[(0,B.jsx)(s.A,{sx:{backgroundColor:"#86D56A",justifyContent:"center",alignItems:"center",borderRadius:1,width:22,height:22}}),(0,B.jsx)(l.A,{sx:{mb:1,fontWeight:"bold"},children:"Answered"})]}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:1},children:[(0,B.jsx)(s.A,{sx:{backgroundColor:"#3E3E3E",justifyContent:"center",alignItems:"center",borderRadius:1,width:22,height:22}}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"Not Answered"})]})]})]})]}),"testDetail"===m&&(0,B.jsx)(La,{testData:P,setModalOpen:p,onStart:async()=>{await g(t,{started:!0})}}),(0,B.jsx)(Ha,{open:"timeUps"===m,onClose:()=>p(!1)}),(0,B.jsx)(Ce,{onClose:()=>p(!1),open:"csvUser"===m,onSubmit:function(){const e=[];_.slice(1).forEach((t=>{const a=t[0],n=t[t.length-1],i=new Set;t.slice(1).forEach((e=>{""!==e&&i.add(e)}));const s={question:a,choices:Array.from(i),answer:n};e.push(s),console.log("Processed object",s)})),console.log("All results",e)},file:I,setFile:D,setCsvData:R})]})};var qa=a(728);const Va=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:r,loading:c,tab:d,skills:u}=e;const[h,m]=(0,A.useState)(new Map),[p,x]=(0,A.useState)(0),[v,w]=(0,A.useState)([]),[y,j]=(0,A.useState)([]),[g,f]=(0,A.useState)([]),{question_list:S,skill_question_list:C,induction_question:b,hr_question:N,create:E,update:k,remove:I}=Ua(),[T,D]=(0,A.useState)({skill:""}),[_,R]=(0,A.useState)([]),[P,U]=(0,A.useState)({}),[O,L]=(0,A.useState)([]),[z,H]=(0,A.useState)([]),[M,Q]=(0,A.useState)("");(0,A.useEffect)((()=>{""===T.skill&&""===T.skill||Y()}),[T.skill]),(0,A.useEffect)((()=>{F(),q()}),[]);const Y=async()=>{const[e,t]=await C(1,T.skill?T.skill:n.skill);!function(e){w([]);const t=e.filter((e=>!0===e.compulsory)),a=e.filter((e=>!1===e.compulsory));console.log("compulsoryList",t.length,"List",a.length),w((e=>[...e,...a])),j((e=>[...e,...t]))}(e)},F=async()=>{const[e,t]=await b();H(e)},q=async()=>{const[e,t]=await N();L(e)};const V=[{title:"Question Type",placeholder:"Select",type:G.wN.SELECT,name:"tranning",validator:G.wY.REQUIRED,keyValues:[{value:"Induction",key:"Induction"},{value:"Skill",key:"Skill"},{value:"HR",key:"HR"}]},"Skill"===T.tranning&&{title:"Skill",placeholder:"Select Skill",type:G.wN.SELECT,name:"skill",validator:G.wY.REQUIRED,keyValues:u}],J=[{id:122,title:"",render:e=>(0,B.jsx)(Oa.A,{children:(0,B.jsx)(jt.A,{control:(0,B.jsx)(ra.A,{defaultChecked:e.checked,onChange:t=>((e,t)=>{const a=P[M].findIndex((e=>e.id===t));console.log("index of sel",a),U((t=>({...t,[M]:t[M].map(((t,n)=>n===a?{...t,checked:e}:t))}))),f((a=>e?[...a,t]:a.filter((e=>e!==t))))})(t.target.checked,e.id)})})},e.id)},{id:1,title:"Question",render:e=>e.question_text},{id:2,title:"Compulsory",render:e=>!0===e.compulsory?"Yes":"No"},{id:3,title:"Question Level",render:e=>e.skill_level||"-"}];return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"Add Questions"}),(0,B.jsx)(s.A,{sx:{gap:1,width:"60%"},children:(0,B.jsx)(se.A,{data:T,errors:h,onChange:async e=>{const{name:t,value:a}=e.target;if("skill"===t&&"Skill"!==t&&"Skill"!==a){let e=u.filter((e=>a===e.key))[0].value;Q(e);const[t,n]=await C(1,a),i=t.map((e=>({...e,checked:e.compulsory})));R((t=>t.includes(e)?t:[...t,e])),U((t=>t.hasOwnProperty(e)?t:{...t,[e]:i}))}if("skill"!==t&&"Skill"!==t&&"Skill"!==a){const e=("Induction"===a?z:O).map((e=>({...e,checked:e.compulsory})));console.log("value question",a),Q(a),U((t=>t.hasOwnProperty(a)?t:{...t,[a]:e})),R((e=>e.includes(a)?e:[...e,a]))}D((e=>({...T,[t]:a}))),console.log("name or value------\x3e",P)},schema:V})}),(0,B.jsx)(s.A,{sx:{flexDirection:"row",gap:2,mt:2,border:1,borderColor:G.lm.LIGHT_GRAY,borderTopLeftRadius:5,borderTopRightRadius:5,width:"fit-content"},children:_.map(((e,t)=>(0,B.jsxs)(s.A,{sx:{p:.5,flexDirection:"row",gap:1,borderRight:1,borderColor:G.lm.LIGHT_GRAY},children:[(0,B.jsx)(l.A,{onClick:()=>{Q(e)},sx:{fontSize:14,color:M===e?"black":G.lm.GRAY},children:e}),(0,B.jsx)(o.A,{sx:{height:14,width:14,cursor:"pointer"},onClick:()=>(e=>{R((t=>t.filter((t=>t!==e))));const{[e]:t,...a}=P;U(a)})(e),children:(0,B.jsx)(qa.A,{color:M===e?"black":G.lm.LG_GRAY,fontSize:"small"})})]})))}),(0,B.jsx)(s.A,{sx:{},children:(0,B.jsx)(W,{columns:J,rows:_.length>0?P[M]:[],rowsPerPage:10,loading:"fetch"===c,titleCellClasses:"c-gray fw-700"})}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:()=>{0===p?(m(new Map),i({}),x(0),a()):x((e=>e-1))},children:"Back"}),(0,B.jsx)(K.A,{onClick:async()=>{let e=_.map((e=>P[e].filter((e=>!0===e.checked)))).flat();await r(e)},loading:c,children:1===p?"Create":"Next"})]})]})},Ja=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,loading:o,tab:r,setSelectedQuestions:c,skills:d,users:u,testList:h}=e;const[m,p]=(0,A.useState)(new Map),[x,v]=(0,A.useState)(0),[w,y]=(0,A.useState)([]),j=[{title:"Admins",placeholder:"Select Admins",type:G.wN.SELECT,name:"admins",validator:G.wY.REQUIRED,keyValues:u,multi:!0,height:"auto"}];return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"Assign Admins"}),(0,B.jsx)(se.A,{data:n,errors:m,onChange:e=>{const{name:t,value:a}=e.target;p((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:j}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:async()=>{if(0!==x);else{const e=(0,le.bG)(j,n);if(p(e),e.size)return;await l()}},loading:o,children:"Next"})]})]})},Xa=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,loading:o,tab:r,setSelectedQuestions:c,skills:d,users:u,testList:h}=e;const[m,p]=(0,A.useState)(new Map),[x,v]=(0,A.useState)(0),[w,y]=(0,A.useState)([]),j=[{title:"Test Type",placeholder:"Select",type:G.wN.SELECT,name:"tranning_type",validator:G.wY.REQUIRED,keyValues:[{value:"Induction Training",key:"Induction Training"},{value:"Skill Test",key:"Skill Test"},{value:"Tranning Test",key:"Tranning Test"}]},"Skill Test"===n.tranning_type&&{title:"Skill",placeholder:"Select Skill",type:G.wN.SELECT,name:"skill",validator:G.wY.REQUIRED,keyValues:d},"Skill Test"===n.tranning_type&&{title:"Test Level",placeholder:"Select Test Level",type:G.wN.SELECT,name:"level",validator:G.wY.REQUIRED,keyValues:[{value:"Level 1",key:1},{value:"Level 2",key:2},{value:"Level 3",key:3}]},{title:"Test Name",placeholder:"Select Test Level",type:G.wN.INPUT,name:"testname",validator:G.wY.REQUIRED},{title:"Max Question",placeholder:"enter number of question",type:G.wN.INPUT,inputType:"number",name:"totalQuestion",validator:G.wY.REQUIRED},"Skill Test"!==n.tranning_type&&{title:"Passing Criteria",placeholder:"enter passing criteria",type:G.wN.INPUT,name:"passing_criteria",inputType:"number",validator:G.wY.REQUIRED},{title:"Time (in min)",placeholder:"enter time in min",type:G.wN.INPUT,name:"time",inputType:"number",validator:G.wY.REQUIRED}];return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"Create Test"}),(0,B.jsx)(se.A,{data:n,errors:m,onChange:e=>{const{name:t,value:a}=e.target;p((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:j}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:async()=>{if(0!==x);else{const e=(0,le.bG)(j,n);if(p(e),e.size)return;await l()}},loading:o,children:"Next"})]})]})},Za=()=>{const e=(0,T.zy)(),t=((0,T.Zp)(),e.state),[a,n]=(0,A.useState)([]),[i,r]=(0,A.useState)(),[c,d]=(0,A.useState)(0),[u,h]=(0,A.useState)(!1),[m,p]=(0,A.useState)("testDetail"),[x,v]=(0,A.useState)(0),[w,y]=(0,A.useState)({name:"",tranning_type:"",metadata:{},skill:""}),{question_list:j,skill_list:g,test_list:f,assignExam:S,createTest:C,update:b,linkPlanTestMaster:N,addQuestion:E}=Ua(),{list:k}=ie(),[I,D]=(0,A.useState)(new Map),[_,R]=(0,A.useState)([]),[P,U]=(0,A.useState)([]),[O,L]=(0,A.useState)([]),[z,H]=(0,A.useState)(""),M=[{id:1,title:"Test Name",render:e=>e.test_name},{id:2,title:"Test Type",render:e=>e.test_type},{id:3,title:"Skill",render:e=>e.skill},{id:4,title:"Skill Level",render:e=>e.skill_level},{id:5,title:"Maximum Questions",render:e=>e.maximum_questions},{id:6,title:"Questions in Test",render:e=>e.questions_master.length},{id:7,title:"Alloted Minutes",render:e=>e.alloted_minutes},{id:8,title:"Admins",render:e=>(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:1},children:[(0,B.jsx)(s.A,{sx:{flexDirection:"column"},children:e.admin.map((e=>(0,B.jsx)(l.A,{sx:{textTransform:"capitalize"},children:e})))}),(0,B.jsx)(Ne.A,{title:"add admins",children:(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{H(e.id),p("addAssign")},children:(0,B.jsx)(Ie.A,{color:"primary",fontSize:"small"})})})]})})}];(0,A.useEffect)((()=>{console.log("planData----",t),p(!!t&&"createTest"),F(),Q(),Y()}),[]);const Q=async()=>{const[e,t]=await f();L(e)},Y=async()=>{const[e,t]=await k(x+1),a=e.filter((e=>!e.is_operator)).map((e=>({value:e.username,key:e.id})));n((e=>[...e,...a]))},F=async()=>{r("fetch");const[e]=await g(x+1),t=e.results.map((e=>({value:e.skill_name,key:e.id})));U((e=>[...e,...t])),r(!1)};return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsx)(s.A,{sx:{flexDirection:"row",alignItems:"center"},children:(0,B.jsx)("h1",{className:"mt-4",children:"Test Master"})}),(0,B.jsx)(s.A,{sx:{flexDirection:"row",gap:1},children:(0,B.jsx)(K.A,{onClick:()=>p("createTest"),children:"Create Test"})})]}),(0,B.jsx)(W,{columns:M,rows:O,rowsPerPage:10,loading:"fetch"===i,titleCellClasses:"c-gray fw-700",page:x,setPage:v,paginator:!0,serialize:!0,total:c}),(0,B.jsx)(Xa,{open:"createTest"===m,onClose:()=>{p(!1)},onSubmit:async()=>{const e={test_name:w.testname,test_type:w.tranning_type,skill:w.skill,skill_level:parseInt(w.level),maximum_questions:parseInt(w.totalQuestion),alloted_minutes:parseInt(w.time)},t={test_name:w.testname,test_type:w.tranning_type,maximum_questions:parseInt(w.totalQuestion),passing_criteria:w.passing_criteria,alloted_minutes:parseInt(w.time)},a=await C("Skill Test"!==w.tranning_type?t:e);a.id&&(H(a.id),p("addQues"))},skills:P,data:w,setData:y}),(0,B.jsx)(Va,{open:"addQues"===m,onClose:()=>{p(!1)},onSubmit:async e=>{const a=e.map((e=>e.id)),n={questions:a};await E(z,n),t&&await N(t.id,{test_master:z,training_admin:t.training_admin,trainees:t.trainees}),y({}),p(!1),await Q()},selectQuestions:_,setSelectedQuestions:R,skills:P,data:w,setData:y}),(0,B.jsx)(Ja,{open:"addAssign"===m,onClose:()=>{p(!1)},onSubmit:async()=>{const e={admin:w.admins};await E(z,e),p(!1),y({}),await Q()},users:a,testList:O,data:w,setData:y})]})},Ka=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:o,loading:r,tab:c,edit:d,selectSkill:u}=e;const h=[!0!==d&&{title:"Skill Name",placeholder:"Enter SkillName",type:G.wN.INPUT,name:"skill_name",validator:G.wY.REQUIRED}],[m,p]=(0,A.useState)(new Map),[x,v]=(0,A.useState)(0);console.log("selectSkill",u);return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(600px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===d?"Edit":"Add"," Skill"]}),d&&(0,B.jsx)("h3",{className:"opacity-80",children:n.skill_name}),(0,B.jsx)(se.A,{data:n,errors:m,onChange:e=>{const{name:t,value:a}=e.target;p((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:h}),0===x&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(s.A,{sx:{},children:[(0,B.jsx)(l.A,{sx:{mt:1,fontWeight:"bold"},children:"Level 1"}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",mt:-1},children:[(0,B.jsx)(F.A,{type:"number",title:"Duration",value:n.l1_duration,placeholder:"in days",width:"90%",onChange:e=>i((t=>({...t,l1_duration:e.target.value})))}),(0,B.jsx)(F.A,{type:"number",title:"Exam Passing Criteria",value:n.l1_exam,placeholder:"Exam Passing Criteria",width:"90%",onChange:e=>i((t=>({...t,l1_exam:e.target.value})))}),(0,B.jsx)(F.A,{type:"number",title:"Floor Work Criteria",value:n.l1_floor,placeholder:"Floor Work Criteria",width:"90%",onChange:e=>i((t=>({...t,l1_floor:e.target.value})))}),(0,B.jsx)(F.A,{type:"number",title:"No of Entry",value:n.l1_performance,placeholder:"No of Entry",width:"90%",onChange:e=>i((t=>({...t,l1_performance:e.target.value})))})]})]}),(0,B.jsxs)(s.A,{sx:{},children:[(0,B.jsx)(l.A,{sx:{mt:1,fontWeight:"bold"},children:"Level 2"}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",mt:-1},children:[(0,B.jsx)(F.A,{type:"number",title:"Duration",placeholder:"in days",width:"90%",value:n.l2_duration,onChange:e=>i((t=>({...t,l2_duration:e.target.value})))}),(0,B.jsx)(F.A,{type:"number",title:"Exam Passing Criteria",placeholder:"Exam Passing Criteria",width:"90%",value:n.l2_exam,onChange:e=>i((t=>({...t,l2_exam:e.target.value})))}),(0,B.jsx)(F.A,{type:"number",title:"Floor Work Criteria",placeholder:"Floor Work Criteria",width:"90%",value:n.l2_floor,onChange:e=>i((t=>({...t,l2_floor:e.target.value})))}),(0,B.jsx)(F.A,{type:"number",title:"No of Entry",value:n.l2_performance,placeholder:"No of Entry",width:"90%",onChange:e=>i((t=>({...t,l2_performance:e.target.value})))})]})]}),(0,B.jsxs)(s.A,{sx:{},children:[(0,B.jsx)(l.A,{sx:{mt:1,fontWeight:"bold"},children:"Level 3"}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",mt:-1},children:[(0,B.jsx)(F.A,{type:"number",title:"Duration",placeholder:"in days",width:"90%",value:n.l3_duration,onChange:e=>i((t=>({...t,l3_duration:e.target.value})))}),(0,B.jsx)(F.A,{type:"number",title:"Exam Passing Criteria",placeholder:"Exam Passing Criteria",width:"90%",value:n.l3_exam,onChange:e=>i((t=>({...t,l3_exam:e.target.value})))}),(0,B.jsx)(F.A,{type:"number",title:"Floor Work Criteria",placeholder:"Floor Work Criteria",width:"90%",value:n.l3_floor,onChange:e=>i((t=>({...t,l3_floor:e.target.value})))}),(0,B.jsx)(F.A,{type:"number",title:"No of Entry",value:n.l3_performance,placeholder:"No of Entry",width:"90%",onChange:e=>i((t=>({...t,l3_performance:e.target.value})))})]})]})]}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:async()=>{if(0===x){const e=(0,le.bG)(h,n);if(p(e),e.size)return;return await o(),void a()}},loading:r,children:"Next"})]})]})},$a=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:o,loading:r,tab:c}=e;return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"ADD REPORT"}),(0,B.jsxs)(re.Ay,{display:"grid",sx:{pt:1,gap:1},gridTemplateColumns:{sm:"repeat(4, 1fr)",xs:"repeat(4, 1fr)"},children:[(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"S no"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"Item Name"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"Plan"}),(0,B.jsx)(l.A,{sx:{fontWeight:"bold"},children:"Actual"}),[{itemName:"item 1",plan:1e3},{itemName:"item 2",plan:800},{itemName:"item 3",plan:1e3}].map(((e,t)=>(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(l.A,{children:t+1}),(0,B.jsx)(l.A,{sx:{textTransform:"capitalize"},children:e.itemName}),(0,B.jsx)(l.A,{children:e.plan}),(0,B.jsx)("input",{type:"text"})]})))]}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:o,loading:r,children:"Create"})]})]})},en=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,loading:o,user:r}=e;const[c,d]=(0,A.useState)(new Map),u=[{title:"Supervisor",placeholder:"Select Supervisor",type:G.wN.SELECT,name:"supervisor",multi:!0,height:"auto",keyValues:r}];return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"ADD SUPERVISOR"}),(0,B.jsx)(se.A,{data:n,errors:c,onChange:e=>{const{name:t,value:a}=e.target;d((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:u}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:l,loading:o,children:"Create"})]})]})},tn=()=>{const[e,t]=(0,A.useState)("Users"),[a,n]=(0,A.useState)([]),[i,r]=(0,A.useState)([]),[c,d]=(0,A.useState)(),[u,h]=(0,A.useState)(0),[m,p]=(0,A.useState)(!1),[x,v]=(0,A.useState)([]),[w,y]=(0,A.useState)(0),[j,g]=(0,A.useState)(null),[f,S]=(0,A.useState)({}),{list:C,create:b,updateSkill:N,update:E,addSupervisor:k,remove:I,opratorList:T,createOperator:D,removeOperator:_,updateOperator:R}=_e(),[P,U]=(0,A.useState)(!1),[O,L]=(0,A.useState)(""),{list:z}=ie(),[H,M]=(0,A.useState)();(0,A.useEffect)((()=>{Y()}),[w,e]),(0,A.useEffect)((()=>{Q()}),[]);const Q=async()=>{d("fetch");const[e,t]=await z(w+1),a=e.filter((e=>!e.is_operator)).map((e=>({value:e.username,key:e.id})));n((e=>[...e,...a]))},Y=async()=>{d("fetch");const[e,t]=await C(w+1);r(e.results),h(t),d(!1)},F=async()=>{const e={skill_name:f.skill_name,test_performance_criteria:[f.l1_exam,f.l2_exam,f.l3_exam],duration_between_two_tests:[f.l1_duration,f.l2_duration,f.l3_duration],floor_performance_criteria:[parseInt(f.l1_floor),parseInt(f.l2_floor),parseInt(f.l3_floor)],no_of_performance_entries:[parseInt(f.l1_performance),parseInt(f.l2_performance),parseInt(f.l3_performance)]};d("fetch");await N(e,O);await Y(),d(!1)};const G=[{id:1,title:"Skill Name",render:e=>e.skill_name},{id:112,title:"No. of Enteries",render:e=>e.no_of_performance_entries.length},{id:6,title:"Actions",render:e=>(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(s.A,{flexDirection:"row",sx:{gap:1},children:[(0,B.jsxs)(Ne.A,{title:"add supervisor",children:[" ",(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{U(!0),p("addSuper"),L(e.id)},children:(0,B.jsx)(Ie.A,{color:"primary",fontSize:"small"})})]}),(0,B.jsx)(Ne.A,{title:"edit skill",children:(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{U(!0),p("add"),M(e),S({...f,skill_name:e.skill_name,l1_duration:e.duration_between_two_tests[0],l2_duration:e.duration_between_two_tests[1],l3_duration:e.duration_between_two_tests[2],l1_exam:e.test_performance_criteria[0],l2_exam:e.test_performance_criteria[1],l3_exam:e.test_performance_criteria[2],l1_floor:e.floor_performance_criteria[0],l2_floor:e.floor_performance_criteria[1],l3_floor:e.floor_performance_criteria[2],l1_performance:e.no_of_performance_entries[0],l2_performance:e.no_of_performance_entries[1],l3_performance:e.no_of_performance_entries[2]}),L(e.id)},children:(0,B.jsx)(ae.A,{color:"primary",fontSize:"small"})})})]})})}];return(0,B.jsxs)("div",{className:"mx-3 my-2 fw-500",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)(l.A,{className:"mt-2 fw-500",children:["Skill's List",(0,B.jsxs)("span",{className:"fw-500 ml-1 ",children:["(",i.length,")"]})]}),(0,B.jsx)(s.A,{justifyContent:"flex-end",direction:"row",sx:{mb:1},children:(0,B.jsx)(K.A,{onClick:()=>{p("add"),S({})},children:"Add New Skill"})})]}),(0,B.jsx)(W,{columns:G,rows:i,rowsPerPage:10,loading:"fetch"===c,titleCellClasses:"c-gray fw-700",page:w,setPage:y,paginator:!0,serialize:!0,total:u}),(0,B.jsx)(Ka,{selectSkill:H,open:"add"===m,onClose:()=>{p(!1),U(!1)},data:f,setData:S,onSubmit:F,loading:"add"===c,edit:P}),(0,B.jsx)(en,{open:"addSuper"===m,onClose:()=>{p(!1),U(!1)},data:f,setData:S,onSubmit:async function(){const e={add:{...f}.supervisor};await k(O,e),p(!1),await Y()},loading:"add"===c,user:a}),(0,B.jsx)($a,{open:"Report"===m,onClose:()=>p(!1),onSubmit:F}),(0,B.jsx)(Ce,{onClose:()=>p(!1),open:"csvUser"===m,onSubmit:async()=>{x.map((async t=>{if("Users"===e){if(""===t.email)return;await b(t)}else{if(""===t.employee_id)return;await D(t)}})),p(!1),await Y(w=1)},file:j,setFile:g,setCsvData:v,tab:e})]})};var an=a(7332);const nn=()=>{const e=(0,T.zy)(),[t,a]=((0,T.Zp)(),e.state,(0,A.useState)("List")),[n,i]=(0,A.useState)([]),[l,o]=(0,A.useState)(),[r,c]=(0,A.useState)(0),[d,u]=(0,A.useState)(!1),[h,m]=(0,A.useState)("testDetail"),[p,x]=(0,A.useState)(0),[v,w]=(0,A.useState)({name:"",metadata:{}}),{question_list:y,skill_list:j,create:g,update:f,remove:S}=Ua(),[C,b]=(0,A.useState)(null),[N,E]=(0,A.useState)([]),[k,I]=(0,A.useState)(new Map),[_,R]=(0,A.useState)([]);(0,A.useEffect)((()=>{U()}),[]),(0,A.useEffect)((()=>{P()}),[t]);const P=async()=>{o("fetch");const[e,t]=await y(p+1);R(e),c(t),o(!1)},U=async()=>{o("fetch");const[e]=await j(p+1),t=e.results.map((e=>({value:e.skill_name,key:e.id})));i((e=>[...e,...t])),o(!1)},O=[{title:"Test Type",placeholder:"Select",type:G.wN.SELECT,name:"tranning_type",validator:G.wY.REQUIRED,keyValues:[{value:"Induction Training",key:"Induction Training"},{value:"Skill Test",key:"Skill Test"},{value:"Tranning Test",key:"Tranning Test"}]},"Skill Test"===v.tranning_type&&{title:"Skill",placeholder:"Select Skill",type:G.wN.SELECT,name:"skill",validator:G.wY.REQUIRED,keyValues:n},"Skill Test"===v.tranning_type&&{title:"Tranning Level",placeholder:"Select Test Level",type:G.wN.SELECT,name:"level",validator:G.wY.REQUIRED,keyValues:[{value:"Level 1",key:1},{value:"Level 2",key:2},{value:"Level 3",key:3}]}],L=[{id:1,title:"Question",render:e=>e.question_text},{id:2,title:"Skill",render:e=>e.skill},{id:3,title:"Skill Level",render:e=>e.skill_level?"Level "+e.skill_level:"-"},{id:33,title:"Induction Question",render:e=>!0===e.induction_question?"True":"False"},{id:4,title:"Compulsory",render:e=>!0===e.compulsory?"True":"False"},{id:55,title:"Status",render:e=>(0,B.jsx)(an.A,{color:!0===e.status?"success":"error"})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsx)(s.A,{sx:{flexDirection:"row",alignItems:"center"},children:(0,B.jsx)("h1",{className:"mt-4",children:"Question Bank"})})}),(0,B.jsx)(de.A,{value:t,onChange:(e,t)=>{a(t),x(0)},className:"mb-2 fw-500",children:["List","Upload"].map(((e,t)=>(0,B.jsx)(ue.A,{label:e,className:"fw-500",value:e},t)))}),"Upload"===t&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(se.A,{data:v,errors:k,onChange:e=>{const{name:t,value:a}=e.target;I((e=>(e.delete(t),e))),w((e=>({...e,[t]:a})))},schema:O}),(0,B.jsx)(s.A,{sx:{mt:2,flexDirection:"row",justifyContent:"flex-end"},children:(0,B.jsx)(K.A,{bordered:!0,onClick:()=>m("csvUser"),children:"upload CSV file"})})]}),"List"===t&&(0,B.jsx)(W,{columns:L,rows:_,rowsPerPage:10,loading:"fetch"===l,titleCellClasses:"c-gray fw-700",page:p,setPage:x,serialize:!0,total:r}),(0,B.jsx)(Ce,{tab:"question",onClose:()=>m(!1),open:"csvUser"===h,onSubmit:async function(){o("fetch"),N.slice(1).forEach((async e=>{const t=e[0],a=e[1],n=e[e.length-1],i=new Set;e.slice(2).forEach((e=>{""!==e&&i.add(e)}));const s=Array.from(i);s.pop();const l={compulsory:"TRUE"===t,question_text:a,question_options:s,correct_answer:parseInt(n),skill:v.skill,skill_level:v.level,induction_question:"Induction Training"===v.tranning_type};await g(l)})),m(!1),o(!1),D.oR.success("Question are uploaded in question bank."),await P(),a("List")},file:C,setFile:b,setCsvData:E})]})};function sn(e){let{title:t,chartColors:a,chart:n,...i}=e;const{series:l,options:o}=n,r=l.map((e=>e.value)),c={chart:{width:200,type:"pie"},dataLabels:{enabled:!1},legend:{show:!1},tooltip:{enabled:!1},colors:a,responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]};return(0,B.jsx)(s.A,{sx:{},dir:"ltr",children:(0,B.jsx)(ut.A,{type:"pie",series:r,options:c})})}const ln=()=>{const{token:e}=(0,w.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":V.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>1?arguments[1]:void 0;const a=new V.Ay,n=await a.get("training/".concat(e,"/skill-matrix/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),null===n||void 0===n?void 0:n.data):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;const n=new V.Ay,i=await n.post("".concat(J.H.ASSET,"/").concat(a,"/").concat(J.H.PLANTS,"/"),e,t,(e=>(0,q.So)(e,null,"Plant created successfully!")));return null===i||void 0===i?void 0:i.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new V.Ay,i=await n.put("".concat(J.H.ASSET,"/").concat(J.H.PLANT,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Plant Updated successfully!")));return null===i||void 0===i?void 0:i.data},remove:async e=>{const a=new V.Ay,n=await a.delete("".concat(J.H.ASSET,"/").concat(J.H.PLANT,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Plant deleted successfully!")));return null===n||void 0===n?void 0:n.data},postPerformance:async e=>{const a=new V.Ay,n=await a.post("performance-record/".concat(e.operator,"/"),{skill:e.skill,skill_level:e.skill_level},t,(e=>(0,q.So)(e,null)));return null===n||void 0===n?void 0:n.data},getPerformanceSkill:async e=>{const a=new V.Ay,n=await a.get("training/update-skill/".concat(e.operator,"/"),{},t,(e=>(0,q.So)(e,null)));return null===n||void 0===n?void 0:n.data},performanceRecord:async e=>{const a=new V.Ay,n=await a.post("training/".concat(e.operator,"/performance-record/"),{skill:e.skill,skill_level:e.skill_level},t,(e=>(0,q.So)(e,null)));return null===n||void 0===n?void 0:n.data},putPerformanceRecord:async(e,a)=>{const n=new V.Ay,i=await n.put("training/performance-record/".concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"Performance uploaded.")));return null===i||void 0===i?void 0:i.data},performanceList:async e=>{const a=e.replace(/-/g,""),n=new V.Ay,i=await n.get("training/date-wise-performance-record/".concat(a,"/"),{},t,q.So);return null!==i&&void 0!==i&&i.data?(console.log("res  ",i.data),null===i||void 0===i?void 0:i.data):[[],0]},getPerformanceId:async e=>{const a=new V.Ay,n=await a.get("training/".concat(e.operator,"/performance-record/"),{},t,(e=>(0,q.So)(e,null)));return null===n||void 0===n?void 0:n.data}}},on=()=>{const e=(0,T.zy)(),[t,a]=((0,T.Zp)(),e.state,(0,A.useState)([])),[n,i]=(0,A.useState)(),[o,r]=(0,A.useState)(0),[c,d]=(0,A.useState)(!1),[u,h]=(0,A.useState)("testDetail"),[m,p]=(0,A.useState)(0),[x,v]=(0,A.useState)({name:"",tranning_type:"",metadata:{},skill:""}),{list:w,question_list:y,test_list:j,assignExam:g,createTest:f,update:S,remove:C,addQuestion:b}=ln(),{list:N}=ie(),{list:E}=_e(),[k,I]=(0,A.useState)(new Map),[D,U]=(0,A.useState)([]),[H,M]=(0,A.useState)([]),[Q,Y]=(0,A.useState)("");(0,A.useEffect)((()=>{q(),W()}),[]);const W=async()=>{const[e,t]=await N(),a=e.filter((e=>e.is_operator)),n=await Promise.all(a.map((e=>w(m+1,e.id))));D.map((e=>{n.map((t=>{console.log("newOptr----item2",t),e.id===t.id&&console.log("match skill",e.id)}))})),M((e=>[...e,...n]))},q=async()=>{const[e]=await E(m+1);console.log("fetchSkill-----------",e.results),U(e.results)};return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsx)(s.A,{sx:{flexDirection:"row",alignItems:"center"},children:(0,B.jsx)("h1",{className:"mt-4",children:"Skill Matrix"})})}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:2},children:[(0,B.jsxs)(s.A,{sx:{width:120},children:[(0,B.jsx)(sn,{chartColors:["#AA4A44",G.lm.GRAY,G.lm.GRAY,G.lm.GRAY],chart:{series:[{value:25},{value:25},{value:25},{value:25}]}}),(0,B.jsx)(l.A,{sx:{fontSize:12},textAlign:"center",children:"Induction"})]}),(0,B.jsxs)(s.A,{sx:{width:120},children:[(0,B.jsx)(sn,{chartColors:["#AA4A44","#008FFB",G.lm.GRAY,G.lm.GRAY],chart:{series:[{value:25},{value:25},{value:25},{value:25}]}}),(0,B.jsx)(l.A,{sx:{fontSize:12},textAlign:"center",children:"Level 1"})]}),(0,B.jsxs)(s.A,{sx:{width:120},children:[(0,B.jsx)(sn,{chartColors:["#AA4A44","#008FFB","#00E396",G.lm.GRAY],chart:{series:[{value:25},{value:25},{value:25},{value:25}]}}),(0,B.jsx)(l.A,{sx:{fontSize:12},textAlign:"center",children:"Level 2"})]}),(0,B.jsxs)(s.A,{sx:{width:120},children:[(0,B.jsx)(sn,{chartColors:["#AA4A44","#008FFB","#00E396","#775DD0"],chart:{series:[{value:25},{value:25},{value:25},{value:25}]}}),(0,B.jsx)(l.A,{sx:{fontSize:12},textAlign:"center",children:"Level 3"})]})]}),(0,B.jsx)(s.A,{sx:{py:1},children:(0,B.jsx)(F.A,{placeholder:"Search By Aadhar Number"})}),(0,B.jsx)(O.A,{children:(0,B.jsxs)(_.A,{children:[(0,B.jsx)(L.A,{sx:{backgroundColor:G.lm.BG_GRAY},children:(0,B.jsxs)(z.A,{children:[(0,B.jsx)(P.A,{className:"c-gray fw-700 text-nowrap h3",sx:{color:"black"},children:"S No."}),(0,B.jsx)(P.A,{className:"c-gray fw-700 text-nowrap h3",sx:{color:"black"},children:"Aadhar"}),D.map((e=>(0,B.jsx)(P.A,{className:"c-gray fw-700 text-nowrap h3",sx:{color:"black",pl:5},children:e.skill_name})))]})}),(0,B.jsx)(s.A,{sx:{p:.2}}),(0,B.jsx)(R.A,{children:H.map(((e,t)=>(0,B.jsx)(V,{row:e,arr:D,index:t})))})]})})]});function V(e){let{row:t,arr:a,index:n}=e;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(s.A,{sx:{p:.3}}),(0,B.jsxs)(z.A,{sx:{backgroundColor:G.lm.LG_GRAY},children:[(0,B.jsx)(P.A,{className:"c-gray fw-700 text-nowrap h3",sx:{color:"black"},children:n+1}),(0,B.jsx)(P.A,{className:"c-gray fw-700 text-nowrap h3",sx:{color:"black"},children:t.aadhar}),a.map(((e,a)=>{let n=["#AA4A44",G.lm.GRAY,G.lm.GRAY,G.lm.GRAY],i=["#AA4A44","#008FFB",G.lm.GRAY,G.lm.GRAY],l=["#AA4A44","#008FFB","#00E396",G.lm.GRAY],o=[G.lm.GRAY,G.lm.GRAY,G.lm.GRAY,G.lm.GRAY];return(0,B.jsx)(P.A,{className:"c-gray fw-700 text-nowrap h3",sx:{color:"black",p:0,px:1},children:(0,B.jsx)(s.A,{sx:{width:120},children:(0,B.jsx)(sn,{chartColors:0===t[e.id]?n:1===t[e.id]?i:2===t[e.id]?l:3===t[e.id]?["#AA4A44","#008FFB","#00E396","#775DD0"]:o,chart:{series:[{value:25},{value:25},{value:25},{value:25}]}})})})}))]},t._id)]})}};a(7330);const rn=()=>{const e=(0,T.zy)(),[t,a]=((0,T.Zp)(),(0,w.wA)(),e.state,(0,w.d4)((e=>e)),(0,A.useState)([])),[n,i]=(0,A.useState)(),[l,o]=(0,A.useState)(0),[r,c]=(0,A.useState)(!1),[d,u]=(0,A.useState)("testDetail"),[h,m]=(0,A.useState)(0),[p,x]=(0,A.useState)({}),{question_list:v,skill_list:y,test_list:j,assignExam:g,induction_question:f,createTest:S,update:C,remove:b,addQuestion:N,updateTest:E}=Ua(),{list:k,listByAadhar2:I}=ie(),[D,_]=(0,A.useState)(null),[R,P]=(0,A.useState)([]),[U,O]=(0,A.useState)(new Map),[L,z]=(0,A.useState)([]),[H,M]=(0,A.useState)([]),[Q,Y]=(0,A.useState)([]),[F,W]=(0,A.useState)([]),q=[{title:"Operator",placeholder:"Select Operator",type:G.wN.MASTER,name:"operator",validator:G.wY.REQUIRED,fetch:[I],noSearch:!0},{title:"Test",placeholder:"Select test",type:G.wN.SELECT,name:"test",validator:G.wY.REQUIRED,keyValues:F}];(0,A.useEffect)((()=>{J(),X(),V()}),[]);const V=()=>{console.log("listByAadhar---")},J=async()=>{const[e,t]=await j(),a=e.map((e=>({value:"".concat(e.test_name,"_").concat(e.skill,"_").concat(e.skill_level),key:e.id})));W(a)},X=async()=>{const[e,t]=await k(h+1),n=e.filter((e=>e.is_operator)).map((e=>({value:e.username,key:e.id})));a((e=>[...e,...n]))};return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsx)(s.A,{sx:{flexDirection:"row",alignItems:"center"},children:(0,B.jsx)("h1",{className:"mt-4",children:"Testing Portal"})})}),(0,B.jsx)(re.Ay,{display:"grid",gap:1,mb:1,gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:(0,B.jsx)(se.A,{data:p,errors:U,onChange:e=>{const{name:t,value:a}=e.target;O((e=>(e.delete(t),e))),x((e=>({...e,[t]:a})))},schema:q})}),(0,B.jsx)(s.A,{sx:{alignItems:"flex-end"},children:(0,B.jsx)(K.A,{onClick:async()=>{let e=await g(p);console.log("response----",e),e&&await async function(e){localStorage.setItem("draweWidth",0);const t={key1:e.id},a=new URLSearchParams(t).toString(),n="/test?".concat(a);window.open(n,"_blank","rel=noopener noreferrer")}(e),u(!1),x({})},children:"Create"})})]})},cn=()=>{const{token:e}=(0,w.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":V.yw.APPLICATION_JSON};return{list:async function(){const e=new V.Ay,a=await e.get("".concat(J.H.TRAINING,"/").concat(J.H.TRAININGS,"/"),{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new V.Ay,n=await a.post("".concat(J.H.TRAINING,"/").concat(J.H.TRAININGS,"/"),e,t,(e=>(0,q.So)(e,null,"Created successfully!")));return null===n||void 0===n?void 0:n.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new V.Ay,i=await n.put("".concat(J.H.ASSET,"/").concat(J.H.LINE,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Line Updated successfully!")));return null===i||void 0===i?void 0:i.data},remove:async e=>{const a=new V.Ay,n=await a.delete("".concat(J.H.ASSET,"/").concat(J.H.LINE,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Line deleted successfully!")));return null===n||void 0===n?void 0:n.data}}},dn=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,loading:o,edit:r,users:c}=e;const{list:d,groupUser:u}=Bt(),[h,m]=(0,A.useState)([]);(0,A.useEffect)((()=>{w()}),[]);const p=[{title:"Training Name",placeholder:"Enter Training Name",type:G.wN.INPUT,name:"training_name",validator:G.wY.REQUIRED},{title:"Training Type",placeholder:"Enter Training Type",type:G.wN.INPUT,name:"training_type",validator:G.wY.REQUIRED},{title:"Training Description",placeholder:"Enter Training Description",type:G.wN.INPUT,name:"training_description"},{title:"Trainer",placeholder:"Enter trainer Name",type:G.wN.INPUT,name:"trainer"},{title:"Training Admin",placeholder:"Enter Training admin",type:G.wN.SELECT,name:"training_admin",validator:G.wY.REQUIRED,keyValues:c,multi:!0,height:"auto"},{title:"Groups",placeholder:"Select group",type:G.wN.SELECT,name:"group",keyValues:h,multi:!0,height:"auto"},{title:"Trainees",placeholder:"Select Trainees",type:G.wN.SELECT,name:"trainees",keyValues:c,multi:!0,height:"auto"},{title:"Start Date",placeholder:"Select Start Date",type:G.wN.DATE,name:"start_date",validator:G.wY.REQUIRED},{title:"End Date",placeholder:"Select End Date",type:G.wN.DATE,name:"end_date"},{title:"Start Time",placeholder:"Select start Time",type:G.wN.TIME,name:"start_time",validator:G.wY.REQUIRED},{title:"End Time",placeholder:"Select End Time",type:G.wN.TIME,name:"end_time"},{title:"Test Required at End of Training",type:G.wN.RADIO,name:"test_required",validator:G.wY.REQUIRED,keyValues:[{value:"yes",label:"Yes"},{value:"no",label:"No"}]},{title:"Feedback at End of Training",type:G.wN.RADIO,name:"feedback_required",validator:G.wY.REQUIRED,keyValues:[{value:"yes",label:"Yes"},{value:"no",label:"No"}]},"yes"===n.feedback_required&&{title:"Feedback Link",placeholder:"Enter Feedback Link",type:G.wN.INPUT,name:"feedback_link",validator:G.wY.REQUIRED}],[x,v]=(0,A.useState)(new Map),w=async()=>{const[e]=await d();console.log("fetchGroups------\x3e>>>",e);const t=e.map((e=>({value:e.name,key:e.id})));m((e=>[...e,...t]))};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(re.Ay,{display:"grid",gap:1,sx:{},gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:(0,B.jsx)(se.A,{data:n,errors:x,onChange:e=>{console.log(e.target);const{name:t,value:a}=e.target;v((e=>(e.delete(t),e))),i((e=>({...e,[t]:a})))},schema:p})}),(0,B.jsx)(s.A,{alignItems:"flex-end",mb:1,children:(0,B.jsx)(K.A,{onClick:async()=>{const e=(0,le.bG)(p,n);v(e),e.size||await l()},loading:o,children:"Create"})})]})},un=()=>{const e=(0,T.zy)(),t=(0,T.Zp)(),a=e.state,[n,i]=(0,A.useState)([]),[o,r]=(0,A.useState)([]),[c,d]=(0,A.useState)(),[u,h]=(0,A.useState)(0),[m,p]=(0,A.useState)(!1),[x,v]=(0,A.useState)(!1),[w,y]=(0,A.useState)(0),[j,g]=(0,A.useState)({feedback_required:"no",test_required:"no"}),{list:f,create:S,update:C,remove:b}=cn(),{groupUser:N}=Bt(),{list:E}=ie();(0,A.useEffect)((()=>{I(),k()}),[w]);const k=async()=>{const[e]=await f();r(e)},I=async()=>{const[e,t]=await E(w+1),a=e.map((e=>({value:e.username,key:e.id})));i((e=>[...e,...a]))},D=[{id:1,title:"Training Name",render:e=>(0,B.jsx)(l.A,{color:"primary",sx:{cursor:"pointer"},children:e.training_name})},{id:2,title:"Training Type",render:e=>e.training_type},{id:22,title:"Trainer",render:e=>e.trainer},{id:23,title:"Start Date",render:e=>e.start_date},{id:24,title:"End Date",render:e=>e.end_date},{id:32,title:"Details",render:e=>(0,B.jsx)(ze,{icon:(0,B.jsx)(Ue.A,{fontSize:"small"}),json:null===e||void 0===e?void 0:e.metadata})}];return(0,B.jsxs)("div",{className:"mx-4",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsx)(s.A,{sx:{flexDirection:"row",alignItems:"center"},children:"add"===x?(0,B.jsx)("h1",{className:"",children:"Plan Training"}):(0,B.jsxs)("h1",{className:"",children:["Plan Training",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",o.length,")"]})]})}),"add"!==x&&(0,B.jsx)(K.A,{onClick:()=>v("add"),children:"Add Training"})]}),"add"!==x?(0,B.jsx)(W,{columns:D,rows:o,rowsPerPage:5,loading:"fetch"===c,titleCellClasses:"c-gray fw-700",page:w,setPage:y,paginator:!0,serialize:!0,total:u,trainings:!0}):(0,B.jsx)(dn,{users:n,open:"add"===x,onClose:()=>{v(!1),p(!1)},data:j,edit:m,setData:g,onSubmit:async()=>{var e,n=[];if((null===(e=j.group)||void 0===e?void 0:e.length)>0){n=(await Promise.all(j.group.map((e=>N(e))))).map((e=>e.users.map((e=>e.id)))).flat()}const i={training_name:j.training_name,training_type:j.training_type,training_description:j.training_description,trainer:j.trainer,training_admin:j.training_admin,trainees:[...j.trainees,...n],start_date:j.start_date,end_date:j.end_date,start_time:j.start_time,end_time:j.end_time,feedback_link:j.feedback_link};d("fetch");let s=await S(i,a);console.log("planning createRes----",s),g({}),v(!1),"yes"===j.test_required?t("/test-upload",{state:{id:s.id,training_admin:i.training_admin,trainees:i.trainees}}):await k(),d(!1),p(!1)}})]})},hn=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:l,onSubmit2:o,loading:r,setSelectedQuestions:c,skills:d,users:u,testList:h}=e;const[m,p]=(0,A.useState)(new Map),[x,v]=(0,A.useState)(0),{getPerformanceSkill:w,getPerformanceId:y}=ln(),j=[0===x&&{title:"Operators",placeholder:"Select operator",type:G.wN.SELECT,name:"operator",validator:G.wY.REQUIRED,keyValues:u},0===x&&{title:"Skill",placeholder:"Select Skill",type:G.wN.INPUT,name:"skill",disabled:!0},0===x&&{title:"Skill Level",placeholder:"Select skill level",type:G.wN.INPUT,name:"skill_level",disabled:!0},1===x&&{title:"Date",type:G.wN.DATE,name:"plan_date",validator:G.wY.REQUIRED},1===x&&{title:"Plan",placeholder:"",type:G.wN.INPUT,name:"plan",inputType:"number",validator:G.wY.REQUIRED},1===x&&{title:"Actual",placeholder:"",type:G.wN.INPUT,inputType:"number",name:"actual",validator:G.wY.REQUIRED}];return(0,B.jsxs)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"Add Performance"}),(0,B.jsx)(se.A,{data:n,errors:m,onChange:e=>{const{name:t,value:a}=e.target;p((e=>(e.delete(t),e))),i((e=>({...e,[t]:a}))),"operator"===t&&(console.log("operator id ",a),(async e=>{let t=e,a={operator:e},s=await w(a),l=await y(a);console.log("getPerformanceRecord-----\x3e>>>",l[0].id),s&&(3===s.skill_level?i({...n,skill_level:s.skill_level,skill:s.skill,operator:t,skill_id:l[0].id}):i({...n,skill_level:s.skill_level+1,skill:s.skill,operator:t,skill_id:l[0].id}))})(a))},schema:j}),(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(K.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(K.A,{onClick:async()=>{if(0!==x)if(1!==x);else{const e=(0,le.bG)(j,n);if(p(e),e.size)return;await o()}else{const e=(0,le.bG)(j,n);if(p(e),e.size)return;v((e=>e+1))}},loading:r,children:"Next"})]})]})},mn=()=>{const e=(0,T.zy)(),[t,a]=((0,T.Zp)(),e.state,(0,A.useState)([])),[n,i]=(0,A.useState)(),[l,o]=(0,A.useState)(0),[r,c]=(0,A.useState)(!1),[d,u]=(0,A.useState)("testDetail"),[h,m]=(0,A.useState)(0),[p,x]=(0,A.useState)({operator:"",plan_date:(new Date).toISOString().split("T")[0]}),{putPerformanceRecord:v,performanceList:w,createTest:y,update:j,remove:g,performanceRecord:f,getPerformanceRecord:S,postPerformance:C}=ln(),{list:b}=ie(),{list:N}=_e(),[E,k]=(0,A.useState)(new Map),[I,D]=(0,A.useState)([]),[_,R]=(0,A.useState)([]),[P,U]=(0,A.useState)([]),[O,L]=(0,A.useState)([]),[z,H]=(0,A.useState)(""),[M,Q]=(0,A.useState)((new Date).toISOString().split("T")[0]);(0,A.useEffect)((()=>{G(),F()}),[]),(0,A.useEffect)((()=>{Y()}),[M]);const Y=async()=>{const e=await w(M);console.log("res performance list",e.list),U(e.list)},F=async()=>{const[e,t]=await b(),n=e.filter((e=>e.is_operator)).map((e=>({value:e.username,key:e.id})));a((e=>[...e,...n]))},G=async()=>{const[e]=await N(h+1),t=e.results.map((e=>({value:e.skill_name,key:e.id})));D((e=>[...e,...t]))};return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsx)(s.A,{sx:{flexDirection:"row",alignItems:"center"},children:(0,B.jsx)("h1",{className:"mt-4",children:"Performance"})}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:1},children:[(0,B.jsx)(s.A,{children:(0,B.jsx)(xt.A,{value:M,onChange:e=>Q(e.target.value)})}),(0,B.jsx)(K.A,{width:"fit-content",onClick:()=>u("addReport"),children:"Add Performance"})]})]}),(0,B.jsx)(W,{columns:[{id:1,title:"Operator Aadhar",render:e=>e.aadhar_number},{id:13,title:"Skill",render:e=>e.skill},{id:12,title:"Skill Level",render:e=>e.skill_level},{id:2,title:"Plan",render:e=>e.plan},{id:3,title:"Actual",render:e=>e.actual}],rows:P,rowsPerPage:10,loading:"fetch"===n,titleCellClasses:"c-gray fw-700",serialize:!0,total:l}),(0,B.jsx)(hn,{open:"addReport"===d,onClose:()=>{u(!1)},users:t,skills:I,testList:_,data:p,setData:x,onSubmit2:async()=>{var e=p.plan_date.replace(/-/g,"");const t={new_entry:{[e]:{plan:p.plan,actual:p.actual}}};await v(p.skill_id,t),x({}),u(!1),x({...p,plan_date:(new Date).toISOString().split("T")[0]}),Y()}})]})};var pn=a(5475),xn=a(8625);const An={capsule:"capsule_capsule__UlHiC"};function vn(e){let{capsuleText:t}=e;var a;switch(t){case"Plan":default:a="#fa7474";break;case"Processing":a="#ffd6b0";break;case"Running":a="#e9efc5"}return(0,B.jsx)("div",{className:An.capsule,style:{backgroundColor:a},children:t})}const wn=a.p+"static/media/action-icon.7ea474ec817bbcbc0bcf492a497a0fdd.svg";const yn=a.p+"static/media/cross-icon.85e1f4ddd2a1c7249092ed4d0985792a.svg",jn=e=>{let{open:t,onClose:a,data:n,setData:i,onSubmit:s,handleAdd2:l,loading:o,tab:r}=e;G.wN.INPUT,G.wY.REQUIRED,G.wN.INPUT,G.wN.INPUT,G.wN.INPUT,G.wY.REQUIRED,G.wN.INPUT,G.wN.INPUT,G.wN.INPUT,"Users"===r&&G.wN.INPUT,G.wN.INPUT,G.wN.DATE;const[c,d]=(0,A.useState)(new Map),[u,h]=(0,A.useState)(0);return(0,B.jsx)($.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"81vw",hideCloseIcon:yn,children:(0,B.jsxs)("div",{className:"orderDetailsContainer",children:[(0,B.jsx)("div",{className:"leftPart",children:(0,B.jsxs)("ul",{className:"orderDetailKeyList",children:[(0,B.jsx)("li",{children:"Order ID"}),(0,B.jsx)("li",{children:"Client"}),(0,B.jsx)("li",{children:"Qty"}),(0,B.jsx)("li",{children:"Start Date"}),(0,B.jsx)("li",{children:"End Date"}),(0,B.jsx)("li",{children:"Detail 1"}),(0,B.jsx)("li",{children:"Detail 2"}),(0,B.jsx)("li",{children:"Detail 3"}),(0,B.jsx)("li",{children:"Detail 4"}),(0,B.jsx)("li",{children:"Detail 5"})]})}),(0,B.jsx)("div",{className:"rightPart",children:(0,B.jsxs)("ul",{className:"orderDetailValueList",children:[(0,B.jsx)("li",{children:"SYU5690021787354"}),(0,B.jsx)("li",{children:"Vista Corporation, Northern Heights,"}),(0,B.jsx)("li",{children:"18,000"}),(0,B.jsx)("li",{children:"1 Jul 2024"}),(0,B.jsx)("li",{children:"15 Jul 2024"}),(0,B.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),(0,B.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),(0,B.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),(0,B.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),(0,B.jsx)("li",{children:"Lorem ipsum dolor sit amet"})]})})]})})},gn=e=>{let{setLocalUI:t,data:a={orderId:"SYU567623711222",status:null},noStepFn:n=(()=>{}),nextStepFn:i=(()=>{})}=e;return(0,B.jsxs)("div",{className:"action_modal__container",children:[(0,B.jsx)("div",{children:(0,B.jsx)(za.A,{sx:{fontSize:"6rem",color:"#86D56A"}})}),(0,B.jsxs)("p",{children:["Material Planning for Order Id ",(0,B.jsx)("strong",{children:null===a||void 0===a?void 0:a.orderId})," ","is successfully done."]}),(0,B.jsxs)("p",{children:["Order Id ",(0,B.jsx)("strong",{children:null===a||void 0===a?void 0:a.orderId})," is in Processing Stage now."]}),(0,B.jsxs)("p",{children:["Do you want to move it to ",(0,B.jsx)("em",{children:"Running Stage"}),"?"]}),(0,B.jsxs)("div",{className:"material-planner-layout-footer",style:{gap:"2.5rem"},children:[(0,B.jsx)(K.A,{onClick:n,white:!0,width:"8rem",height:"2.5rem",bordered:!0,customStyle:{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"},children:"No"}),(0,B.jsx)(K.A,{onClick:i,color:"green",width:"8rem",height:"2.5rem",children:"Yes"})]})]})},fn=[{color:"var(--primary-color)",title:"Plan",value:38},{color:"var(--secondary-color)",title:"Processing",value:14},{color:"var(--tertiary-color)",title:"Running",value:2}],Sn=[{order_id:"ORD1001",client_id:"CLT001",qty:10,startDate:"2023-01-01",endDate:"2023-01-05",status:"Plan",action:!0},{order_id:"ORD1002",client_id:"CLT002",qty:5,startDate:"2023-02-01",endDate:"2023-02-03",status:"Processing",action:!1},{order_id:"ORD1003",client_id:"CLT003",qty:15,startDate:"2023-03-01",endDate:"2023-03-07",status:"Running",action:!0},{order_id:"ORD1004",client_id:"CLT004",qty:7,startDate:"2023-04-01",endDate:"2023-04-04",status:"Plan",action:!1},{order_id:"ORD1005",client_id:"CLT005",qty:12,startDate:"2023-05-01",endDate:"2023-05-08",status:"Processing",action:!0}];const Cn=e=>{let{color:t,title:a,value:n}=e;return(0,B.jsxs)("span",{className:"overview-metrics-box",style:{backgroundColor:t},children:[(0,B.jsx)("p",{children:a}),(0,B.jsx)("p",{children:n})]})},bn=function(){const e=(0,T.Zp)(),[t]=(0,pn.ok)(),[a,n]=(0,A.useState)(!0),[i,s]=(0,A.useState)({pageLoading:!0,actionModal:!1,selectedOrderId:null,selectOrderStatus:null,userActionStatus:null}),[l,r]=(0,A.useState)(Sn),[c,d]=(0,A.useState)(0),[u,h]=(0,A.useState)(!1),[m,p]=(0,A.useState)(0),[x,v]=(0,A.useState)(!1),[w,y]=(0,A.useState)({specification:{},location:{}}),j=t=>{switch(t.status){case G.ht.PLAN:e("/material-planner-plan?orderId=".concat(t.order_id,"&orderStatus=").concat(t.status));break;case G.ht.PROCESSING:s({actionModal:!0,selectedOrderId:t.order_id,selectOrderStatus:t.status})}},g=t.get("orderId"),f=t.get("status"),S=t.get("orderStatus");return(0,A.useEffect)((()=>{if(g&&f&&S){let e=i;f.toLowerCase()===G.eN.SCANNED&&(e.actionModal=!0,e.selectedOrderId=g,e.selectOrderStatus=S,e.userActionStatus=f),e.pageLoading=!1,s({...e})}else s({...i,pageLoading:!1})}),[g,f]),i.pageLoading?(0,B.jsx)("div",{className:"mx-3 my-2",style:{display:"grid",placeItems:"center"},children:(0,B.jsx)(Q.A,{green:!0})}):(0,B.jsxs)("div",{className:"mx-3 my-2 material-planner-layout",children:[(0,B.jsxs)("div",{className:"material-planner-layout-header",children:[(0,B.jsx)("h4",{children:"Overview"}),(0,B.jsx)("div",{className:"overview-metrics-container",children:fn.map((e=>(0,B.jsx)(Cn,{color:e.color,title:e.title,value:e.value})))}),(0,B.jsxs)("div",{className:"overview-last-refresh",children:[(0,B.jsx)("h6",{children:"Last refresh"}),(0,B.jsx)("p",{style:{fontWeight:400,fontSize:".875rem"},children:"10:00, 21 Oct 2024"}),(0,B.jsx)(o.A,{children:(0,B.jsx)(xn.A,{})})]})]}),(0,B.jsx)("div",{className:"material-planner-layout-body",children:(0,B.jsx)(W,{edit:x,columns:[{id:1,title:"Order ID",render:e=>(0,B.jsx)("span",{onClick:()=>h("add"),style:{cursor:"pointer",color:"blue"},children:e.order_id})},{id:2,title:"Client ID",render:e=>e.client_id},{id:4,title:"Qty",render:e=>e.qty},{id:5,title:"Start Date",render:e=>e.startDate},{id:6,title:"End Date",render:e=>e.endDate},{id:8,title:"Status",render:e=>(0,B.jsx)(vn,{capsuleText:e.status})},{id:9,title:"Action",render:e=>e.status!==G.ht.RUNNING?(0,B.jsx)("img",{src:wn,style:{width:"2.78vw",height:"2.78vw",cursor:"pointer"},alt:"Action Icon",onClick:()=>j(e)}):""}],rows:l,rowsPerPage:5,loading:"fetch"===a,titleCellClasses:"c-gray fw-700",page:m,setPage:p,paginator:!0,serialize:!0,total:c})}),(0,B.jsx)(jn,{open:"add"===u,onClose:()=>h(!1),data:w,setData:y}),i.actionModal&&(0,B.jsx)($.A,{open:i.actionModal,onClose:()=>s({actionModal:!1}),width:"50vw",top:"20vh",hideCloseIcon:yn,children:(0,B.jsx)(gn,{data:{orderId:i.selectedOrderId,status:i.selectOrderStatus},noStepFn:()=>{const e=[...l],t=l.findIndex((e=>e.order_id===i.selectedOrderId));-1!==t&&i.userActionStatus===G.eN.SCANNED&&(e[t].status=G.ht.PROCESSING),r(e),s({...i,actionModal:!1})},nextStepFn:()=>{const e=[...l],t=l.findIndex((e=>e.order_id===i.selectedOrderId));-1!==t&&(e[t].status=G.ht.RUNNING),r(e),s({...i,actionModal:!1})}})})]})};var Nn=a(1707);const En=e=>{let{label:t,path:a,isLast:n}=e;return n?(0,B.jsx)("span",{className:"breadcrumb-item current",children:t}):(0,B.jsx)(pn.N_,{to:a,className:"breadcrumb-item",children:t})},kn=()=>{const e=(0,T.zy)(),[t,a]=(0,A.useState)([]),[n]=(0,pn.ok)();return(0,A.useEffect)((()=>{if(e){const t=e.pathname.split("/"),i=[];t.forEach(((e,t)=>{switch(e){case"material-planner-plan":i.push({label:"Home",path:"/material-planner"}),i.push({label:"Order ID",path:""});break;case"plan":i.push({label:"Plan",path:"/material-planner/plan"})}})),i.push({label:n.get("orderId"),path:""}),a(i)}}),[e]),(0,B.jsx)("nav",{"aria-label":"Breadcrumb",children:(0,B.jsx)("ol",{className:"breadcrumb-container",children:t.map(((e,a)=>(0,B.jsxs)("li",{children:[(0,B.jsx)(En,{label:e.label,path:e.path,isLast:a===t.length-1}),a<t.length-1&&(0,B.jsx)("span",{className:"breadcrumb-separator",children:(0,B.jsx)(Nn.A,{})})]},e.path)))})})},In=[{material_id:"MAT1001",material_name:"Material 1"},{material_id:"MAT1002",material_name:"Material 2"},{material_id:"MAT1003",material_name:"Material 3"},{material_id:"MAT1004",material_name:"Material 4"},{material_id:"MAT1005",material_name:"Material 5"}];const Tn=function(){const e=(0,T.Zp)(),[t]=(0,pn.ok)(),[a,n]=(0,A.useState)(In),[i,s]=(0,A.useState)(),[l,o]=(0,A.useState)(0),[r,c]=(0,A.useState)(0),[d,u]=(0,A.useState)(!1),[h,m]=(0,A.useState)({});return(0,B.jsxs)("div",{className:"mx-3 my-2 mp-instruction-layout",children:[(0,B.jsxs)("div",{className:"mp-instruction-header",children:[(0,B.jsx)(kn,{}),(0,B.jsx)("p",{className:"instruction-text",children:"Please follow the instruction to complete the Material Planning for this Order ID"})]}),(0,B.jsx)("div",{className:"instruction-layout-body",children:(0,B.jsx)(W,{edit:d,columns:[{id:1,title:"Material ID",render:e=>e.material_id},{id:2,title:"Material",render:e=>e.material_name}],rows:a,rowsPerPage:5,loading:"fetch"===i,titleCellClasses:"c-gray fw-700",page:r,setPage:c,paginator:!0,serialize:!0,total:l})}),(0,B.jsxs)("div",{className:"material-planner-layout-footer",children:[(0,B.jsx)(K.A,{onClick:()=>e("/material-planner"),white:!0,width:"8rem",height:"2.5rem",bordered:!0,customStyle:{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"},children:"Back"}),(0,B.jsx)(K.A,{onClick:async()=>{console.log("submit");e("/material-planner-plan/scanning?orderId=".concat(t.get("orderId"),"&orderStatus=").concat(t.get("orderStatus")))},color:"green",width:"8rem",height:"2.5rem",children:"Plan"})]})]})},Dn={msg1:["Please break the packet into two parts ","Make first Packet with 500 Units ","Make second Packet with 700 Units"],msg2:["Print the Bar Code and Paste","Barcode 1 on First packet","Barcode 2 on Second packet"]},_n=e=>{let{modalState:t="msg1",noStepFn:a=(()=>{}),nextStepFn:n=(()=>{})}=e;return(0,B.jsxs)("div",{className:"action_modal__container",children:[(0,B.jsx)("div",{children:(0,B.jsx)("img",{src:"/error_outline.svg",alt:"icon"})}),Dn[t].map(((e,t)=>(0,B.jsx)("p",{children:e},"".concat(e,"-").concat(t)))),(0,B.jsxs)("div",{className:"material-planner-layout-footer",style:{gap:"2.5rem"},children:[(0,B.jsx)(K.A,{onClick:a,white:!0,width:"8rem",height:"2.5rem",bordered:!0,customStyle:{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"},children:"No"}),(0,B.jsx)(K.A,{onClick:n,color:"green",width:"8rem",height:"2.5rem",children:"Yes"})]})]})},Rn=[{material_id:"MAT1001",material_name:"Material 1",location:"Bay 199 | Rack 1 | Level 1",requiredQty:500,collectedQty:0,collectionDone:!1,collectionStatus:"pending"},{material_id:"MAT1002",material_name:"Material 2",location:"Bay 199 | Rack 1 | Level 1",requiredQty:500,collectedQty:0,collectionDone:!1,collectionStatus:"pending"},{material_id:"MAT1003",material_name:"Material 3",location:"Bay 199 | Rack 1 | Level 2",requiredQty:500,collectedQty:0,collectionDone:!1,collectionStatus:"pending"}];const Pn=e=>{let{value:t=0,setValue:a=(()=>{})}=e;const n=(e,t)=>{switch(t){case"increment":a(e+1);break;case"decrement":e>0&&a(e-1);break;default:a(e)}};return(0,B.jsxs)("span",{className:"collection-input-container",children:[(0,B.jsx)("button",{onClick:()=>{n(t,"decrement")},children:"-"}),(0,B.jsx)("input",{type:"number",placeholder:"Scan Barcode or Enter Qty",value:t,onChange:e=>{e.stopPropagation();const t=parseInt(e.target.value);n(t,"typed")}}),(0,B.jsx)("button",{onClick:()=>{n(t,"increment")},children:"+"})]})},Un=function(e){let{orderId:t}=e;const a=(0,T.Zp)(),[n]=(0,pn.ok)(),[i,s]=(0,A.useState)({submitLoading:!1,submitDisabled:!0,modalMsg:"msg1"}),[l,o]=(0,A.useState)(Rn),[r,c]=(0,A.useState)(),[d,u]=(0,A.useState)(0),[h,m]=(0,A.useState)(0),[p,x]=(0,A.useState)(!1),v=[{id:1,title:"Material",render:e=>e.material_name},{title:"Location",render:e=>e.location},{title:"Required Qty",render:e=>e.requiredQty},{title:"Collected Qty",render:e=>(0,B.jsx)(Pn,{value:e.collectedQty,setValue:t=>{((e,t)=>{let a=!1;const n=l.findIndex((t=>t.material_id===e.material_id)),r=[...l],c=parseInt(t),d=parseInt(e.requiredQty);c===d?(r[n].collectionDone=!0,r[n].collectionStatus=G.Un.DONE):c>d?r[n].collectionStatus=G.Un.EXCEEDS:(r[n].collectionStatus=G.Un.PENDING,r[n].collectionDone=!1),r[n].collectedQty=t,a=r.every((e=>e.collectionDone)),s({...i,submitDisabled:!a}),o(r)})(e,t)}})},{title:"-",render:e=>(0,B.jsx)(w,{rowData:e})}],w=e=>{let{rowData:t}=e;switch(t.collectionStatus){case G.Un.DONE:return(0,B.jsx)("span",{className:"material-planner-layout-action-icon",children:(0,B.jsx)(za.A,{sx:{color:"#86D56A"}})});case G.Un.EXCEEDS:return(0,B.jsx)("span",{className:"material-planner-layout-action-icon",children:(0,B.jsx)(K.A,{onClick:()=>{x(!0)},white:!0,width:"8rem",height:"2.5rem",bordered:!0,customStyle:{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"},children:"Confirm"})});default:return null}};return(0,B.jsxs)("div",{className:"mx-3 my-2 mp-instruction-layout",children:[(0,B.jsxs)("div",{className:"mp-instruction-header",children:[(0,B.jsx)(kn,{}),(0,B.jsx)("p",{className:"instruction-text",children:"Please Scan the Barcode or enter Qty"})]}),(0,B.jsx)("div",{className:"instruction-layout-body",children:(0,B.jsx)(W,{columns:v,rows:l,rowsPerPage:5,loading:"fetch"===r,titleCellClasses:"c-gray fw-700",page:h,setPage:m,paginator:!0,serialize:!0,total:d})}),(0,B.jsxs)("div",{className:"material-planner-layout-footer",children:[(0,B.jsx)(K.A,{onClick:()=>a("/material-planner-plan"),white:!0,width:"8rem",height:"2.5rem",bordered:!0,customStyle:{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"},children:"Back"}),(0,B.jsx)(K.A,{onClick:async()=>{console.log("submit"),a("/material-planner/?status=scanned&orderId=".concat(n.get("orderId"),"&orderStatus=").concat(n.get("orderStatus")))},color:"green",width:"8rem",height:"2.5rem",loading:i.submitLoading,disabled:i.submitDisabled,customStyle:{backgroundColor:i.submitDisabled?"#D9D9D9":"#86D56A"},children:"Submit"})]}),p&&(0,B.jsx)($.A,{open:p,onClose:()=>x(!1),width:"50vw",top:"20vh",hideCloseIcon:yn,children:(0,B.jsx)(_n,{modalState:i.modalMsg,noStepFn:()=>{x(!1)},nextStepFn:()=>{"msg1"===i.modalMsg?s({...i,modalMsg:"msg2"}):x(!1)}})})]})},On=()=>{var e,t;const a=(0,w.wA)(),[n,i]=(0,A.useState)(!1),s=(0,w.d4)((e=>e[X.X.AUTH])),l=null===s||void 0===s||null===(e=s.user)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.role,o=[{path:"/report",element:(0,B.jsx)(mn,{})},{path:"/TestDetail",element:(0,B.jsx)(La,{})},{path:"/plan-training",element:(0,B.jsx)(un,{})},{path:"/test-portal",element:(0,B.jsx)(rn,{})},{path:"/skill-matrix",element:(0,B.jsx)(on,{})},{path:"/live-view",element:(0,B.jsx)(ea,{})},{path:"/test",element:(0,B.jsx)(Wa,{})},{path:"/test-upload",element:(0,B.jsx)(Za,{})},{path:"/skill-page",element:(0,B.jsx)(tn,{})},{path:"/question-bank",element:(0,B.jsx)(nn,{})},{path:"/machine-view",element:(0,B.jsx)(Da,{})},{path:"/operator-portal",element:(0,B.jsx)(Pa,{})},{path:"/timelinebar",element:(0,B.jsx)(ta,{})},{path:"/Dashboardd",element:(0,B.jsx)(pt,{})},{path:"/error",element:(0,B.jsx)(At,{})},{path:"/users",element:l===G.z7.ADMINISTRATOR?(0,B.jsx)(Re,{}):(0,B.jsx)(At,{})},{path:"/tenants",element:l===G.z7.SUPERADMIN?(0,B.jsx)(ne,{}):(0,B.jsx)(At,{})},{path:"/store-master",element:l===G.z7.ADMINISTRATOR?(0,B.jsx)(Ve,{}):(0,B.jsx)(At,{})},{path:"/downtime-master",element:l===G.z7.ADMINISTRATOR?(0,B.jsx)(na,{}):(0,B.jsx)(At,{})},{path:"/model-master",element:l===G.z7.ADMINISTRATOR?(0,B.jsx)(sa,{}):(0,B.jsx)(At,{})},{path:"/parts-rejection",element:l===G.z7.ADMINISTRATOR?(0,B.jsx)(oa,{}):(0,B.jsx)(At,{})},{path:"/shift-master",element:l===G.z7.ADMINISTRATOR?(0,B.jsx)(da,{}):(0,B.jsx)(At,{})},{path:"/notification",element:l===G.z7.ADMINISTRATOR?(0,B.jsx)(ua,{}):(0,B.jsx)(At,{})},{path:"/consumable",element:l===G.z7.ADMINISTRATOR?(0,B.jsx)(ma,{}):(0,B.jsx)(At,{})},{path:"/profile",element:l===G.z7.ADMINISTRATOR?(0,B.jsx)(Aa,{}):(0,B.jsx)(At,{})},{path:"/store-inbound",element:(0,B.jsx)(nt,{})},{path:"/store-outbound",element:(0,B.jsx)(st,{})},{path:"/store-outbound-history",element:(0,B.jsx)(lt,{})},{path:"/settings",element:(0,B.jsx)("h1",{children:"Settings"})},{path:"/logout",element:(0,B.jsx)("h1",{children:"Log"})},{path:"/order",element:(0,B.jsx)(ot,{})},{path:"/machinepage",element:(0,B.jsx)(Nt,{})},{path:"/companypage",element:l===G.z7.ADMINISTRATOR?(0,B.jsx)(It,{}):(0,B.jsx)(At,{})},{path:"/plantpage",element:l===G.z7.ADMINISTRATOR?(0,B.jsx)(Rt,{}):(0,B.jsx)(At,{})},{path:"/divisionpage",element:l===G.z7.ADMINISTRATOR?(0,B.jsx)(Ot,{}):(0,B.jsx)(At,{})},{path:"/line",element:l===G.z7.ADMINISTRATOR?(0,B.jsx)(Ht,{}):(0,B.jsx)(At,{})},{path:"/asset",element:l===G.z7.ADMINISTRATOR?(0,B.jsx)(Yt,{}):(0,B.jsx)(At,{})},{path:"/group",element:l===G.z7.ADMINISTRATOR?(0,B.jsx)(Xt,{}):(0,B.jsx)(At,{})},{path:"/tenant-Users",element:l===G.z7.SUPERADMIN?(0,B.jsx)($t,{}):(0,B.jsx)(At,{})},{path:"/running-order",element:(0,B.jsx)(fa,{})},{path:"/plan",element:(0,B.jsx)(Na,{})},{path:"/plan-overview",element:(0,B.jsx)(Ta,{})},{path:"/material-planner",element:(0,B.jsx)(bn,{})},{path:"/material-planner-plan",element:(0,B.jsx)(Tn,{})},{path:"/material-planner-plan/scanning",element:(0,B.jsx)(Un,{})}];return(0,A.useEffect)((()=>{(0,q.A)(a,s),i(!0)}),[]),n?(0,B.jsx)(T.BV,{children:o.map((e=>{let{path:t,element:a}=e;return(0,B.jsx)(T.qh,{element:a,path:t},t)}))}):null};var Ln=a(8089),zn=a(3529),Hn=a(5453),Mn=a(5722),Qn=a(4444),Yn=a(8323),Fn=a(2177),Gn=a(3235),Bn=a(122);const Wn=a.p+"static/media/dark-logo.677aa26ee5654972221a.png",qn=a.p+"static/media/dhoot.62da4ddc06b8ec08d5f2.png",Vn=parseInt(localStorage.getItem("draweWidth")),Jn=(0,I.A)(n.Ay,{shouldForwardProp:e=>"open"!==e})((e=>{let{open:t}=e;return{width:Vn,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",...t&&{width:Vn,overflowX:"hidden","& .MuiDrawer-paper":{width:Vn,overflowX:"hidden"}},...!t&&{overflowX:"hidden",width:"50px","& .MuiDrawer-paper":{overflowX:"hidden",width:"50px"}}}})),Xn={title:"Users",icon:y.A,path:"/users"},Zn={title:"Tenants",icon:b.A,path:"/tenants"},Kn={title:"Machine Master",icon:N.A,path:"/companypage"},$n={title:"Downtime Master",icon:k.A,path:"/downtime-master"},ei={title:"Store Master",icon:j.A,path:"/store-master"},ti={title:"Model Master",icon:zn.A,path:"/model-master"},ai={title:"Parts Rejection",icon:Hn.A,path:"/parts-rejection"},ni={title:"Shift Master",icon:Mn.A,path:"/shift-master"},ii={title:"Notification",icon:Qn.A,path:"/notification"},si=(Yn.A,{title:"Profile",icon:Fn.A,path:"/profile"}),li={title:"Order",icon:Fn.A,path:"/running-order"},oi=(g.A,{title:"Live View",icon:j.A,path:"/live-view"}),ri={title:"Machine Monitoring",icon:j.A,path:"/machine-view"},ci={title:"Groups",icon:j.A,path:"/group"},di=[{title:"Skill Matrix",icon:f.A,path:"/skill-matrix"},{title:"Plan Training",icon:f.A,path:"/plan-training"},{title:"Skill Page",icon:f.A,path:"/skill-page"},{title:"Performance",icon:f.A,path:"/report"},{title:"Test Portal",icon:f.A,path:"/test-portal"},{title:"Question Bank",icon:f.A,path:"/question-bank"},{title:"Test Master",icon:f.A,path:"/test-upload"},{title:"Inbound List",icon:f.A,path:"/store-inbound"},{title:"Outbound",icon:f.A,path:"/store-outbound"},{title:"Outbound History",icon:E.A,path:"/store-outbound-history"},{title:"Overview",icon:E.A,path:"/material-planner"},{title:"Plan",icon:E.A,path:"/material-planner-plan"}],ui=()=>{const[e,t]=(0,A.useState)([]),a=((0,w.d4)((e=>e[X.X.AUTH])),(0,w.d4)((e=>{var t;return null===(t=e[X.X.AUTH].user)||void 0===t?void 0:t.data}))),{logout:n,profile2:y}=(0,Ln.A)(),[j,g]=(0,A.useState)(!0),f=(0,T.Zp)(),{pathname:b}=(0,T.zy)(),[N,E]=(0,A.useState)(null),k=Boolean(N);(0,A.useEffect)((()=>{localStorage.setItem("draweWidth",200);const e=[];console.log("redux user",a),(null===a||void 0===a?void 0:a.role)===G.z7.SUPERADMIN||localStorage.getItem("role")===G.z7.SUPERADMIN?(e.push(Zn,...di),t(e)):(null===a||void 0===a?void 0:a.role)===G.z7.ADMINISTRATOR||localStorage.getItem("role")===G.z7.ADMINISTRATOR?(e.push(Xn,ei,Kn,$n,ti,ai,ni,ii,si,li,oi,ri,ci,...di),t(e)):t(di),localStorage.getItem("t_token")||(console.log("islogin",a),f("/login",{replace:!0}))}),[]);const I=()=>{E(null)};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(i.A,{variant:"outlined",sx:{zIndex:e=>e.zIndex.drawer+1,width:"100%",position:"fixed",backgroundColor:G.lm.WHITE},children:(0,B.jsxs)(s.A,{sx:{flexDirection:"row",px:1,py:.5,justifyContent:"space-between"},children:[(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:2,alignItems:"center"},children:[(0,B.jsx)("img",{src:Wn,width:"80px",height:"43px",style:{objectFit:"contain"}}),(0,B.jsx)("img",{src:qn,width:"100px",height:"33px",style:{objectFit:"contain"}})]}),(0,B.jsxs)(s.A,{sx:{flexDirection:"row",gap:2,justifyContent:"flex-end",alignItems:"center"},children:[(0,B.jsxs)(l.A,{className:"fw-14",sx:{width:"100%",pr:2,mt:1,color:G.lm.TEXT_GRAY},children:["Welcome ",null===a||void 0===a?void 0:a.name]}),(0,B.jsx)(s.A,{children:(0,B.jsx)(o.A,{children:(0,B.jsx)(Bn.A,{fontSize:"large"})})}),(0,B.jsx)(r.A,{sx:{maxWidth:"calc(100vw - ".concat(j?180:50,"px)")},disableGutters:!0,className:"h-50 minh-50",children:(0,B.jsxs)(s.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,B.jsx)(o.A,{id:"basic-button","aria-controls":k?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":k?"true":void 0,onClick:e=>{console.log("popup",e.currentTarget),E(e.currentTarget)},children:(0,B.jsx)(Gn.A,{fontSize:"large"})}),(0,B.jsxs)(c.A,{id:"basic-menu",anchorEl:N,open:k,onClose:I,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,B.jsxs)(d.A,{sx:{py:0},onClick:()=>{I()},children:[(0,B.jsx)(u.A,{children:(0,B.jsx)(Fn.A,{fontSize:"small"})}),(0,B.jsx)(h.A,{children:null===a||void 0===a?void 0:a.name})]}),(0,B.jsx)(v.A,{}),(0,B.jsxs)(d.A,{sx:{py:0},onClick:()=>{I()},children:[(0,B.jsx)(u.A,{children:(0,B.jsx)(C.A,{fontSize:"small"})}),(0,B.jsx)(h.A,{children:null===a||void 0===a?void 0:a.email})]}),(0,B.jsx)(v.A,{}),(0,B.jsxs)(d.A,{sx:{py:0},onClick:()=>{I()},children:[(0,B.jsx)(u.A,{children:(0,B.jsx)(Fn.A,{fontSize:"small"})}),(0,B.jsx)(h.A,{children:null===a||void 0===a?void 0:a.role})]}),(0,B.jsx)(v.A,{}),(0,B.jsxs)(d.A,{sx:{py:0},onClick:()=>{I(),n()},children:[(0,B.jsx)(u.A,{children:(0,B.jsx)(S.A,{fontSize:"small"})}),(0,B.jsx)(h.A,{children:"Logout"})]})]})]})})]})]})}),(0,B.jsx)(Jn,{open:j,variant:"permanent",onClose:()=>g((e=>!e)),sx:{},children:(0,B.jsx)(m.A,{sx:{width:Vn,backgroundColor:G.lm.BG_GRAY,mt:7},role:"presentation",children:(0,B.jsx)(p.A,{dense:!0,children:e.map((e=>{let{title:t,path:a,icon:n}=e;return(0,B.jsx)(x.Ay,{sx:{ml:1},button:!0,onClick:()=>f(a),children:(0,B.jsx)(h.A,{sx:{"& .MuiListItemText-primary":{fontSize:"16px",fontWeight:"".concat(b===a?"700":"500")}},primary:t,className:"".concat("fw-700")})},a)}))})})}),(0,B.jsx)(m.A,{sx:{mt:8,position:"relative",left:j?Vn:"50px",overflow:"hidden"},children:(0,B.jsx)(m.A,{sx:{maxWidth:"calc(100vw - ".concat(j?Vn:50,"px)")},children:(0,B.jsx)(On,{})})})]})}}}]);
//# sourceMappingURL=785.eeb863e5.chunk.js.map