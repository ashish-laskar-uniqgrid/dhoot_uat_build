"use strict";(self.webpackChunktraceability=self.webpackChunktraceability||[]).push([[789],{9044:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_n});var n=a(4109),s=a(2314),l=a(9216),r=a(5865),i=a(5263),o=a(7392),c=a(378),d=a(2143),u=a(2050),h=a(8734),m=a(6446),p=a(5721),x=a(1322),g=a(5043),f=a(9336),j=a(3003),y=a(4117),w=a(9237),v=a(9193),A=a(8635),S=a(9906),b=a(7402),C=a(5415),_=a(5903),k=a(3216),N=a(1036),E=a(1806),I=a(3460),T=a(9652),R=a(7502),D=a(9650),P=a(4882),O=a(8076),L=a(207),F=a(9090),M=a(7355),U=a(8057),z=a(8426),q=a(6467),H=a(4978),G=a(579);const B=e=>{let{rows:t=[],columns:a=[],minWidth:n=650,tableClasses:s="",titleCellClasses:r="",rowClassesMethod:i=(()=>{}),rowClasses:o="",rowCellClasses:c="",rowsPerPage:d=10,paginator:u=!1,loading:h,dense:m,hideBorder:p=!1,onRowClick:x=Function.prototype,serialize:g=!1,page:f=0,setPage:j=Function.prototype,total:y,headColor:w,headLabelColor:v,tableBodyColor:A}=e;return(0,G.jsx)(D.A,{children:(0,G.jsxs)(E.A,{sx:{minWidth:n},className:"".concat(s),size:m&&"small",children:[(0,G.jsx)(P.A,{sx:{backgroundColor:w||q.lm.BG_GRAY},children:(0,G.jsxs)(O.A,{children:[g&&(0,G.jsx)(T.A,{className:"".concat(r," text-nowrap h3"),sx:{color:v||"black"},children:(0,H.t)("sno")}),a.map(((e,t)=>(0,G.jsx)(T.A,{style:{width:e.width&&e.width,color:v||"black"},className:"".concat(r," text-nowrap"),children:e.title},t)))]})}),(0,G.jsx)(l.A,{sx:{p:.3}}),(0,G.jsx)(I.A,{children:h?(0,G.jsx)(O.A,{children:(0,G.jsx)(T.A,{sx:{alignContent:"center",alignItems:"center"},colSpan:12,className:"flex h-300 text-center",children:(0,G.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,G.jsx)(M.A,{big:!0,blue:!0})})})}):t&&t.length?t.map(((e,t)=>(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(O.A,{sx:{backgroundColor:A||q.lm.LG_GRAY,["& .".concat(R.A.root)]:{borderBottom:p?"none":"true",mt:10},...i(t,e)},className:"".concat(o),onClick:()=>x(e.id),children:[g&&(0,G.jsx)(T.A,{sx:{color:"black"},className:"".concat(c," fw-500 "),align:"left",children:t+1}),a.map(((t,a)=>(0,G.jsx)(T.A,{sx:{width:t.width&&t.width,color:"black"},className:"".concat(c," fw-500"),align:"left",children:t.render(e)},a)))]},t),(0,G.jsx)(l.A,{sx:{p:.3}})]}))):(0,G.jsx)(O.A,{children:(0,G.jsxs)(T.A,{colSpan:12,className:"text-center h-300 flex items-center opacity-60 w-full",children:[(0,G.jsx)("img",{src:U,alt:"leaf",height:100,className:"w-full object-contain"}),(0,G.jsxs)("p",{className:"text-center",children:[(0,H.t)("noRecordFound")," !"]})]})})}),u&&(0,G.jsx)(L.A,{children:(0,G.jsx)(O.A,{children:(0,G.jsx)(F.A,{rowsPerPageOptions:[],count:y||t.length,rowsPerPage:d,onPageChange:(e,t)=>j(t),page:f})})})]})})};var Q=a(1136),W=a(9687),Y=a(2359),X=a(2670);const K=()=>{const{token:e}=(0,j.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){const e=new W.Ay,a=await e.get("".concat(Y.H.USERS,"/"),{},t,Q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("".concat(Y.H.USERS,"/"),e,t,(e=>(0,Q.So)(e,null,"User created successfully!")));return null===n||void 0===n?void 0:n.data},userProfile:async e=>{const a=new W.Ay,n=await a.get("".concat(Y.H.USER,"-").concat(Y.H.PROFILE,"/").concat(e,"/"),{},t,Q.So);return null!==n&&void 0!==n&&n.data?null===n||void 0===n?void 0:n.data:[[],0]},updateProfile:async(e,a)=>{const n=new W.Ay,s=await n.put("".concat(Y.H.USER,"-").concat(Y.H.PROFILE,"/").concat(e,"/"),a,t,(e=>(0,Q.So)(e,null,"User Updated successfully!")));return null===s||void 0===s?void 0:s.data},update:async(e,a)=>{const n=new W.Ay,s=await n.put("".concat(Y.H.USER,"/").concat(e,"/"),a,t,(e=>(0,Q.So)(e,null,"User Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{if(!e)return;const a=new W.Ay,n=await a.delete("".concat(Y.H.USER,"/").concat(e,"/"),t,(e=>(0,Q.So)(e,null,"User deleted successfully!")));return null===n||void 0===n?void 0:n.data},opratorList:async function(){var e;const a=new W.Ay,n=await a.get("".concat(Y.H.OPERATORS,"/"),{},t,Q.So);return(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.results.length)>0?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data.results,n.data.count]):[[],0]},createOperator:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("".concat(Y.H.OPERATORS,"/"),e,t,(e=>(0,Q.So)(e,null,"User created successfully!")));return null===n||void 0===n?void 0:n.data},updateOperator:async(e,a)=>{const n=new W.Ay,s=await n.put("".concat(Y.H.OPERATOR,"/").concat(e,"/"),a,t,(e=>(0,Q.So)(e,null,"Operator Updated successfully!")));return null===s||void 0===s?void 0:s.data},removeOperator:async e=>{if(!e)return;const a=new W.Ay,n=await a.delete("".concat(Y.H.OPERATOR,"/").concat(e,"/"),t,(e=>(0,Q.So)(e,null,"Operator deleted successfully!")));return null===n||void 0===n?void 0:n.data},listByUserName:async e=>{const a={username:e},n=new W.Ay,s=await n.post("search-by-username/",a,t,(e=>(0,Q.So)(e,null)));return null!==s&&void 0!==s&&s.data?null===s||void 0===s?void 0:s.data:[[]]},listByAadhar:async e=>{const a={aadhar_number:e},n=new W.Ay,s=await n.post("search-by-aadhar/",a,t,(e=>(0,Q.So)(e,null)));return null!==s&&void 0!==s&&s.data?null===s||void 0===s?void 0:s.data:[[]]},listByAadhar2:async e=>{const a=new W.Ay,n=await a.get("".concat(Y.H.USERS,"/"),{},t,Q.So);if(null!==n&&void 0!==n&&n.data){return n.data.filter((e=>e.is_operator&&e.status)).map((e=>({value:e.username,key:e.id})))}return[[],0]},updateOpSkill:async(e,a)=>{const n=new W.Ay,s=await n.post("training/update-skill/".concat(e,"/"),a,t,(e=>(0,Q.So)(e,null,"Skill Updated successfully!")));return null===s||void 0===s?void 0:s.data},createByCsv:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("".concat(Y.H.USERS,"/"),e,t,(e=>(0,Q.So)(e,null)));return null===n||void 0===n?void 0:n.data},updateProfileCSV:async(e,a)=>{const n=new W.Ay,s=await n.put("".concat(Y.H.USER,"-").concat(Y.H.PROFILE,"/").concat(e,"/"),a,t,(e=>(0,Q.So)(e,null)));return null===s||void 0===s?void 0:s.data}}};var Z=a(949),V=a(7810),J=a(24),$=a(8595),ee=a(5786);const te=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,handleAdd2:o,loading:c,tab:d}=e;const{t:u,i18n:h}=(0,y.Bd)(),m=[{title:u("user_name"),placeholder:u("enterUserName"),type:q.wN.INPUT,name:"username",validator:q.wY.NAME},{title:u("email"),placeholder:u("enterEmail"),type:q.wN.INPUT,name:"email",validator:q.wY.EMAIL},{title:u("full_name"),placeholder:u("enterFullName"),type:q.wN.INPUT,name:"fullname"}],p=[{title:u("aadhaarNumber"),placeholder:u("aadhaarNumber"),type:q.wN.INPUT,name:"aadhar_no",inputType:"number",validator:q.wY.REQUIRED&&q.wY.AADHAR},{title:u("full_name"),placeholder:u("enterFullName"),type:q.wN.INPUT,name:"fullname"}],x=[{title:u("phoneNumber"),placeholder:u("phoneNumber"),type:q.wN.INPUT,name:"phone_number",inputType:"number",validator:q.wY.PHONE},{title:u("employeeID"),placeholder:u("employeeID"),type:q.wN.INPUT,name:"employee_id"},0===d&&{title:"Aadhar Number",placeholder:"Aadhar Number",type:q.wN.INPUT,name:"aadhar_number",inputType:"number",validator:q.wY.AADHAR},{title:u("employeeType"),placeholder:u("employeeType"),type:q.wN.INPUT,name:"employee_type"},{title:u("date_of_joining"),placeholder:u("date_of_joining"),type:q.wN.DATE,name:"date_of_joining"}],[f,j]=(0,g.useState)(new Map),[w,v]=(0,g.useState)(0);return(0,G.jsxs)(V.A,{open:t,onClose:a,width:"50vw",top:"10vh",hideCloseIcon:ee.A,wrapperClasses:"px-5 py-4",crossIconClasses:"w-2.5vw w-5vw--mob h-2.5vw h-5vw--mob",children:[(0,G.jsx)("h3",{className:"opacity-80",children:u(0===d?"add_user":"add_operator")}),(0,G.jsx)(J.A,{data:n,errors:f,onChange:e=>{const{name:t,value:a}=e.target;j((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:0===w?0===d?m:p:x}),(0,G.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,G.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:u("cancel")}),(0,G.jsx)(Z.A,{color:"light_green",onClick:async()=>{if(0===w){const e=(0,$.bG)(0===d?m:p,n);if(console.log("_errors",e),j(e),e.size)return;let t=await i();return console.log("step error-----\x3e>>",t),void(!1!==t&&v((e=>e+1)))}if(1===w){const e=(0,$.bG)(x,n);if(j(e),e.size)return;return await o(),void v(0)}},loading:c,children:(0,G.jsx)(r.A,{className:"fw-20-500-24",children:u("next")})})]})]})},ae=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,handleAdd2:o,loading:c,tab:d,edit:u}=e;const{t:h,i18n:m}=(0,y.Bd)(),{updateProfile:p,userProfile:x}=K(),f=(0,j.d4)((e=>{var t;return null===e||void 0===e||null===(t=e.USER_ITEM)||void 0===t?void 0:t.data})),[w,v]=(0,g.useState)(new Map),[A,S]=(0,g.useState)(0),[b,C]=(0,g.useState)({username:"",email:"",fullname:"",aadhar_number:"",phone_number:"",employee_id:"",employee_type:"",date_of_joining:"",aadhar_no:""});(0,g.useEffect)((()=>{void 0!==f&&(console.log("user data----------",d),C(1===d?{...b,username:f.username||f.user.username,email:f.email,fullname:f.fullname||f.user.fullname,aadhar_number:f.aadhar_number||"",phone_number:f.phone_number||"",date_of_joining:f.date_of_joining||""}:{...b,aadhar_number:f.aadhar_number||"",phone_number:f.phone_number||"",date_of_joining:f.date_of_joining||""}))}),["edit"===u]);const _=[{title:"Aadhar Number",placeholder:"Aadhar Number",type:q.wN.INPUT,name:"aadhar_number",inputType:"number",validator:q.wY.AADHAR},{title:"Phone Number",placeholder:"Phone Number",type:q.wN.INPUT,name:"phone_number",inputType:"number",validator:q.wY.PHONE},{title:"Date of Joining",placeholder:"date_of_joining",type:q.wN.DATE,name:"date_of_joining"}],k=[{title:h("aadhaarNumber"),placeholder:"Aadhar Number",type:q.wN.INPUT,name:"aadhar_number",inputType:"number",validator:q.wY.REQUIRED&&q.wY.AADHAR},{title:"Phone Number",placeholder:"Phone Number",type:q.wN.INPUT,name:"phone_number",inputType:"number",validator:q.wY.PHONE},{title:h("date_of_joining"),placeholder:"date_of_joining",type:q.wN.DATE,name:"date_of_joining"}];return(0,G.jsxs)(V.A,{open:t,onClose:a,width:"min(700px,90vw)",hideCloseIcon:ee.A,wrapperClasses:"px-6",children:[(0,G.jsx)("h3",{className:"opacity-80",children:h(0===d?"edit_user":"edit_operator")}),(0,G.jsx)(J.A,{data:b,errors:w,onChange:e=>{const{name:t,value:a}=e.target;v((e=>(e.delete(t),e))),C((e=>({...e,[t]:a})))},schema:0===d?_:k}),(0,G.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,G.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:h("cancel")}),(0,G.jsx)(Z.A,{color:"light_green",onClick:async()=>{if(0!==A);else{const e=(0,$.bG)(0===d?_:k,b);if(console.log("_errors",e),v(e),e.size)return;await async function(){let e={username:b.username,email:b.email,fullname:b.fullname},t={aadhar_number:b.aadhar_number,fullname:b.fullname,phone_number:b.phone_number,date_of_joining:b.date_of_joining},n=await x(0===d?f.id:f.user.id);await p(n.id,0===d?e:t),await a()}()}},loading:c,children:(0,G.jsx)(r.A,{className:"fw-20-500-24",children:h("next")})})]})]})};var ne=a(8939),se=a(4056),le=a(3768),re=a(3159),ie=a(9611),oe=a(3845);const ce=e=>{let{title:t="N/A",color:a}=e;return t?(0,G.jsx)(oe.A,{label:t,variant:"filled",sx:{backgroundColor:a||"#C1FFB6",fontSize:"10px","& .MuiChip-label":{fontSize:"13px"}},size:"small"}):(0,G.jsx)("p",{className:"c-gray fs-12 ml-1",children:"N/A"})};var de=a(3374),ue=a(3875),he=a(4973),me=a(5766),pe=a.n(me);const xe=a.p+"static/media/SampleSheet.2da2e90959e1d87dfed0.csv",ge=a.p+"static/media/userCsv.418d2ad887b470847e45.csv",fe=a.p+"static/media/operatorCsv.85d82e3f977b5241cc03.csv",je=a.p+"static/media/mcq.5b1c6a93631799f90371.csv",ye=(0,_.A)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),we=e=>{let{file:t,setFile:a,loading:n,open:s,onClose:i,onSubmit:o,setCsvData:c,tab:d}=e;const[u,h]=(0,g.useState)(!1);return(0,G.jsxs)(V.A,{open:s,onClose:i,width:"min(500px,90vw)",hideCloseIcon:ee.A,wrapperClasses:"px-6",children:[(0,G.jsxs)("h3",{className:"opacity-80",children:[(0,H.t)("uploadCsv")," "]}),(0,G.jsx)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",my:3,children:(0,G.jsx)(Z.A,{bordered:!0,color:"orange",height:"30px",onClick:()=>{window.open(0===d?ge:1===d?fe:"question"===d?je:xe,"_blank")},children:(0,H.t)("downloadSampleCSV")})}),(0,G.jsxs)(m.A,{className:"h-400 w-full rounded-10 flex flex-col items-center justify-center",sx:{border:"2px dotted ".concat(q.lm.GRAY)},children:[(0,G.jsx)(de.A,{fontSize:"large",color:"disabled"}),(0,G.jsx)("h3",{className:"opacity-80",children:(0,H.t)("dropYourFileHereToUpload")}),!!t&&(0,G.jsxs)("p",{className:"".concat(u?"c-red":"c-primary"," flex items-center"),children:[(0,G.jsx)(ue.A,{fontSize:"small"})," ",null===t||void 0===t?void 0:t.name]}),(0,G.jsxs)(Z.A,{onClick:e=>document.getElementById("file").click(),children:[(0,G.jsx)(he.A,{})," ",(0,H.t)("uploadCsvFile")]}),(0,G.jsx)(ye,{type:"file",id:"file",onChange:async e=>{var t,n;const s=e.target.files[0];console.log("file-----",s),s&&(null!==s&&void 0!==s&&null!==(t=s.type)&&void 0!==t&&null!==(n=t.toLowerCase())&&void 0!==n&&n.includes("csv")?(h(!1),pe().parse(s,{header:!1,complete:function(e){console.log("csv res-----------",null===e||void 0===e?void 0:e.data),c(null===e||void 0===e?void 0:e.data)}}),a(s)):h("The selected file is not a csv file!"))}})]}),!!u&&(0,G.jsx)("p",{className:"fw-500 c-red text-center",children:u}),(0,G.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",my:2,children:[(0,G.jsx)(Z.A,{bordered:!0,gray:!0,onClick:i,children:(0,H.t)("cancel")}),(0,G.jsx)(Z.A,{color:"light_green",disabled:u||!t,onClick:o,loading:n,children:(0,G.jsx)(r.A,{className:"fw-20-500-24",children:(0,H.t)("create")})})]})]})};var ve=a(630),Ae=a(7739),Se=a(6178),be=a.n(Se),Ce=a(7201);const _e=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,users:c,skill:d,edit:u}=e;const[h,m]=(0,g.useState)(new Map),p=[{title:(0,H.t)("supervisor"),placeholder:"Select Supervisor",type:q.wN.SELECT,name:"supervisor",validator:q.wY.REQUIRED,keyValues:c},{title:(0,H.t)("skill"),placeholder:(0,H.t)("selectSkill"),type:q.wN.SELECT,name:"skill",validator:q.wY.REQUIRED,keyValues:d}];return(0,G.jsxs)(V.A,{open:t,onClose:a,width:"min(700px,90vw)",hideCloseIcon:ee.A,wrapperClasses:"px-6",children:[(0,G.jsxs)("h3",{className:"opacity-80",children:[u?"Edit":"Add"," Supervisor"]}),(0,G.jsx)(J.A,{data:n,errors:h,onChange:e=>{const{name:t,value:a}=e.target;m((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:p}),(0,G.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,G.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:(0,H.t)("cancel")}),(0,G.jsx)(Z.A,{color:"light_green",onClick:async()=>{const e=(0,$.bG)(p,n);m(e),e.size||await i()},loading:o,children:(0,G.jsx)(r.A,{className:"fw-20-500-24",children:(0,H.t)("submit")})})]})]})},ke=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:r,loading:i,users:o,testList:c}=e;const[d,u]=(0,g.useState)(new Map),[h,m]=(0,g.useState)(0),[p,x]=(0,g.useState)([]),f=[{title:(0,H.t)("skill"),placeholder:"Select Skill",type:q.wN.SELECT,name:"skill",validator:q.wY.REQUIRED,keyValues:o}];return(0,G.jsxs)(V.A,{open:t,onClose:a,width:"min(700px,90vw)",hideCloseIcon:ee.A,wrapperClasses:"px-6",children:[(0,G.jsx)("h3",{className:"opacity-80",children:"Add Skill"}),(0,G.jsx)(J.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:f}),(0,G.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,G.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:(0,H.t)("cancel")}),(0,G.jsx)(Z.A,{onClick:async()=>{const e=(0,$.bG)(f,n);u(e),e.size||await r()},loading:i,children:(0,H.t)("submit")})]})]})},Ne=()=>{const{token:e}=(0,j.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new W.Ay,n=await a.get("training/skills/?page=".concat(e,"&page_size=",10),{},t,Q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},alllist:async function(){const e=new W.Ay,a=await e.get("training/skills/",{},t,Q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("training/skills/",e,t,(e=>(0,Q.So)(e,null,"Skill created successfully!")));return null===n||void 0===n?void 0:n.data},updateProfile:async(e,a)=>{const n=new W.Ay,s=await n.put("".concat(Y.H.USER,"-").concat(Y.H.PROFILE,"/").concat(e,"/"),a,t,(e=>(0,Q.So)(e,null,"User Updated successfully!")));return null===s||void 0===s?void 0:s.data},update:async(e,a)=>{const n=new W.Ay,s=await n.put("".concat(Y.H.USER,"/").concat(e,"/"),a,t,(e=>(0,Q.So)(e,null,"User Updated successfully!")));return null===s||void 0===s?void 0:s.data},addSupervisor:async(e,a)=>{const n=new W.Ay,s=await n.put("training/skill/".concat(e,"/"),a,t,(e=>(0,Q.So)(e,null,"Supervisor Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{if(!e)return;const a=new W.Ay,n=await a.delete("training/skills/".concat(e,"/"),t,(e=>(0,Q.So)(e,null,"Skill deleted successfully!")));return null===n||void 0===n?void 0:n.data},opratorList:async function(){var e;const a=new W.Ay,n=await a.get("".concat(Y.H.OPERATORS,"/"),{},t,Q.So);return(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.results.length)>0?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data.results,n.data.count]):[[],0]},createOperator:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("".concat(Y.H.OPERATORS,"/"),e,t,(e=>(0,Q.So)(e,null,"User created successfully!")));return null===n||void 0===n?void 0:n.data},updateOperator:async(e,a)=>{const n=new W.Ay,s=await n.put("".concat(Y.H.OPERATOR,"/").concat(e,"/"),a,t,(e=>(0,Q.So)(e,null,"Operator Updated successfully!")));return null===s||void 0===s?void 0:s.data},removeOperator:async e=>{if(!e)return;const a=new W.Ay,n=await a.delete("".concat(Y.H.OPERATOR,"/").concat(e,"/"),t,(e=>(0,Q.So)(e,null,"Operator deleted successfully!")));return null===n||void 0===n?void 0:n.data},updateSkill:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;const n=new W.Ay,s=await n.put("training/skill/".concat(a,"/"),e,t,(e=>(0,Q.So)(e,null,"Skill created successfully!")));return null===s||void 0===s?void 0:s.data}}};var Ee=a(7186),Ie=a(5502);const Te=()=>{const{token:e}=(0,j.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){const e=new W.Ay,a=await e.get("".concat(Y.H.ASSET,"/").concat(Y.H.GROUPS,"/"),{},t,Q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("".concat(Y.H.ASSET,"/").concat(Y.H.GROUPS,"/"),e,t,(e=>(0,Q.So)(e,null,"Group created successfully!")));return null===n||void 0===n?void 0:n.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new W.Ay,s=await n.put("".concat(Y.H.ASSET,"/").concat(Y.H.GROUP,"/").concat(e.id,"/"),a,t,(e=>(0,Q.So)(e,null,"Group Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{const a=new W.Ay,n=await a.delete("".concat(Y.H.ASSET,"/").concat(Y.H.GROUP,"/").concat(e,"/"),t,(e=>(0,Q.So)(e,null,"Group deleted successfully!")));return null===n||void 0===n?void 0:n.data},allAssets:async function(){const e=new W.Ay,a=await e.get("".concat(Y.H.ASSET,"/").concat(Y.H.ALLASSETS,"/"),{},t);return null!==a&&void 0!==a&&a.data?[null===a||void 0===a?void 0:a.data]:[[],0]},groupAsset:async e=>{const a=new W.Ay,n=await a.get("".concat(Y.H.ASSET,"/").concat(Y.H.GROUP,"/").concat(e,"/"),{},t);return null===n||void 0===n?void 0:n.data},updateAssets:async(e,a)=>{const n=new W.Ay,s=await n.put("".concat(Y.H.ASSET,"/").concat(Y.H.GROUP,"/").concat(a,"/"),e,t);return null===s||void 0===s?void 0:s.data}}},Re=()=>{const{token:e}=(0,j.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){const e=new W.Ay,a=await e.get("".concat(Y.H.OPERATOR,"-").concat(Y.H.GROUPS,"/"),{},t,Q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("".concat(Y.H.OPERATOR,"-").concat(Y.H.GROUPS,"/"),e,t,(e=>(0,Q.So)(e,null,"Group created successfully!")));return null===n||void 0===n?void 0:n.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new W.Ay,s=await n.put("".concat(Y.H.OPERATOR,"-").concat(Y.H.GROUP,"/").concat(e.id,"/"),a,t,(e=>(0,Q.So)(e,null,"Group Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{const a=new W.Ay,n=await a.delete("".concat(Y.H.OPERATOR,"-").concat(Y.H.GROUP,"/").concat(e,"/"),t,(e=>(0,Q.So)(e,null,"Group deleted successfully!")));return null===n||void 0===n?void 0:n.data},allOperator:async function(){const e=new W.Ay,a=await e.get("".concat(Y.H.OPERATORS,"/"),{},t);var n;return null!==a&&void 0!==a&&a.data?[null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.results]:[[],0]},groupOp:async e=>{const a=new W.Ay,n=await a.get("".concat(Y.H.OPERATOR,"-").concat(Y.H.GROUP,"/").concat(e,"/"),{},t);return null===n||void 0===n?void 0:n.data},updateAssets:async(e,a)=>{const n=new W.Ay,s=await n.put("".concat(Y.H.OPERATOR,"-").concat(Y.H.GROUP,"/").concat(a,"/"),e,t);return null===s||void 0===s?void 0:s.data}}},De=()=>{const{token:e}=(0,j.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){const e=new W.Ay,a=await e.get("".concat(Y.H.USER,"-").concat(Y.H.GROUPS,"/"),{},t,Q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("".concat(Y.H.USER,"-").concat(Y.H.GROUPS,"/"),e,t,(e=>(0,Q.So)(e,null,"Group created successfully!")));return null===n||void 0===n?void 0:n.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new W.Ay,s=await n.put("".concat(Y.H.USER,"-").concat(Y.H.GROUP,"/").concat(e.id,"/"),a,t,(e=>(0,Q.So)(e,null,"Group Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{const a=new W.Ay,n=await a.delete("".concat(Y.H.USER,"-").concat(Y.H.GROUP,"/").concat(e,"/"),t,(e=>(0,Q.So)(e,null,"Group deleted successfully!")));return null===n||void 0===n?void 0:n.data},allUser:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new W.Ay,n=await a.get("".concat(Y.H.USERS,"/?page=").concat(e,"&page_size=",10),{},t);return null!==n&&void 0!==n&&n.data?[null===n||void 0===n?void 0:n.data]:[[],0]},updateAssets:async(e,a)=>{const n=new W.Ay,s=await n.put("".concat(Y.H.USER,"-").concat(Y.H.GROUP,"/").concat(a,"/"),e,t);return null===s||void 0===s?void 0:s.data},groupUser:async e=>{const a=new W.Ay,n=await a.get("".concat(Y.H.USER,"-").concat(Y.H.GROUP,"/").concat(e,"/"),{},t);return null===n||void 0===n?void 0:n.data}}};var Pe=a(8089);const Oe=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,modalOpen:o,loading:c,edit:d,tab:u}=e;const{t:h,i18n:m}=(0,y.Bd)(),{getMenu:p,postMenu:x}=(0,Pe.A)(),f=(0,j.d4)((e=>{var t;return null===e||void 0===e||null===(t=e.USER_ITEM)||void 0===t?void 0:t.data})),[w,v]=(0,g.useState)([]),[A,S]=(0,g.useState)([]);(0,g.useEffect)((()=>{null!==f&&void 0!==f&&f.id&&b()}),["manage"===o]);const b=async()=>{var e,t;const a=await p(null===f||void 0===f?void 0:f.id);S(null===(e=a[0])||void 0===e?void 0:e.all_menu.menu_items),v((null===(t=a[0])||void 0===t?void 0:t.user_menu.menu_items)||[]),console.log("menu item-----\x3e>>",f)};return(0,G.jsxs)(V.A,{open:t,onClose:a,width:"min(700px,90vw)",hideCloseIcon:ee.A,wrapperClasses:"px-6",children:[(0,G.jsxs)("h3",{className:"opacity-80",style:{textTransform:"capitalize"},children:[null===f||void 0===f?void 0:f.username," ",h("menuManagement")]}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between",mb:1,gap:1,height:400},children:[(0,G.jsxs)(l.A,{sx:{width:"49%",border:1,borderRadius:2,borderColor:q.lm.LG_GRAY_2,p:1,overflow:"scroll",scrollbarWidth:"none"},children:[(0,G.jsx)(r.A,{sx:{px:1},children:h("permissionsOfUser")}),w.map(((e,t)=>(0,G.jsxs)(l.A,{sx:{flexDirection:"row",backgroundColor:q.lm.GREEN_OPAQUE,mt:.5,borderRadius:2,width:"fit-content",px:.5},children:[(0,G.jsxs)(r.A,{variant:"h6",sx:{textTransform:"capitalize"},children:[t+1,". ",e]},e.name),(0,G.jsx)(Ie.A,{fontSize:"small",sx:{color:q.lm.DARK_RED,m:.2,cursor:"pointer"},onClick:()=>{return t=e,void v((e=>e.filter((e=>e!==t))));var t}})]},t)))]}),(0,G.jsxs)(l.A,{sx:{width:"49%",border:1,borderRadius:2,borderColor:q.lm.LG_GRAY_2,p:1,overflow:"scroll",scrollbarWidth:"none"},children:[(0,G.jsx)(r.A,{sx:{px:1},children:h("allMenu")}),A.map(((e,t)=>(0,G.jsxs)(l.A,{sx:{flexDirection:"row",backgroundColor:q.lm.GREEN_OPAQUE,mt:.5,borderRadius:2,width:"fit-content",px:.5},children:[(0,G.jsxs)(r.A,{variant:"h6",sx:{textTransform:"capitalize"},children:[t+1,". ",e]},e.name),(0,G.jsx)(Ce.A,{fontSize:"small",sx:{color:q.lm.DARK_GREEN,m:.2,cursor:"pointer"},onClick:()=>(async e=>{w.includes(e)?N.oR.warn("already in list"):v((t=>[...t,e]))})(e)})]},t)))]})]}),(0,G.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:1,mb:1,children:[(0,G.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:h("cancel")}),(0,G.jsx)(Z.A,{color:"light_green",onClick:()=>(async()=>{let e={menu_items:w},t=await x(null===f||void 0===f?void 0:f.id,e);console.log("res----menu items",t),await a()})(),loading:c,children:(0,G.jsx)(r.A,{className:"fw-20-500-24",children:h("submit")})})]})]})},Le=()=>{const{t:e,i18n:t}=(0,y.Bd)(),a=(0,j.wA)(),n=localStorage.getItem("userId"),[s,i]=(0,g.useState)(0),[c,d]=(0,g.useState)([]),[u,h]=(0,g.useState)([]),[m,p]=(0,g.useState)([]),[x,f]=(0,g.useState)([]),[w,v]=(0,g.useState)(),[A,S]=(0,g.useState)(0),[b,C]=(0,g.useState)(0),[_,k]=(0,g.useState)(!1),[E,I]=(0,g.useState)([]),[T,R]=(0,g.useState)(0),[D,P]=(0,g.useState)(null),[O,L]=(0,g.useState)({}),[F,M]=(0,g.useState)([]),[U,H]=(0,g.useState)(""),[Q,W]=(0,g.useState)([]),[Y,X]=(0,g.useState)(""),[V,J]=(0,g.useState)(""),[$,ee]=(0,g.useState)(!1),oe=/^[A-Za-z\s]*$/,[de,ue]=(0,g.useState)(10),{list:he,create:me,updateProfile:pe,update:xe,userProfile:ge,remove:fe,listByUserName:je,listByAadhar:ye,updateOpSkill:Se,createByCsv:Ie,updateProfileCSV:Te}=K(),{list:Re}=Ne();(0,g.useEffect)((()=>{d([]),Pe()}),[T,s]),(0,g.useEffect)((()=>{De()}),[]);const De=async()=>{const[e]=await Re(),t=e.results.map((e=>({value:e.skill_name,key:e.id})));M((e=>[...e,...t]))},Pe=async()=>{v("fetch");try{const[e,t]=await he(T+1),a=e.filter((e=>e.is_operator)),n=e.filter((e=>!e.is_operator));console.log("new lenghth",n);const s=e.filter((e=>!e.is_operator&&!0===e.status));d(n),h(n);const l=await Promise.all(a.map((e=>ge(e.id))));p(l),f(l);const r=s.map((e=>({value:e.username,key:e.id})));S(n.length),C(a.length),W(r)}catch(Fe){console.error("Error fetching users:",Fe)}finally{v(!1)}},Le=async()=>{const e={...O};localStorage.setItem("op_ad_no",O.aadhar_no),e.is_operator=0!==s,e.status=!1,1===s&&(e.username="op_".concat(O.aadhar_no)),v("fetch");const t=await me(e);if(t){return H(t.id),L({}),!0}if(void 0===t){return N.oR.warn("Username already exists."),!1}v(!1)},Me=async()=>{const e={...O};1===s&&(e.aadhar_number=localStorage.getItem("op_ad_no")),e.is_operator=0!==s,e.status=!1,v("fetch");let t=await ge(U);await pe(t.id,e),k(!1),await Pe(),v(!1)},Ue=async(e,t,a)=>{v("fetch");const n={is_admin:!0!==t},s={status:!0!==t};await xe(e,"status"===a?s:n),await Pe()},ze=[{id:1,title:e("email"),render:e=>e.email},{id:2,title:e("user_name"),render:e=>e.username},{id:3,title:e("full_name"),render:e=>e.fullname},{id:5,title:e("role"),render:t=>(0,G.jsx)(ce,{title:t.is_admin?e("admin"):e("na")})},{id:6,title:e("action"),render:t=>(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)(l.A,{flexDirection:"row",sx:{gap:1},children:[(0,G.jsx)(Z.A,{width:"fit-content",color:!0===t.status?"light_green":"RADIAL_RED",onClick:()=>Ue(null===t||void 0===t?void 0:t.id,null===t||void 0===t?void 0:t.status,"status"),children:!0===t.status?e("active"):e("inactive")}),1===s&&(0,G.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{a((0,Ee.t)(t)),k("edit")},children:(0,G.jsx)(re.A,{color:"error",fontSize:"small"})}),0===s&&(null===t||void 0===t?void 0:t.id)!==n.replace(/-/g,"")?(0,G.jsx)(Ae.A,{title:"Delete User",children:(0,G.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>(async e=>{v("fetch"),await fe(e),await Pe(),v(!1)})(null===t||void 0===t?void 0:t.id),children:(0,G.jsx)(le.A,{color:"error",fontSize:"small"})})}):null,0===s&&!1===(null===t||void 0===t?void 0:t.is_admin)?(0,G.jsx)(Ae.A,{title:"Make Admin",children:(0,G.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>Ue(null===t||void 0===t?void 0:t.id,null===t||void 0===t?void 0:t.is_admin,"delete"),children:(0,G.jsx)(ve.A,{color:t.is_admin?"error":"success",fontSize:"small"})})}):null,0===s&&(null===t||void 0===t?void 0:t.id)!==n.replace(/-/g,"")?(0,G.jsx)(Ae.A,{title:"Manage Permission",children:(0,G.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{a((0,Ee.t)(t)),k("manage")},children:(0,G.jsx)(ie.A,{color:"success",fontSize:"small"})})}):null]})})}],qe=[{id:4,title:e("aadhar"),render:e=>e.aadhar_number},{id:1,title:e("date_of_joining"),render:e=>be()(e.date_of_joining).format("ll")},{id:11,title:e("supervisor"),render:t=>{var a;return(0,G.jsxs)(l.A,{sx:{flexDirection:"row",alignItems:"center"},children:[t.passed_induction&&(0,G.jsx)(r.A,{children:null===(a=t.supervisor)||void 0===a?void 0:a.username}),0!==s&&(t.passed_induction?(0,G.jsx)(Ae.A,{title:t.supervisor?"Edit Supervisor":"Add Supervisor",children:(0,G.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{t.supervisor?ee(!0):ee(!1),H(t.id),J(t.user.id),k("addSupervisor")},children:t.supervisor?(0,G.jsx)(re.A,{fontSize:"small",color:"primary"}):(0,G.jsx)(Ce.A,{})})}):(0,G.jsx)(r.A,{children:e("inductionNotPassed")}))]})}},{id:6,title:e("action"),render:t=>(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)(l.A,{flexDirection:"row",sx:{gap:1,alignItems:"center"},children:[(0,G.jsx)(Z.A,{width:"10%",color:!0===t.user.status?"light_green":"RADIAL_RED",onClick:()=>Ue(null===t||void 0===t?void 0:t.user.id,null===t||void 0===t?void 0:t.user.status,"status"),children:!0===t.user.status?e("active"):e("inactive")}),1===s&&(0,G.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{a((0,Ee.t)(t)),k("edit")},children:(0,G.jsx)(re.A,{color:"error",fontSize:"small"})}),0===s&&!1===(null===t||void 0===t?void 0:t.is_admin)?(0,G.jsx)(Ae.A,{title:"Make Admin",children:(0,G.jsx)(o.A,{sx:{height:25,width:25,alignItems:"center"},onClick:()=>Ue(null===t||void 0===t?void 0:t.id,null===t||void 0===t?void 0:t.is_admin,"delete"),children:(0,G.jsx)(ve.A,{sx:{color:t.is_admin?q.lm.RADIAL_RED:q.lm.LIGHT_GREEN}})})}):null]})})}],He=async()=>{v("fetch");const e={skill:O.skill,supervisor:O.supervisor};Se(V,e),k(!1),await Pe(),v(!1)},Ge=e=>{const t=e.target.value;console.log("e.target.value",e.target.value.length),0===s?setTimeout((async()=>{if(0!==e.target.value.length)await(async e=>{const t=await je(e);d(t||[]),v(!1)})(t);else{const e=[...u];d(e)}}),1e3):1===s&&setTimeout((async()=>{if(0!==e.target.value.length)await(async e=>{const t=await ye(e);p(t||[]),v(!1)})(t);else{const e=[...x];p(e)}}),1e3),R(0),X(t)},Be=0===s?c:m.slice(T*de,T*de+de);return(0,G.jsxs)("div",{className:"mx-3 my-2 fw-500",children:[(0,G.jsx)(ne.A,{value:s,onChange:(e,t)=>{i(t),R(0),X("")},className:"mb-2 fw-500",children:[e("users"),e("operators")].map(((e,t)=>(0,G.jsx)(se.A,{label:e,className:"fw-500",value:t})))}),(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsx)(l.A,{mb:1,children:(0,G.jsx)(z.A,{height:"37px",value:Y,placeholder:e(0===s?"search_by_username":"search_by_aadhar"),onChange:e=>Ge(e)})}),(0,G.jsxs)(l.A,{justifyContent:"flex-end",direction:"row",sx:{mb:1,gap:1},children:[(0,G.jsx)(Z.A,{onClick:()=>k("csvUser"),color:"gray",children:(0,G.jsxs)(r.A,{className:"fw-20-500-24",children:[e("upload")," ",e("CSV")]})}),(0,G.jsx)(Z.A,{color:"gray",onClick:()=>k("add"),children:(0,G.jsxs)(r.A,{className:"fw-20-500-24",children:[e("create")," ",e(0===s?"users":"operators")]})})]})]}),(0,G.jsx)(B,{columns:0===s?ze:qe,rows:Be,rowsPerPage:de,loading:"fetch"===w,titleCellClasses:"c-gray fw-700",page:T,setPage:R,paginator:!0,serialize:!0,total:0===s?A:b,tableBodyColor:q.lm.WHITE}),(0,G.jsx)(te,{open:"add"===_,onClose:()=>k(!1),data:O,setData:L,onSubmit:Le,loading:"add"===w,tab:s,handleAdd2:Me}),(0,G.jsx)(ae,{open:"edit"===_,onClose:()=>k(!1),data:O,setData:L,onSubmit:Le,loading:"add"===w,tab:s,handleAdd2:Me,edit:_}),(0,G.jsx)(_e,{data:O,setData:L,open:"addSupervisor"===_,onClose:()=>k(!1),onSubmit:async()=>{v("fetch");const e={add_supervisor:O.supervisor};pe(U,e),He(),k(!1),await Pe()},users:Q,skill:F,edit:$}),(0,G.jsx)(ke,{data:O,setData:L,open:"addSkill"===_,onClose:()=>k(!1),onSubmit:He,users:F}),(0,G.jsx)(we,{onClose:()=>k(!1),open:"csvUser"===_,onSubmit:async()=>{const e=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;E.slice(1).map((async t=>{if(0===s){if(""!==t[0]&&oe.test(t[0])&&e.test(t[2])){const e={username:t[0],fullname:t[1],email:t[2],status:!1},a=await Ie(e),n=null===a||void 0===a?void 0:a.id,s={phone_number:t[3],aadhar_number:t[4],employee_id:t[5],employee_type:t[6],date_of_joining:t[7],status:!1};let l=await ge(n);await Te(l.id,s)}await Pe()}else if(1===s){if(""!==t[2]&&""!==t[0]&&12===t[2].length){console.log("operator item",t);const e={aadhar_number:t[2],username:"op_"+t[2],fullname:t[0],is_operator:!0,status:!1},a=await Ie(e),n=null===a||void 0===a?void 0:a.id,s={aadhar_number:t[2],is_operator:!0,phone_number:t[1],employee_id:t[3],employee_type:t[4],date_of_joining:t[5],status:!1};let l=await ge(n);await Te(l.id,s)}await Pe()}})),k(!1)},file:D,setFile:P,setCsvData:I,tab:s}),(0,G.jsx)(Oe,{onClose:()=>k(!1),open:"manage"===_,modalOpen:_})]})},Fe=()=>{const[e,t]=(0,g.useState)(0),[a,n]=(0,g.useState)(""),[s,i]=(0,g.useState)(""),[o,c]=(0,g.useState)({company:"",location:"",division:"",line:""});return(0,G.jsx)("div",{className:"mx-3 my-2 fw-500",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,G.jsx)(l.A,{sx:{backgroundColor:q.lm.BG_GRAY,p:3,borderRadius:2},children:(0,G.jsxs)(r.A,{className:"fw-20-500-36",children:[(0,H.t)("permissionMsg")," "]})})})},Me=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,edit:c,tab:d}=e;const{allAssets:u,groupAsset:h,updateAssets:m}=Te(),{allOperator:p,groupOp:x,updateAssets:f}=Re(),{allUser:y,groupUser:w,updateAssets:v}=De(),[A,S]=(0,g.useState)(new Map),[b,C]=(0,g.useState)([]),[_,k]=(0,g.useState)([]),[N,E]=(0,g.useState)([]),I=(0,j.d4)((e=>{var t,a;return null===e||void 0===e||null===(t=e.SelectedId)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.id})),T=(0,j.d4)((e=>{var t,a;return null===e||void 0===e||null===(t=e.SelectedId)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.name}));(0,g.useLayoutEffect)((()=>{D()}),[""!==I]);const R=async(e,t)=>{let a=t;e.map((e=>{a.map(((t,n)=>{if(t.id===e.id){a.indexOf(t);a.splice(n,1)}}))})),C(a)},D=async()=>{if("Machines"===d){var e;const[t]=await u(),a=await h(I);R(a.assets,t),(null===(e=a.assets)||void 0===e?void 0:e.length)>0&&k(a.assets)}else if("Operators"===d){var t;const[e]=await p(),a=await x(I);R(a.operators,e),(null===(t=a.operators)||void 0===t?void 0:t.length)>0&&k(a.operators)}else if("Users"===d){var a;const[e]=await y(),t=await w(I);R(t.users,e),(null===(a=t.users)||void 0===a?void 0:a.length)>0&&k(t.users)}},P=async(e,t)=>{const a={remove:[e]},n={add:[e]};"Machines"===d?await m("add"===t?n:a,I):"Operators"===d?await f("add"===t?n:a,I):"Users"===d&&await v("add"===t?n:a,I),D()};return(0,G.jsxs)(V.A,{open:t,onClose:a,width:"min(700px,90vw)",hideCloseIcon:ee.A,wrapperClasses:"px-6",children:[(0,G.jsxs)("h3",{className:"opacity-80",style:{textTransform:"capitalize"},children:["(",T,") ",d," Management"]}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between",mb:1,gap:1,height:400},children:[(0,G.jsxs)(l.A,{sx:{width:"49%",border:1,borderRadius:2,borderColor:q.lm.TEXT_GRAY,p:1,overflow:"scroll",scrollbarWidth:"none"},children:[(0,G.jsxs)(r.A,{sx:{px:1},children:[d," in Group"]}),_.map(((e,t)=>(0,G.jsxs)(l.A,{sx:{flexDirection:"row",backgroundColor:q.lm.GREEN_OPAQUE,mt:.5,borderRadius:2,width:"fit-content",px:.5},children:[(0,G.jsxs)(r.A,{variant:"h6",sx:{textTransform:"capitalize"},children:[t+1,". ",e.name||e.fullname||e.username]},e.name),(0,G.jsx)(Ie.A,{fontSize:"small",sx:{color:q.lm.DARK_RED,m:.2,cursor:"pointer"},onClick:()=>P(e.id,"remove")})]},t)))]}),(0,G.jsxs)(l.A,{sx:{width:"49%",border:1,borderRadius:2,borderColor:q.lm.TEXT_GRAY,p:1,overflow:"scroll",scrollbarWidth:"none"},children:[(0,G.jsxs)(r.A,{sx:{px:1},children:["All ",d]}),b.map(((e,t)=>(0,G.jsxs)(l.A,{sx:{flexDirection:"row",backgroundColor:q.lm.GREEN_OPAQUE,mt:.5,borderRadius:2,width:"fit-content",px:.5},children:[(0,G.jsxs)(r.A,{variant:"h6",sx:{textTransform:"capitalize"},children:[t+1,". ",e.name||e.fullname||e.username]},e.name),(0,G.jsx)(Ce.A,{fontSize:"small",sx:{color:q.lm.DARK_GREEN,m:.2,cursor:"pointer"},onClick:()=>P(e.id,"add")})]},t)))]})]})]})};var Ue=a(3985);const ze=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,edit:c}=e;const d=[{title:(0,H.t)("groupName"),placeholder:(0,H.t)("enterGroupName"),type:q.wN.INPUT,name:"name",validator:q.wY.REQUIRED}],[u,h]=(0,g.useState)(new Map);return(0,G.jsxs)(V.A,{open:t,onClose:a,width:"min(700px,90vw)",hideCloseIcon:ee.A,wrapperClasses:"px-6",children:[(0,G.jsx)("h3",{className:"opacity-80",children:!0===c?(0,H.t)("editNewGroup"):(0,H.t)("addUsersGroup")}),(0,G.jsx)(J.A,{data:n,errors:u,onChange:e=>{const{name:t,value:a}=e.target;h((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:d}),(0,G.jsx)(Ue.A,{setItemss:n.metadata,setJson:e=>s((t=>({...t,metadata:e}))),title:(0,H.t)("details")}),(0,G.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,G.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:(0,H.t)("cancel")}),(0,G.jsx)(Z.A,{color:"light_green",onClick:i,loading:o,children:(0,G.jsx)(r.A,{className:"fw-20-500-24",children:(0,H.t)("create")})})]})]})};var qe=a(7404);const He=()=>{const e=(0,j.wA)(),[t,a]=((0,k.zy)(),(0,k.Zp)(),(0,g.useState)("Users")),[n,s]=(0,g.useState)([]),[i,c]=(0,g.useState)(),[d,u]=(0,g.useState)(0),[h,m]=(0,g.useState)(!1),[p,x]=(0,g.useState)(!1),[f,y]=(0,g.useState)(0),[w,v]=(0,g.useState)({name:"",metadata:{}}),{list:A,create:S,update:b,remove:C}=Te(),{list:_,create:N,update:E,remove:I}=Re(),{list:T,create:R,update:D,remove:P}=De();(0,g.useEffect)((()=>{O()}),[f,t]);const O=async()=>{c("fetch");const[e,a]="Machines"===t?await A(f+1):await T(f+1);s(e),u(a),c(!1)},L=async()=>{const e={...w};c("fetch"),!0===h?"Machines"===t?await b(e):"Operators"===t?await E(e):await D(e):"Machines"===t?await S(e):"Operators"===t?await N(e):await R(e),v({name:"",metadata:{}}),x(!1),await O(),c(!1),m(!1)},F=[{id:1,title:(0,H.t)("groupName"),render:t=>(0,G.jsx)(r.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>{e((0,qe.z)({id:t.id,name:t.name})),x("addremove")},children:t.name})},{id:3,title:(0,H.t)("details"),render:e=>Object.entries(e.metadata).map((e=>{let[t,a]=e;return t&&(0,G.jsxs)(r.A,{className:"fw-12-400",children:[(0,G.jsxs)("strong",{children:[t,":"]})," ",a]},t)}))},{id:5,title:(0,H.t)("action"),render:e=>(0,G.jsxs)(l.A,{flexDirection:"row",children:[(0,G.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{m(!0),x("add"),v(e)},children:(0,G.jsx)(re.A,{color:"primary",fontSize:"small"})}),(0,G.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>(async e=>{c("fetch"),"Machines"===t?await C(e):"Operators"===t?await I(e):await P(e),await O(),c(!1)})(null===e||void 0===e?void 0:e.id),children:(0,G.jsx)(le.A,{color:"error",fontSize:"small"})})]})}];return(0,G.jsxs)("div",{className:"mx-3 my-2",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsx)(l.A,{sx:{flexDirection:"row",alignItems:"center",mb:1},children:(0,G.jsx)(r.A,{className:"fw-20-500-36",children:(0,H.t)("usersGroups")})}),(0,G.jsx)(Z.A,{color:"gray",onClick:()=>x("add"),children:(0,G.jsx)(r.A,{className:"fw-20-500-24",children:(0,H.t)("addUsersGroup")})})]}),(0,G.jsx)(B,{columns:F,rows:n,rowsPerPage:10,loading:"fetch"===i,titleCellClasses:"c-gray fw-700",page:f,setPage:y,paginator:!0,tableBodyColor:q.lm.WHITE,serialize:!0,total:d}),(0,G.jsx)(ze,{open:"add"===p,onClose:()=>{x(!1),m(!1)},data:w,edit:h,setData:v,onSubmit:L}),"addremove"===p&&(0,G.jsx)(Me,{open:"addremove"===p,onClose:()=>{x(!1)},data:w,setData:v,onSubmit:L,tab:t})]})};var Ge=a(8903),Be=a(7965),Qe=a(9761);const We=()=>{(0,k.Zp)();const[e,t]=(0,g.useState)([]),[a,n]=(0,g.useState)(),[s,i]=(0,g.useState)(0),[c,d]=(0,g.useState)(!1),[u,h]=(0,g.useState)(!1),[m,p]=(0,g.useState)(0),[x,j]=(0,g.useState)({name:"",metadata:{}});return(0,G.jsxs)("div",{className:"mx-3 my-2",children:[(0,G.jsx)("div",{className:"flex items-center justify-between",children:(0,G.jsx)("h1",{className:"mt-4",children:"Organization Profile"})}),(0,G.jsxs)(l.A,{sx:{backgroundColor:"#edf7ff"},children:[(0,G.jsx)(l.A,{sx:{backgroundColor:"#c5e3f7",height:"35vh"},children:(0,G.jsx)("img",{width:"100%",height:"100%",alt:"image industry",style:{objectFit:"cover"},src:"https://www.advsyscon.com/blog/wp-content/uploads/intelligent-process-automation-examples.jpg"})}),(0,G.jsx)(l.A,{sx:{backgroundColor:"yellow",height:"30vh",borderRadius:"50%",width:"18%",alignSelf:"center",mt:-15,overflow:"hidden"},children:(0,G.jsx)("img",{width:"100%",height:"100%",alt:"image industry",src:"https://wellgroomedgentleman.com/wp-content/uploads/2023/10/Tony_Stark_Beard_with_Quiff_Hairstyle.width-800.jpg"})}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"center",my:2},children:[(0,G.jsx)(o.A,{sx:{p:1,color:"black"},children:(0,G.jsx)(Be.A,{})}),(0,G.jsx)(o.A,{sx:{p:1,color:"black"},children:(0,G.jsx)(Qe.A,{})}),(0,G.jsx)(o.A,{sx:{p:1,color:"black"},children:(0,G.jsx)(b.A,{})}),(0,G.jsx)(o.A,{sx:{p:1,color:"black"},children:(0,G.jsx)(re.A,{})})]})]}),(0,G.jsxs)(Ge.Ay,{display:"grid",sx:{gap:1,mt:1},gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:[(0,G.jsxs)(l.A,{sx:{backgroundColor:"#edf7ff",p:1},children:[(0,G.jsx)(r.A,{variant:"h6",sx:{textTransform:"uppercase"},children:"Organizational Details"}),(0,G.jsx)(f.A,{}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",gap:2,mt:1},children:[(0,G.jsx)(r.A,{children:"Organizational Name :"}),(0,G.jsx)(r.A,{children:"Dhoot Transmission"})]}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",gap:2},children:[(0,G.jsx)(r.A,{children:"Joining Code :"}),(0,G.jsx)(r.A,{children:"SNL1234"})]}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",gap:2},children:[(0,G.jsx)(r.A,{children:"Organization Type :"}),(0,G.jsx)(r.A,{children:"Dhoot Transmission"})]})]}),(0,G.jsxs)(l.A,{sx:{backgroundColor:"#edf7ff",p:1},children:[(0,G.jsx)(r.A,{variant:"h6",sx:{textTransform:"uppercase"},children:"Address Details"}),(0,G.jsx)(f.A,{}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",gap:2,mt:1},children:[(0,G.jsx)(r.A,{children:"Address :"}),(0,G.jsx)(r.A,{children:"Hoshyarpur, Haryana 202098 "})]}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",gap:2},children:[(0,G.jsx)(r.A,{children:"City :"}),(0,G.jsx)(r.A,{children:"Hoshyarpur"})]}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",gap:2},children:[(0,G.jsx)(r.A,{children:"State :"}),(0,G.jsx)(r.A,{children:"Haryana"})]})]}),(0,G.jsxs)(l.A,{sx:{backgroundColor:"#edf7ff",p:1},children:[(0,G.jsx)(r.A,{variant:"h6",sx:{textTransform:"uppercase"},children:"General Details"}),(0,G.jsx)(f.A,{}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",gap:2,mt:1},children:[(0,G.jsx)(r.A,{children:"GSTIN :"}),(0,G.jsx)(r.A,{children:"GSTIN202098 "})]}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",gap:2},children:[(0,G.jsx)(r.A,{children:"Module Access :"}),(0,G.jsx)(l.A,{sx:{width:"70%"},children:(0,G.jsxs)(Ge.Ay,{sx:{gap:1},children:[(0,G.jsx)(oe.A,{sx:{mb:.5,ml:.2},label:"Module 1"}),(0,G.jsx)(oe.A,{sx:{mb:.5,ml:.2},label:"Module 2"}),(0,G.jsx)(oe.A,{sx:{mb:.5,ml:.2},label:"Module 3"}),(0,G.jsx)(oe.A,{sx:{mb:.5,ml:.2},label:"Module 4"}),(0,G.jsx)(oe.A,{sx:{mb:.5,ml:.2},label:"Module 5"}),(0,G.jsx)(oe.A,{sx:{mb:.5,ml:.2},label:"Module 6"})]})})]})]}),(0,G.jsxs)(l.A,{sx:{backgroundColor:"#edf7ff",p:1},children:[(0,G.jsx)(r.A,{variant:"h6",sx:{textTransform:"uppercase"},children:"Additional Details"}),(0,G.jsx)(f.A,{}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",gap:2,mt:1},children:[(0,G.jsx)(r.A,{children:"Created On :"}),(0,G.jsxs)(r.A,{children:[be()().format("llll")," "]})]}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",gap:2},children:[(0,G.jsx)(r.A,{children:"Last Modified :"}),(0,G.jsx)(r.A,{children:be()().format("llll")})]})]})]})]})},Ye=()=>{const{token:e}=(0,j.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{question_list:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;const l=new W.Ay,r=await l.get("training/question-bank/?page=".concat(e,"&page_size=").concat(a,"&type=").concat(n,"&skill=").concat(s),{},t,Q.So);return null!==r&&void 0!==r&&r.data?(console.log("res  ",r.data),[null===r||void 0===r?void 0:r.data]):[[],0]},skill_question_list:async function(){let e=arguments.length>1?arguments[1]:void 0;const a=new W.Ay,n=await a.get("training/skill-questions/".concat(e,"/"),{},t,Q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},skill_list:async function(){const e=new W.Ay,a=await e.get("training/skills/",{},t,Q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},induction_question:async function(){const e=new W.Ay,a=await e.get("training/induction-questions/",{},t,Q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},hr_question:async function(){const e=new W.Ay,a=await e.get("training/miscellaneous-questions/",{},t,Q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},result:async e=>{const a=new W.Ay,n=await a.get("training/update-test-results/".concat(e,"/"),{},t,Q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},get_Test:async e=>{const a=new W.Ay,n=await a.get("training/test-instance/".concat(e,"/"),{},t,Q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},test_list:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new W.Ay,n=await a.get("training/test-masters/?page=".concat(e,"&page_size=10"),{},t,Q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},createTest:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("training/test-masters/",e,t,(e=>(0,Q.So)(e,null)));return null===n||void 0===n?void 0:n.data},assignExam:async e=>{const a=new W.Ay,n=await a.post("training/".concat(e.test,"/test-instance/").concat(e.operator.key,"/"),{},t,(e=>(0,Q.So)(e,null,"Test Successfully Assign !")));return null===n||void 0===n?void 0:n.data},addQuestion:async(e,a)=>{const n=new W.Ay,s=await n.put("training/test-master/".concat(e,"/"),a,t,(e=>(0,Q.So)(e,null,"Test Updated Successfully!")));return null===s||void 0===s?void 0:s.data},updateTest:async(e,a)=>{const n=new W.Ay,s=await n.put("training/test-instance/".concat(e,"/"),a,t,(e=>(0,Q.So)(e,null)));return null===s||void 0===s?void 0:s.data},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("training/question-bank/",e,t,(e=>(0,Q.So)(e,null)));return null===n||void 0===n?void 0:n.data},updateProfile:async(e,a)=>{const n=new W.Ay,s=await n.put("".concat(Y.H.USER,"-").concat(Y.H.PROFILE,"/").concat(e,"/"),a,t,(e=>(0,Q.So)(e,null,"User Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{if(!e)return;const a=new W.Ay,n=await a.delete("".concat(Y.H.USER,"/").concat(e,"/"),t,(e=>(0,Q.So)(e,null,"User deleted successfully!")));return null===n||void 0===n?void 0:n.data},linkPlanTestMaster:async(e,a)=>{const n=new W.Ay,s=await n.put("training/training/".concat(e,"/"),a,t,(e=>(0,Q.So)(e,null)));return null===s||void 0===s?void 0:s.data}}};var Xe=a(9413),Ke=a(4605),Ze=a(1962);const Ve=e=>{let{open:t,onClose:a,data:n,setData:s,onStart:i,loading:o,edit:c,setModalOpen:d,testData:u}=e;return(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)(m.A,{sx:{display:"flex",gap:2},children:[(0,G.jsxs)(l.A,{sx:{width:"55%"},children:[(0,G.jsx)(l.A,{sx:{backgroundColor:q.lm.LG_BG_BLUE,borderRadius:2,p:2},children:(0,G.jsx)(r.A,{className:"fw-600-16",children:(null===u||void 0===u?void 0:u.test.test_name)||"sass"})}),(0,G.jsxs)(l.A,{className:"fw-500-14",sx:{backgroundColor:q.lm.LIGHT_GRAY,mt:2,borderRadius:2,p:2},children:[(0,G.jsx)(r.A,{className:"fw-500-14",children:(0,G.jsx)("strong",{children:"You are going to start the Test, Please read carefully below Instructions :- "})}),(0,G.jsxs)(l.A,{children:[(0,G.jsxs)(r.A,{className:"fw-500-14",children:["1.This test is designed to evaluate your understanding and skills - ",(0,G.jsx)("strong",{children:(null===u||void 0===u?void 0:u.test.skill)||(null===u||void 0===u?void 0:u.test.test_type)})]}),(0,G.jsxs)(r.A,{className:"fw-500-14",children:["2.Duration: The total time for the test is ",(0,G.jsxs)("strong",{children:[(null===u||void 0===u?void 0:u.test.alloted_minutes)||"-"," minutes."]})]}),(0,G.jsxs)(r.A,{className:"fw-500-14",children:["3.The test will auto-submit once the allocated time ends. ",(0,G.jsxs)("strong",{children:[(null===u||void 0===u?void 0:u.test.alloted_minutes)||"-"," minutes"]})]}),(0,G.jsx)(r.A,{className:"fw-500-14",children:"4.The test consists of multiple-choice questions."}),(0,G.jsxs)(r.A,{className:"fw-500-14",children:["5.There are ",(0,G.jsxs)("strong",{children:[(null===u||void 0===u?void 0:u.test.maximum_questions)||"-"," Questions."]})]}),(0,G.jsx)(r.A,{className:"fw-500-14",children:"6.There is no negative marking, so attempt all questions without hesitation."}),(0,G.jsx)(r.A,{className:"fw-500-14",children:"7.Each question has only one correct answer. Select the best option from the given choices."}),(0,G.jsx)(r.A,{className:"fw-500-14",children:"8.You can navigate between questions and modify your answers before submitting."}),(0,G.jsx)(r.A,{className:"fw-500-14",children:"9.The test must be completed in one sitting."}),(0,G.jsx)(r.A,{className:"fw-500-14",children:"10.After completing the test, click the Submit button to finalize your responses."})]}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between",mt:2},children:[(0,G.jsx)(Z.A,{color:"gray",children:"Back"}),(0,G.jsx)(Z.A,{color:"light_green",onClick:()=>{d("start"),i()},children:"Start"})]})]})]}),(0,G.jsx)(l.A,{sx:{width:"43%"},children:(0,G.jsxs)(l.A,{sx:{backgroundColor:q.lm.LIGHT_GRAY,borderRadius:2,p:2},children:[(0,G.jsx)(r.A,{className:"fw-600-16",children:"Sample Question :"}),(0,G.jsx)(r.A,{sx:{mt:1},className:"fw-600-16",children:"Tick The Correct Options"}),(0,G.jsx)(r.A,{sx:{mt:1},className:"fw-500-14",children:"Question 1"}),(0,G.jsx)(r.A,{sx:{mt:1,mb:1},className:"fw-500-14",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),[{option:"Answer 1",check:!0},{option:"Answer 2",check:!1},{option:"Answer 3",check:!1},{option:"Answer 4",check:!1}].map(((e,t,a)=>(0,G.jsx)(Xe.A,{sx:{mb:1.4},children:(0,G.jsx)(Ke.A,{disabled:!0,control:(0,G.jsx)(Ze.A,{className:"fw-500-14",defaultChecked:e.check}),label:e.option})},a)))]})})]})})};var Je=a(1338);const $e=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,edit:c}=e;return(0,G.jsx)(V.A,{open:t,onClose:a,width:"min(700px,90vw)",hideCloseIcon:ee.A,wrapperClasses:"px-6",children:(0,G.jsxs)(l.A,{sx:{justifyContent:"center",alignItems:"center",mt:4},children:[(0,G.jsx)(Je.A,{sx:{width:55,height:55},color:"primary"}),(0,G.jsx)(l.A,{sx:{justifyContent:"center",alignItems:"center",mt:2,mb:2},children:(0,G.jsx)(r.A,{sx:{fontSize:20,fontWeight:"bold"},color:"primary",children:"Done !"})})]})})};var et=a(1825);const tt=e=>{let{activeQuestion:t,totalQuestions:a,setModalOpen:n,testData:s,finishTest:i}=e;(0,k.Zp)();const[o,c]=(0,g.useState)(null===s||void 0===s?void 0:s.remaining_time_in_seconds);return(0,g.useEffect)((()=>{if(o>0){const e=setTimeout((()=>{c((e=>e-1)),localStorage.setItem("time",o)}),1e3);return()=>clearTimeout(e)}o<1&&(i(),localStorage.setItem("draweWidth",180))}),[o]),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[(0,G.jsxs)(l.A,{sx:{flexDirection:"row",gap:.5,alignItems:"baseline"},children:[(0,G.jsx)(r.A,{sx:{fontWeight:500,fontSize:40},children:(0,$.gv)(t)}),(0,G.jsxs)(r.A,{sx:{fontWeight:500,fontSize:20},children:["/",(0,$.gv)(a)]})]}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",gap:1,alignItems:"center",mr:2},children:[(0,G.jsx)(et.A,{fontSize:"large"}),(0,G.jsx)(r.A,{sx:{fontWeight:500,fontSize:18},children:(0,$.fU)(o)})]})]})};var at=a(6240);const nt=e=>{let{highlightAnswer:t,children:a,...n}=e;const s=(0,at.A)();return(0,G.jsx)(m.A,{...n,sx:{width:"100%",fontSize:{xs:"18px",sm:"calc(18px + 2vw)",md:"calc(18px + 4vw)",lg:"16px"},color:s.palette.text.secondary,fontWeight:t?400:300,border:"1px solid ".concat(t?s.palette.primary.main:s.palette.divider),backgroundColor:t?s.palette.background.selected:s.palette.background.paper,borderRadius:"16px",marginTop:"8px",cursor:"pointer",transition:t?"border 0.2s ease-in":"none","& input":{visibility:"hidden",margin:0}},children:a})},st=e=>{let{onChange:t,index:a,choice:n,type:s,correct:i}=e;const o=String.fromCharCode(65+a),[c,d]=(0,g.useState)("");return(0,G.jsxs)(l.A,{sx:{flexDirection:"row",alignItems:"center",gap:1},children:[(0,G.jsxs)(r.A,{sx:{fontWeight:!0===i?"bold":""},children:[o,"."]}),(0,G.jsx)(nt,{highlightAnswer:!0===i?"21":"",children:(0,G.jsx)(l.A,{children:(0,G.jsx)(r.A,{sx:{p:1,display:"flex",fontWeight:!0===i?"bold":""},onClick:()=>t(n),children:n})})},a)]})},lt=e=>{let{question:t,code:a,image:n,type:s,choices:i=[],selectedAnswer:o,handleAnswerSelection:c,ans:d,questionNo:u}=e;return(0,G.jsxs)(l.A,{children:[(0,G.jsx)(r.A,{className:"fw-500-14",sx:{mb:1},children:null===t||void 0===t?void 0:t.question_text}),(0,G.jsx)(l.A,{children:i.map(((e,a)=>{var n;return(0,G.jsx)(st,{choice:e,index:a,onChange:e=>c(a+1,t.id),type:s,selectedAnswer:o,correct:(null===(n=d[u])||void 0===n?void 0:n.ans)-1===a},a)}))})]})},rt=()=>{var e;const t=new URLSearchParams(window.location.search).get("key1"),a=(0,k.zy)(),[n,s]=((0,k.Zp)(),a.state,(0,g.useState)([])),[i,o]=(0,g.useState)(),[c,d]=(0,g.useState)(0),[u,h]=(0,g.useState)(!1),[m,p]=(0,g.useState)("testDetail"),[x,f]=(0,g.useState)(0),[j,y]=(0,g.useState)({name:"",metadata:{}}),{get_Test:w,updateTest:v,result:A}=Ye(),[S,b]=(0,g.useState)([]),[C,_]=(0,g.useState)(0),[E,I]=(0,g.useState)([]),[T,R]=(0,g.useState)(null),[D,P]=(0,g.useState)([]),[O,L]=(0,g.useState)(),[F,M]=(0,g.useState)([]);(0,g.useEffect)((()=>{U()}),[]);const U=async()=>{o("fetch");const[e,a]=await w(t);L(e);const n=e.questions_list.map((e=>({question:e.id,ans:""})));I((e=>[...e,...n]));const s=E.map((e=>({[e.question]:0})));M((e=>[...e,...s])),d(a),o(!1)};function z(e){"pre"===e&&C>=1&&_((e=>e-1)),"next"===e&&C+1<O.questions_list.length&&_((e=>e+1))}function q(){window.opener=null,window.open("","_self"),window.close()}return(0,G.jsxs)("div",{className:"mx-3 my-2",children:["start"===m&&(0,G.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between",p:1},children:[(0,G.jsxs)(l.A,{sx:{width:"78%"},children:[(0,G.jsx)(tt,{finishTest:async function(){localStorage.setItem("draweWidth",180);try{let e={completed:!0,remaining_time_in_seconds:0};await v(t,e);const a=await A(t);console.log("Upload result",a),p("timeUps"),setTimeout((()=>{q()}),3e3)}catch(Fe){console.error("Error in the timer flow:",Fe),N.oR.error(Fe)}},activeQuestion:C+1,totalQuestions:O.questions_list.length,setModalOpen:p,testData:O}),(0,G.jsx)(lt,{question:O.questions_list[C],choices:null===(e=O.questions_list[C])||void 0===e?void 0:e.question_options,type:"MAQs",handleAnswerSelection:(e,a)=>{!async function(e,a){let n=localStorage.getItem("time"),s={answers:{[a]:e},remaining_time_in_seconds:n};await v(t,s)}(e,a),I((t=>{const n=t.findIndex((e=>e.question===a));if(-1!==n){const s=[...t];return s[n]={question:a,ans:e},s}return[...t,{question:a,ans:e}]}))},ans:E,questionNo:C}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between",mt:3},children:[(0,G.jsx)(Z.A,{color:"light_green",onClick:()=>z("pre"),children:"Previous"}),C===O.questions_list.length-1?(0,G.jsx)(Z.A,{color:"light_green",onClick:()=>async function(e){localStorage.setItem("draweWidth",180),localStorage.setItem("time",0),await v(t,{completed:!0}),await A(t),p("timeUps"),setTimeout((()=>{q()}),3e3)}(),children:(0,G.jsx)(r.A,{children:(0,H.t)("submit")})}):(0,G.jsx)(Z.A,{color:"light_green",onClick:()=>z("next"),children:(0,G.jsx)(r.A,{children:(0,H.t)("next")})})]})]}),(0,G.jsxs)(l.A,{sx:{width:"18%",boxShadow:3,p:1,py:2,borderRadius:2,justifyContent:"space-between"},children:[(0,G.jsx)(Ge.Ay,{display:"grid",gap:1,gridTemplateColumns:{sm:"repeat(5, 1fr)",xs:"repeat(5, 1fr)"},children:E.map(((e,t)=>(0,G.jsx)(l.A,{sx:{backgroundColor:e.ans?"#86D56A":"#3E3E3E",justifyContent:"center",alignItems:"center",borderRadius:1,width:22,height:22,cursor:"pointer"},onClick:()=>_(t),children:(0,G.jsx)(r.A,{style:{fontSize:"12px",fontWeight:"bold"},sx:{color:e.ans?"black":"white",textAlign:"center"},children:t+1})},t)))}),(0,G.jsxs)(l.A,{sx:{},children:[(0,G.jsxs)(l.A,{sx:{flexDirection:"row",gap:1},children:[(0,G.jsx)(l.A,{sx:{backgroundColor:"#86D56A",justifyContent:"center",alignItems:"center",borderRadius:1,width:22,height:22}}),(0,G.jsx)(r.A,{sx:{mb:1,fontWeight:"bold"},children:"Answered"})]}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",gap:1},children:[(0,G.jsx)(l.A,{sx:{backgroundColor:"#3E3E3E",justifyContent:"center",alignItems:"center",borderRadius:1,width:22,height:22}}),(0,G.jsx)(r.A,{sx:{fontWeight:"bold"},children:"Not Answered"})]})]})]})]}),"testDetail"===m&&(0,G.jsx)(Ve,{testData:O,setModalOpen:p,onStart:async()=>{await v(t,{started:!0})}}),(0,G.jsx)($e,{open:"timeUps"===m,onClose:()=>p(!1)}),(0,G.jsx)(we,{onClose:()=>p(!1),open:"csvUser"===m,onSubmit:function(){const e=[];D.slice(1).forEach((t=>{const a=t[0],n=t[t.length-1],s=new Set;t.slice(1).forEach((e=>{""!==e&&s.add(e)}));const l={question:a,choices:Array.from(s),answer:n};e.push(l),console.log("Processed object",l)})),console.log("All results",e)},file:T,setFile:R,setCsvData:P})]})};var it=a(728);const ot=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:c,tab:d,skills:u}=e;const[h,m]=(0,g.useState)(new Map),[p,x]=(0,g.useState)(0),[f,j]=(0,g.useState)([]),[y,w]=(0,g.useState)([]),[v,A]=(0,g.useState)([]),{question_list:S,skill_question_list:b,induction_question:C,hr_question:_,create:k,update:N,remove:E}=Ye(),[I,T]=(0,g.useState)({skill:""}),[R,D]=(0,g.useState)([]),[P,O]=(0,g.useState)({}),[L,F]=(0,g.useState)([]),[M,U]=(0,g.useState)([]),[z,Q]=(0,g.useState)("");(0,g.useEffect)((()=>{""===I.skill&&""===I.skill||W()}),[I.skill]),(0,g.useEffect)((()=>{Y(),X()}),[]);const W=async()=>{const[e,t]=await b(1,I.skill?I.skill:n.skill);!function(e){j([]);const t=e.filter((e=>!0===e.compulsory)),a=e.filter((e=>!1===e.compulsory));console.log("compulsoryList",t.length,"List",a.length),j((e=>[...e,...a])),w((e=>[...e,...t]))}(e)},Y=async()=>{const[e,t]=await C();U(e)},X=async()=>{const[e,t]=await _();F(e)};const K=[{title:(0,H.t)("questionType"),placeholder:(0,H.t)("questionType"),type:q.wN.SELECT,name:"tranning",validator:q.wY.REQUIRED,keyValues:[{value:"Induction",key:"Induction"},{value:"Skill",key:"Skill"},{value:"HR",key:"HR"}]},"Skill"===I.tranning&&{title:(0,H.t)("skill"),placeholder:(0,H.t)("selectSkill"),type:q.wN.SELECT,name:"skill",validator:q.wY.REQUIRED,keyValues:u}],$=[{id:122,title:"",render:e=>(0,G.jsx)(Xe.A,{children:(0,G.jsx)(Ke.A,{control:(0,G.jsx)(Ze.A,{defaultChecked:e.checked,onChange:t=>((e,t)=>{const a=P[z].findIndex((e=>e.id===t));console.log("index of sel",a),O((t=>({...t,[z]:t[z].map(((t,n)=>n===a?{...t,checked:e}:t))}))),A((a=>e?[...a,t]:a.filter((e=>e!==t))))})(t.target.checked,e.id)})})},e.id)},{id:1,title:(0,H.t)("question"),render:e=>e.question_text},{id:2,title:(0,H.t)("compulsory"),render:e=>!0===e.compulsory?"Yes":"No"},{id:3,title:(0,H.t)("questionLevel"),render:e=>e.skill_level||"-"}];return(0,G.jsxs)(V.A,{open:t,onClose:a,width:"min(800px,90vw)",hideCloseIcon:ee.A,wrapperClasses:"px-6",children:[(0,G.jsx)("h3",{className:"opacity-80",children:(0,H.t)("addQuestions")}),(0,G.jsx)(l.A,{sx:{gap:1,alignItems:"flex-start"},children:(0,G.jsx)(J.A,{data:I,errors:h,onChange:async e=>{const{name:t,value:a}=e.target;if("skill"===t&&"Skill"!==t&&"Skill"!==a){let e=u.filter((e=>a===e.key))[0].value;Q(e);const[t,n]=await b(1,a),s=t.map((e=>({...e,checked:e.compulsory})));D((t=>t.includes(e)?t:[...t,e])),O((t=>t.hasOwnProperty(e)?t:{...t,[e]:s}))}if("skill"!==t&&"Skill"!==t&&"Skill"!==a){const e=("Induction"===a?M:L).map((e=>({...e,checked:e.compulsory})));console.log("value question",a),Q(a),O((t=>t.hasOwnProperty(a)?t:{...t,[a]:e})),D((e=>e.includes(a)?e:[...e,a]))}T((e=>({...I,[t]:a}))),console.log("name or value------\x3e",P)},schema:K})}),(0,G.jsx)(l.A,{sx:{flexDirection:"row",gap:2,mt:2,border:1,borderColor:q.lm.LIGHT_GRAY,borderTopLeftRadius:5,borderTopRightRadius:5,width:"fit-content"},children:R.map(((e,t)=>(0,G.jsxs)(l.A,{sx:{p:.5,flexDirection:"row",gap:1,borderRight:1,borderColor:q.lm.LIGHT_GRAY},children:[(0,G.jsx)(r.A,{onClick:()=>{Q(e)},sx:{fontSize:14,color:z===e?"black":q.lm.GRAY},children:e}),(0,G.jsx)(o.A,{sx:{height:14,width:14,cursor:"pointer"},onClick:()=>(e=>{D((t=>t.filter((t=>t!==e))));const{[e]:t,...a}=P;O(a)})(e),children:(0,G.jsx)(it.A,{color:z===e?"black":q.lm.LG_GRAY,fontSize:"small"})})]})))}),(0,G.jsx)(l.A,{sx:{},children:(0,G.jsx)(B,{columns:$,rows:R.length>0?P[z]:[],rowsPerPage:10,loading:"fetch"===c,titleCellClasses:"c-gray fw-700"})}),(0,G.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,G.jsx)(Z.A,{bordered:!0,gray:!0,onClick:()=>{0===p?(m(new Map),s({}),x(0),a()):x((e=>e-1))},children:(0,H.t)("back")}),(0,G.jsx)(Z.A,{color:"light_green",onClick:async()=>{let e=R.map((e=>P[e].filter((e=>!0===e.checked)))).flat();await i(e)},loading:c,children:(0,G.jsx)(r.A,{className:"fw-20-500-24",children:1===p?(0,H.t)("create"):(0,H.t)("next")})})]})]})},ct=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,tab:c,setSelectedQuestions:d,skills:u,users:h,testList:m}=e;const[p,x]=(0,g.useState)(new Map),[f,j]=(0,g.useState)(0),[y,w]=(0,g.useState)([]),v=[{title:(0,H.t)("admins"),placeholder:(0,H.t)("selectAdmin"),type:q.wN.SELECT,name:"admins",validator:q.wY.REQUIRED,keyValues:h,multi:!0,height:"auto"}];return(0,G.jsxs)(V.A,{open:t,onClose:a,width:"min(700px,90vw)",hideCloseIcon:ee.A,wrapperClasses:"px-5",children:[(0,G.jsx)("h3",{className:"opacity-80",children:(0,H.t)("assignAdmins")}),(0,G.jsx)(J.A,{data:n,errors:p,onChange:e=>{const{name:t,value:a}=e.target;x((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:v}),(0,G.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,G.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:(0,H.t)("cancel")}),(0,G.jsx)(Z.A,{color:"light_green",onClick:async()=>{if(0!==f);else{const e=(0,$.bG)(v,n);if(x(e),e.size)return;await i()}},loading:o,children:(0,G.jsx)(r.A,{className:"fw-20-500-24",children:(0,H.t)("next")})})]})]})},dt=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,tab:c,setSelectedQuestions:d,skills:u,users:h,testList:m}=e;const[p,x]=(0,g.useState)(new Map),[f,j]=(0,g.useState)(0),[y,w]=(0,g.useState)([]),v=[{title:(0,H.t)("testType"),placeholder:(0,H.t)("selectTestType"),type:q.wN.SELECT,name:"tranning_type",validator:q.wY.REQUIRED,keyValues:[{value:"Induction Training",key:"Induction Training"},{value:"Skill Test",key:"Skill Test"},{value:"Tranning Test",key:"Tranning Test"}]},"Skill Test"===n.tranning_type&&{title:(0,H.t)("skill"),placeholder:"Select Skill",type:q.wN.SELECT,name:"skill",validator:q.wY.REQUIRED,keyValues:u},"Skill Test"===n.tranning_type&&{title:(0,H.t)("testLevel"),placeholder:(0,H.t)("selectTestLevel"),type:q.wN.SELECT,name:"level",validator:q.wY.REQUIRED,keyValues:[{value:"Level 1",key:1},{value:"Level 2",key:2},{value:"Level 3",key:3}]},{title:(0,H.t)("testName"),placeholder:(0,H.t)("enterTestName"),type:q.wN.INPUT,name:"testname",validator:q.wY.NAME},{title:(0,H.t)("maxQuestion"),placeholder:(0,H.t)("enterNumberOfQuestion"),type:q.wN.INPUT,inputType:"number",name:"totalQuestion",validator:q.wY.REQUIRED},"Skill Test"!==n.tranning_type&&{title:(0,H.t)("examPassingCriteria"),placeholder:(0,H.t)("enterPassingCriteria"),type:q.wN.INPUT,name:"passing_criteria",inputType:"number",validator:q.wY.REQUIRED},{title:(0,H.t)("timeInMin"),placeholder:(0,H.t)("enterTimeInMin"),type:q.wN.INPUT,name:"time",inputType:"number",validator:q.wY.REQUIRED}];return(0,G.jsxs)(V.A,{open:t,onClose:a,width:"min(700px,90vw)",hideCloseIcon:ee.A,wrapperClasses:"px-6",children:[(0,G.jsx)("h3",{className:"opacity-80",children:(0,H.t)("createTest")}),(0,G.jsx)(J.A,{data:n,errors:p,onChange:e=>{const{name:t,value:a}=e.target;x((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:v}),(0,G.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,G.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:(0,H.t)("cancel")}),(0,G.jsx)(Z.A,{color:"light_green",onClick:async()=>{if(0!==f);else{const e=(0,$.bG)(v,n);if(x(e),e.size)return;await i()}},loading:o,children:(0,G.jsx)(r.A,{className:"fw-20-500-24",children:(0,H.t)("next")})})]})]})},ut=()=>{const e=(0,k.zy)(),t=((0,k.Zp)(),e.state),[a,n]=(0,g.useState)([]),[s,i]=(0,g.useState)(),[c,d]=(0,g.useState)(0),[u,h]=(0,g.useState)(!1),[m,p]=(0,g.useState)("testDetail"),[x,f]=(0,g.useState)(0),[j,y]=(0,g.useState)({name:"",tranning_type:"",metadata:{},skill:""}),{question_list:w,skill_list:v,test_list:A,assignExam:S,createTest:b,update:C,linkPlanTestMaster:_,addQuestion:N}=Ye(),{list:E}=K(),[I,T]=(0,g.useState)(new Map),[R,D]=(0,g.useState)([]),[P,O]=(0,g.useState)([]),[L,F]=(0,g.useState)([]),[M,U]=(0,g.useState)(""),z=[{id:1,title:(0,H.t)("testName"),render:e=>(0,G.jsx)(r.A,{children:e.test_name})},{id:2,title:(0,H.t)("testType"),render:e=>(0,G.jsx)(r.A,{children:e.test_type})},{id:3,title:(0,H.t)("skill"),render:e=>(0,G.jsx)(r.A,{children:e.skill})},{id:4,title:(0,H.t)("skillLevel"),render:e=>(0,G.jsx)(r.A,{children:e.skill_level})},{id:5,title:(0,H.t)("maximumQuestions"),render:e=>(0,G.jsx)(r.A,{children:e.maximum_questions})},{id:6,title:(0,H.t)("questionsInTest"),render:e=>(0,G.jsx)(r.A,{children:e.questions_master.length})},{id:7,title:(0,H.t)("allotedMinutes"),render:e=>(0,G.jsx)(r.A,{children:e.alloted_minutes})},{id:8,title:(0,H.t)("admins"),render:e=>(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)(l.A,{sx:{flexDirection:"row",gap:1},children:[(0,G.jsx)(l.A,{sx:{flexDirection:"column"},children:e.admin.map(((e,t)=>(0,G.jsx)(r.A,{sx:{textTransform:"capitalize"},children:e.username},t)))}),(0,G.jsx)(Ae.A,{title:"add admins",children:(0,G.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{U(e.id),p("addAssign"),y({...j,admins:e.admin.map((e=>e.id))})},children:(0,G.jsx)(Ce.A,{color:"primary",fontSize:"small"})})})]})})}];(0,g.useEffect)((()=>{console.log("planData----",t),p(!!t&&"createTest"),Y(),Q(),W()}),[]);const Q=async()=>{const[e]=await A(x+1);console.log("test master-------",e.count),d(e.count),F(e.results)},W=async()=>{const[e,t]=await E(x+1),a=e.filter((e=>!e.is_operator&&!0===e.status)).map((e=>({value:e.username,key:e.id})));n((e=>[...e,...a]))},Y=async()=>{i("fetch");const[e]=await v(x+1),t=e.results.map((e=>({value:e.skill_name,key:e.id})));O((e=>[...e,...t])),i(!1)};return(0,G.jsxs)("div",{className:"mx-3 my-2",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsx)(l.A,{sx:{flexDirection:"row",alignItems:"center",mb:1},children:(0,G.jsx)(r.A,{className:"fw-20-500-36",children:(0,H.t)("testMaster")})}),(0,G.jsx)(l.A,{sx:{flexDirection:"row",gap:1},children:(0,G.jsx)(Z.A,{color:"gray",onClick:()=>p("createTest"),children:(0,G.jsx)(r.A,{className:"fw-20-500-24",children:(0,H.t)("createTest")})})})]}),(0,G.jsx)(B,{columns:z,rows:L,rowsPerPage:10,loading:"fetch"===s,titleCellClasses:"c-gray fw-700",page:x,setPage:f,paginator:!0,serialize:!0,total:c,tableBodyColor:q.lm.WHITE}),(0,G.jsx)(dt,{open:"createTest"===m,onClose:()=>{p(!1)},onSubmit:async()=>{const e={test_name:j.testname,test_type:j.tranning_type,skill:j.skill,skill_level:parseInt(j.level),maximum_questions:parseInt(j.totalQuestion),alloted_minutes:parseInt(j.time)},t={test_name:j.testname,test_type:j.tranning_type,maximum_questions:parseInt(j.totalQuestion),passing_criteria:j.passing_criteria,alloted_minutes:parseInt(j.time)},a=await b("Skill Test"!==j.tranning_type?t:e);a.id&&(U(a.id),p("addQues"))},skills:P,data:j,setData:y}),(0,G.jsx)(ot,{open:"addQues"===m,onClose:()=>{p(!1)},onSubmit:async e=>{const a=e.map((e=>e.id)),n={questions:a};await N(M,n),t&&await _(t.id,{test_master:M,training_admin:t.training_admin,trainees:t.trainees}),y({}),p(!1),await Q()},selectQuestions:R,setSelectedQuestions:D,skills:P,data:j,setData:y}),(0,G.jsx)(ct,{open:"addAssign"===m,onClose:()=>{p(!1)},onSubmit:async()=>{const e={admin:j.admins};await N(M,e),p(!1),y({}),await Q()},users:a,testList:L,data:j,setData:y})]})};var ht=a(6012);const mt=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,tab:c,edit:d,selectSkill:u,user:h}=e;const[m,p]=(0,g.useState)(new Map),[x,f]=(0,g.useState)(0),[j,y]=(0,g.useState)(1),[w,v]=(0,g.useState)(1),A=/^[A-Za-z\s]*$/,S=e=>{const{name:t,value:a}=e.target;s((e=>({...e,[t]:a})))},b=async()=>{if(""!==n.skill_name)return await i(),y(1),void v(1)};return(0,G.jsxs)(V.A,{open:t,onClose:a,width:"min(700px,90vw)",hideCloseIcon:ee.A,wrapperClasses:"px-6",children:[(0,G.jsx)("h3",{className:"opacity-80",children:!0===d?(0,H.t)("editSkill"):(0,H.t)("addingSkill")}),(0,G.jsxs)("div",{style:{display:"flex",gap:5},className:"fw-16 mb-1",children:[w>1&&(0,G.jsxs)(r.A,{sx:{cursor:"pointer"},onClick:()=>y(1),children:[(0,H.t)("level")," 1 >"]}),w>1&&(0,G.jsxs)(r.A,{sx:{cursor:"pointer"},onClick:()=>y(2),children:[(0,H.t)("level")," 2 >"]}),w>2&&(0,G.jsxs)(r.A,{sx:{cursor:"pointer"},onClick:()=>y(3),children:[(0,H.t)("level")," 3"]})]}),(0,G.jsxs)("div",{style:{display:"grid",gap:10},children:[1===j&&(0,G.jsxs)(Ge.Ay,{display:"grid",sx:{gap:1},gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:[(0,G.jsx)(r.A,{sx:{fontSize:16,fontWeight:"400",color:q.lm.TEXT_GRAY},children:(0,H.t)("enterSkillName")}),(0,G.jsx)(z.A,{name:"skill_name",value:n.skill_name,onChange:S,disabled:!0===d,width:"500px"}),(0,G.jsx)(r.A,{sx:{fontSize:16,fontWeight:"400",color:q.lm.TEXT_GRAY},children:(0,H.t)("addSupervisor")}),(0,G.jsx)(ht.A,{name:"supervisor_one",width:"100%",onChange:S,value:n.supervisor_one,keyValues:h,multi:!0,height:"auto"})]}),1===j&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(r.A,{sx:{textAlign:"center"},onClick:()=>console.log("supervisor",n),children:[(0,H.t)("level")," 1"]}),(0,G.jsxs)("div",{style:{display:"grid",gap:10},children:[(0,G.jsxs)(Ge.Ay,{display:"grid",sx:{gap:1},gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:[(0,G.jsx)(r.A,{sx:{fontSize:16,fontWeight:"400",color:q.lm.TEXT_GRAY},children:(0,H.t)("addDays")}),(0,G.jsx)(z.A,{type:"number",name:"days_1",value:n.days_1,width:"500px",onChange:S})]}),(0,G.jsxs)(Ge.Ay,{display:"grid",sx:{gap:1},gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:[(0,G.jsx)(r.A,{sx:{fontSize:16,fontWeight:"400",color:q.lm.TEXT_GRAY},children:(0,H.t)("examPassingCriteria")}),(0,G.jsx)(z.A,{type:"number",name:"exam_1",value:n.exam_1,onChange:S,width:"500px"})]}),(0,G.jsxs)(Ge.Ay,{display:"grid",sx:{gap:1},gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:[(0,G.jsx)(r.A,{sx:{fontSize:16,fontWeight:"400",color:q.lm.TEXT_GRAY},children:(0,H.t)("floorWorkCriteria")}),(0,G.jsx)(z.A,{type:"number",name:"floor_1",value:n.floor_1,onChange:S,width:"500px"})]}),(0,G.jsxs)(Ge.Ay,{display:"grid",sx:{gap:1},gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:[(0,G.jsx)(r.A,{sx:{fontSize:16,fontWeight:"400",color:q.lm.TEXT_GRAY},children:(0,H.t)("numberOfEntry")}),(0,G.jsx)(z.A,{type:"number",name:"entry_1",value:n.entry_1,onChange:S,width:"500px"})]})]})]}),2===j&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(r.A,{sx:{textAlign:"center"},children:[(0,H.t)("level")," 2"]}),(0,G.jsxs)("div",{style:{display:"grid",gap:10},children:[(0,G.jsxs)(Ge.Ay,{display:"grid",sx:{gap:1},gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:[(0,G.jsx)(r.A,{sx:{fontSize:16,fontWeight:"400",color:q.lm.TEXT_GRAY},children:(0,H.t)("addDays")}),(0,G.jsx)(z.A,{type:"number",name:"days_2",value:n.days_2,width:"500px",onChange:S})]}),(0,G.jsxs)(Ge.Ay,{display:"grid",sx:{gap:1},gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:[(0,G.jsx)(r.A,{sx:{fontSize:16,fontWeight:"400",color:q.lm.TEXT_GRAY},children:(0,H.t)("examPassingCriteria")}),(0,G.jsx)(z.A,{type:"number",name:"exam_2",value:n.exam_2,onChange:S,width:"500px"})]}),(0,G.jsxs)(Ge.Ay,{display:"grid",sx:{gap:1},gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:[(0,G.jsx)(r.A,{sx:{fontSize:16,fontWeight:"400",color:q.lm.TEXT_GRAY},children:(0,H.t)("floorWorkCriteria")}),(0,G.jsx)(z.A,{type:"number",name:"floor_2",value:n.floor_2,onChange:S,width:"500px"})]}),(0,G.jsxs)(Ge.Ay,{display:"grid",sx:{gap:1},gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:[(0,G.jsx)(r.A,{sx:{fontSize:16,fontWeight:"400",color:q.lm.TEXT_GRAY},children:(0,H.t)("numberOfEntry")}),(0,G.jsx)(z.A,{type:"number",name:"entry_2",value:n.entry_2,onChange:S,width:"500px"})]})]})]}),3===j&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(r.A,{sx:{textAlign:"center"},children:[(0,H.t)("level")," 3"]}),(0,G.jsxs)("div",{style:{display:"grid",gap:10},children:[(0,G.jsxs)(Ge.Ay,{display:"grid",sx:{gap:1},gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:[(0,G.jsx)(r.A,{sx:{fontSize:16,fontWeight:"400",color:q.lm.TEXT_GRAY},children:(0,H.t)("addDays")}),(0,G.jsx)(z.A,{type:"number",name:"days_3",value:n.days_3,width:"500px",onChange:S})]}),(0,G.jsxs)(Ge.Ay,{display:"grid",sx:{gap:1},gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:[(0,G.jsx)(r.A,{sx:{fontSize:16,fontWeight:"400",color:q.lm.TEXT_GRAY},children:(0,H.t)("examPassingCriteria")}),(0,G.jsx)(z.A,{type:"number",name:"exam_3",value:n.exam_3,onChange:S,width:"500px"})]}),(0,G.jsxs)(Ge.Ay,{display:"grid",sx:{gap:1},gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:[(0,G.jsx)(r.A,{sx:{fontSize:16,fontWeight:"400",color:q.lm.TEXT_GRAY},children:(0,H.t)("floorWorkCriteria")}),(0,G.jsx)(z.A,{type:"number",name:"floor_3",value:n.floor_3,onChange:S,width:"500px"})]}),(0,G.jsxs)(Ge.Ay,{display:"grid",sx:{gap:1},gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:[(0,G.jsx)(r.A,{sx:{fontSize:16,fontWeight:"400",color:q.lm.TEXT_GRAY},children:(0,H.t)("numberOfEntry")}),(0,G.jsx)(z.A,{type:"number",name:"entry_3",value:n.entry_3,onChange:S,width:"500px"})]})]})]})]}),(0,G.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,px:8,children:[(0,G.jsx)(Z.A,{bordered:!0,color:"light_green",disabled:3===j,onClick:()=>{console.log("data skill-----\x3e>",A.test(n.skill_name)),!0===A.test(n.skill_name)&&""!==n.skill_name&&void 0!==n.skill_name?(j<=3&&y((e=>e+1)),w<=3&&v((e=>e+1))):N.oR.warn("Enter Vaild Skill Name",n.skill_name)},children:(0,G.jsx)(r.A,{color:q.lm.TEXT_GRAY,children:!0===d?(0,H.t)("next"):(0,H.t)("addLevel")})}),!0===d?(0,G.jsx)(Z.A,{color:"light_green",onClick:b,loading:o,children:(0,G.jsx)(r.A,{color:q.lm.BLACK,children:(0,H.t)("submit")})}):(0,G.jsx)(Z.A,{color:"light_green",disabled:3!=j,onClick:b,loading:o,children:(0,G.jsx)(r.A,{color:q.lm.BLACK,children:(0,H.t)("submit")})})]})]})},pt=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,tab:c}=e;return(0,G.jsxs)(V.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,G.jsx)("h3",{className:"opacity-80",children:"ADD REPORT"}),(0,G.jsxs)(Ge.Ay,{display:"grid",sx:{pt:1,gap:1},gridTemplateColumns:{sm:"repeat(4, 1fr)",xs:"repeat(4, 1fr)"},children:[(0,G.jsx)(r.A,{sx:{fontWeight:"bold"},children:"S no"}),(0,G.jsx)(r.A,{sx:{fontWeight:"bold"},children:"Item Name"}),(0,G.jsx)(r.A,{sx:{fontWeight:"bold"},children:"Plan"}),(0,G.jsx)(r.A,{sx:{fontWeight:"bold"},children:"Actual"}),[{itemName:"item 1",plan:1e3},{itemName:"item 2",plan:800},{itemName:"item 3",plan:1e3}].map(((e,t)=>(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(r.A,{children:t+1}),(0,G.jsx)(r.A,{sx:{textTransform:"capitalize"},children:e.itemName}),(0,G.jsx)(r.A,{children:e.plan}),(0,G.jsx)("input",{type:"text"})]})))]}),(0,G.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,G.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,G.jsx)(Z.A,{onClick:i,loading:o,children:"Create"})]})]})},xt=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:r,loading:i,user:o}=e;const[c,d]=(0,g.useState)(new Map),u=[{title:(0,H.t)("supervisor"),placeholder:"Select Supervisor",type:q.wN.SELECT,name:"supervisor",multi:!0,height:"auto",keyValues:o}];return(0,G.jsxs)(V.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,G.jsx)("h3",{className:"opacity-80",children:(0,H.t)("addSupervisor")}),(0,G.jsx)(J.A,{data:n,errors:c,onChange:e=>{const{name:t,value:a}=e.target;d((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:u}),(0,G.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,G.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:(0,H.t)("cancel")}),(0,G.jsx)(Z.A,{onClick:r,loading:i,children:(0,H.t)("create")})]})]})},gt=()=>{const[e,t]=(0,g.useState)("Users"),[a,n]=(0,g.useState)([]),[s,i]=(0,g.useState)([]),[c,d]=(0,g.useState)(),[u,h]=(0,g.useState)(0),[m,p]=(0,g.useState)(!1),[x,f]=(0,g.useState)([]),[j,y]=(0,g.useState)(0),[w,v]=(0,g.useState)(null),[A,S]=(0,g.useState)({days_1:"",days_2:"",days_3:"",supervisor_one:"",supervisor_two:"",supervisor_three:"",exam_1:"",exam_2:"",exam_3:"",floor_1:"",floor_2:"",floor_3:"",entry_1:"",entry_2:"",entry_3:""}),{list:b,create:C,updateSkill:_,update:k,addSupervisor:N,remove:E,opratorList:I,createOperator:T,removeOperator:R,updateOperator:D}=Ne(),[P,O]=(0,g.useState)(!1),[L,F]=(0,g.useState)(""),{list:M}=K(),[U,z]=(0,g.useState)();(0,g.useEffect)((()=>{W()}),[j,e]),(0,g.useEffect)((()=>{Q()}),[]);const Q=async()=>{d("fetch");const[e,t]=await M(j+1),a=e.filter((e=>!e.is_operator&&!0===e.status)).map((e=>({value:e.username,key:e.id})));n((e=>[...e,...a]))},W=async()=>{d("fetch");const[e,t]=await b(j+1);console.log("_list--------------",e),i(e.results),h(e.count),d(!1)},Y=async()=>{const e={skill_name:A.skill_name,test_performance_criteria:[A.exam_1,A.exam_2,A.exam_3],duration_between_two_tests:[A.days_1,A.days_2,A.days_3],floor_performance_criteria:[parseInt(A.floor_1),parseInt(A.floor_2),parseInt(A.floor_3)],no_of_performance_entries:[parseInt(A.entry_1),parseInt(A.entry_2),parseInt(A.entry_3)]};if(d("fetch"),!1===P){let t=await C(e);X(t.id),console.log("add skill respose----",t)}else{await _(e,L);X(L)}};async function X(e){const t={add:{...A}.supervisor_one};await N(e,t),p(!1),S({}),await W(),d(!1)}const V=[{id:1,title:(0,H.t)("skillName"),render:e=>e.skill_name},{id:112,title:(0,H.t)("noOfEntries"),render:e=>(0,G.jsx)(l.A,{sx:{flexDirection:"row",gap:.3},children:e.no_of_performance_entries.map(((t,a)=>(0,G.jsxs)(r.A,{children:[t,a<e.no_of_performance_entries.length-1&&","]})))})},{id:113,title:(0,H.t)("admins"),render:e=>(0,G.jsx)(l.A,{sx:{flexDirection:"row",gap:.3},children:e.supervisor_list.map(((t,a)=>(0,G.jsxs)(r.A,{sx:{fontSize:14},children:[t.username,a<e.supervisor_list.length-1&&","]})))})},{id:6,title:(0,H.t)("action"),render:e=>(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(l.A,{flexDirection:"row",sx:{gap:1},children:(0,G.jsx)(Ae.A,{title:"edit skill",children:(0,G.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{O(!0),p("add"),z(e),S({...A,skill_name:e.skill_name,supervisor_one:e.supervisor_list.map((e=>e.id)),days_1:e.duration_between_two_tests[0],days_2:e.duration_between_two_tests[1],days_3:e.duration_between_two_tests[2],exam_1:e.test_performance_criteria[0],exam_2:e.test_performance_criteria[1],exam_3:e.test_performance_criteria[2],floor_1:e.floor_performance_criteria[0],floor_2:e.floor_performance_criteria[1],floor_3:e.floor_performance_criteria[2],entry_1:e.no_of_performance_entries[0],entry_2:e.no_of_performance_entries[1],entry_3:e.no_of_performance_entries[2]}),F(e.id)},children:(0,G.jsx)(re.A,{color:"primary",fontSize:"small"})})})})})}];return(0,G.jsxs)("div",{className:"mx-3 my-2 fw-500",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsx)(r.A,{className:"fw-20-500-36",children:(0,H.t)("skill")}),(0,G.jsx)(l.A,{justifyContent:"flex-end",direction:"row",sx:{mb:1},children:(0,G.jsx)(Z.A,{color:"gray",onClick:()=>{p("add"),S({})},children:(0,G.jsxs)(r.A,{className:"fw-20-500-24",children:["+ ",(0,H.t)("createSkill")]})})})]}),(0,G.jsx)(B,{columns:V,rows:s,rowsPerPage:10,loading:"fetch"===c,titleCellClasses:"fw-700",page:j,setPage:y,paginator:!0,serialize:!0,total:u,tableBodyColor:q.lm.WHITE}),(0,G.jsx)(mt,{selectSkill:U,open:"add"===m,onClose:()=>{p(!1),O(!1)},data:A,setData:S,onSubmit:Y,loading:"add"===c,edit:P,user:a}),(0,G.jsx)(xt,{open:"addSuper"===m,onClose:()=>{p(!1),O(!1)},data:A,setData:S,onSubmit:X,loading:"add"===c,user:a}),(0,G.jsx)(pt,{open:"Report"===m,onClose:()=>p(!1),onSubmit:Y}),(0,G.jsx)(we,{onClose:()=>p(!1),open:"csvUser"===m,onSubmit:async()=>{x.map((async t=>{if("Users"===e){if(""===t.email)return;await C(t)}else{if(""===t.employee_id)return;await T(t)}})),p(!1),await W(j=1)},file:w,setFile:v,setCsvData:f,tab:e})]})},ft=()=>{const e=(0,k.zy)(),[t,a]=((0,k.Zp)(),e.state,(0,g.useState)(0)),[n,s]=(0,g.useState)([]),[i,o]=(0,g.useState)([{value:"All",key:"All"},{value:"Induction",key:"Induction"},{value:"Training",key:"Training"}]),[c,d]=(0,g.useState)(),[u,h]=(0,g.useState)(0),[m,p]=(0,g.useState)(!1),[x,f]=(0,g.useState)("testDetail"),[j,y]=(0,g.useState)(0),[w,v]=(0,g.useState)({name:"",metadata:{}}),{question_list:A,skill_list:S,create:b,update:C,remove:_}=Ye(),[E,I]=(0,g.useState)(null),[T,R]=(0,g.useState)([]),[D,P]=(0,g.useState)(new Map),[O,L]=(0,g.useState)([]),[F,M]=(0,g.useState)([]),[U,z]=(0,g.useState)(10),[Q,W]=(0,g.useState)(""),[Y,X]=(0,g.useState)("");(0,g.useEffect)((()=>{V()}),[]),(0,g.useEffect)((()=>{K(j||1,U,Q,Y)}),[t,j]);const K=async(e,t,a,n)=>{d("fetch");const[s,l]=await A(e,t,a,n);h(s.count),console.log("_count----------------\x3e>",s),M(s.results),L(s.results),d(!1)},V=async()=>{d("fetch");const[e]=await S(j+1),t=e.results.map((e=>({value:e.skill_name,key:e.id})));s((e=>[...e,...t]));const a=e.results.map((e=>({value:e.skill_name,key:e.skill_name})));o((e=>[...e,...a])),d(!1)},$=[{title:(0,H.t)("testType"),placeholder:(0,H.t)("selectTest"),type:q.wN.SELECT,name:"tranning_type",validator:q.wY.REQUIRED,keyValues:[{value:"Induction Training",key:"Induction Training"},{value:"Skill Test",key:"Skill Test"},{value:"Tranning Test",key:"Tranning Test"}]},"Skill Test"===w.tranning_type&&{title:(0,H.t)("skill"),placeholder:(0,H.t)("selectSkill"),type:q.wN.SELECT,name:"skill",validator:q.wY.REQUIRED,keyValues:n},"Skill Test"===w.tranning_type&&{title:(0,H.t)("tranningLevel"),placeholder:(0,H.t)("selectTestLevel"),type:q.wN.SELECT,name:"level",validator:q.wY.REQUIRED,keyValues:[{value:"Level 1",key:1},{value:"Level 2",key:2},{value:"Level 3",key:3}]}],ee=[{placeholder:(0,H.t)("filterBySkill"),type:q.wN.SELECT,name:"questionFilter",validator:q.wY.REQUIRED,keyValues:i}],te=[{id:1,title:(0,H.t)("question"),render:e=>e.question_text},{id:2,title:(0,H.t)("skill"),render:e=>e.skill},{id:3,title:(0,H.t)("skillLevel"),render:e=>e.skill_level?(0,H.t)("level")+" "+e.skill_level:"-"},{id:33,title:(0,H.t)("inductionQuestion"),render:e=>!0===e.induction_question?(0,H.t)("yes"):(0,H.t)("no")},{id:4,title:(0,H.t)("compulsory"),render:e=>!0===e.compulsory?(0,H.t)("yes"):(0,H.t)("no")}];return(0,G.jsxs)("div",{className:"mx-3 my-2",children:[(0,G.jsx)("div",{className:"flex items-center justify-between",children:(0,G.jsx)(l.A,{sx:{flexDirection:"row",alignItems:"center"},children:(0,G.jsx)(r.A,{className:"fw-20-500-36",children:(0,H.t)("questionBank")})})}),(0,G.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,G.jsx)(ne.A,{value:t,onChange:(e,t)=>{a(t),y(0)},className:"mb-2 fw-500",children:[(0,H.t)("list"),(0,H.t)("upload")].map(((e,t)=>(0,G.jsx)(se.A,{label:e,className:"fw-500",value:t},t)))}),0===t&&(0,G.jsx)(J.A,{data:w,errors:D,onChange:async e=>{const{name:t,value:a}=e.target;console.log("handle filter----",t,a),P((e=>(e.delete(t),e))),v((e=>({...e,[t]:a}))),"Induction"===a?(y(0),W("induction"),X(""),await K(1,U,"induction")):"Training"===a?(y(0),W("training"),X(""),await K(1,U,"training")):"Training"!==a&&"Induction"!==a&&"All"!==a&&""!==a?(y(0),W("skill"),X(a),await K(1,U,"skill",a)):"All"===a&&(y(0),W(""),X(""),console.log("Alllll------------",Q),d("fetch"),await K(1,10))},schema:ee})]}),1===t&&(0,G.jsx)(l.A,{sx:{alignItems:"flex-start",pl:3},children:(0,G.jsxs)(l.A,{children:[(0,G.jsx)(J.A,{data:w,errors:D,onChange:e=>{const{name:t,value:a}=e.target;"tranning_type"===t&&v({...w,skill:"",level:""}),P((e=>(e.delete(t),e))),v((e=>({...e,[t]:a})))},schema:$}),(0,G.jsx)(Z.A,{color:"gray",onClick:()=>f("csvUser"),children:(0,G.jsx)(r.A,{className:"fw-20-500-24",children:(0,H.t)("uploadCsvFile")})})]})}),0===t&&(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(B,{columns:te,rows:O,rowsPerPage:U,loading:"fetch"===c,titleCellClasses:"c-gray fw-700",page:j,setPage:y,paginator:!0,serialize:!0,total:u,tableBodyColor:q.lm.WHITE})}),(0,G.jsx)(we,{tab:"question",onClose:()=>f(!1),open:"csvUser"===x,onSubmit:async function(){d("fetch"),T.slice(1).forEach((async e=>{const t=e[0],a=e[1],n=e[e.length-1],s=new Set;e.slice(2).forEach((e=>{""!==e&&s.add(e)}));const l=Array.from(s);l.pop();const r={compulsory:"TRUE"===t,question_text:a,question_options:l,correct_answer:parseInt(n),induction_question:"Induction Training"===w.tranning_type},i={compulsory:"TRUE"===t,question_text:a,question_options:l,correct_answer:parseInt(n),skill:w.skill,skill_level:w.level,induction_question:!1};await b("Skill Test"===w.tranning_type?i:r)})),f(!1),d(!1),N.oR.success("Question are uploaded in question bank."),await K(1,10),a(0),v({})},file:E,setFile:I,setCsvData:R})]})};var jt=a(3141),yt=a(2019);function wt(e){let{title:t,chartColors:a,chart:n,...s}=e;const{series:r,options:i}=n,o=r.map((e=>e.value)),c={chart:{width:150,type:"pie",animations:{enabled:!1}},dataLabels:{enabled:!1},legend:{show:!1},tooltip:{enabled:!1},colors:a,responsive:[{breakpoint:480,options:{chart:{},legend:{position:"bottom"}}}]};return(0,G.jsx)(l.A,{sx:{},dir:"ltr",children:(0,G.jsx)(yt.A,{type:"pie",series:o,options:c})})}const vt=()=>{const{token:e}=(0,j.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{skillMatrixList:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new W.Ay,n=await a.get("training/all-skill-matrix/?page=".concat(e,"&page_size=10"),{},t,Q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),null===n||void 0===n?void 0:n.data):[[],0]},list:async function(){let e=arguments.length>1?arguments[1]:void 0;const a=new W.Ay,n=await a.get("training/".concat(e,"/skill-matrix/"),{},t,Q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),null===n||void 0===n?void 0:n.data):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;const n=new W.Ay,s=await n.post("".concat(Y.H.ASSET,"/").concat(a,"/").concat(Y.H.PLANTS,"/"),e,t,(e=>(0,Q.So)(e,null,"Plant created successfully!")));return null===s||void 0===s?void 0:s.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new W.Ay,s=await n.put("".concat(Y.H.ASSET,"/").concat(Y.H.PLANT,"/").concat(e.id,"/"),a,t,(e=>(0,Q.So)(e,null,"Plant Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{const a=new W.Ay,n=await a.delete("".concat(Y.H.ASSET,"/").concat(Y.H.PLANT,"/").concat(e,"/"),t,(e=>(0,Q.So)(e,null,"Plant deleted successfully!")));return null===n||void 0===n?void 0:n.data},postPerformance:async e=>{const a=new W.Ay,n=await a.post("performance-record/".concat(e.operator,"/"),{skill:e.skill,skill_level:e.skill_level},t,(e=>(0,Q.So)(e,null)));return null===n||void 0===n?void 0:n.data},getPerformanceSkill:async e=>{const a=new W.Ay,n=await a.get("training/update-skill/".concat(e.operator,"/"),{},t,(e=>(0,Q.So)(e,null)));return null===n||void 0===n?void 0:n.data},performanceRecord:async e=>{const a=new W.Ay,n=await a.post("training/".concat(e.operator,"/performance-record/"),{skill:e.skill,skill_level:e.skill_level},t,(e=>(0,Q.So)(e,null)));return null===n||void 0===n?void 0:n.data},putPerformanceRecord:async(e,a)=>{const n=new W.Ay,s=await n.put("training/performance-record/".concat(e,"/"),a,t,(e=>(0,Q.So)(e,null,"Performance uploaded.")));return null===s||void 0===s?void 0:s.data},performanceList:async e=>{const a=e.replace(/-/g,""),n=new W.Ay,s=await n.get("training/date-wise-performance-record/".concat(a,"/"),{},t,Q.So);return null!==s&&void 0!==s&&s.data?(console.log("res  ",s.data),null===s||void 0===s?void 0:s.data):[[],0]},getPerformanceId:async e=>{const a=new W.Ay,n=await a.get("training/".concat(e.operator,"/performance-record/"),{},t,(e=>(0,Q.So)(e,null)));return null===n||void 0===n?void 0:n.data}}};var At=a(2204),St=a(3272);const bt=e=>{let{row:t,skill:a}=e,n=[q.lm.L4,q.lm.L4,q.lm.L4,q.lm.L1],s=[q.lm.L2,q.lm.L4,q.lm.L4,q.lm.L1],i=[q.lm.L2,q.lm.L3,q.lm.L4,q.lm.L1],o=[q.lm.L2,q.lm.L3,q.lm.L5,q.lm.L1],c=[q.lm.L4,q.lm.L4,q.lm.L4,q.lm.L4];return(0,g.useLayoutEffect)((()=>{console.log("PrintPage--skill----",a)}),[t]),(0,G.jsxs)("div",{className:"mx-4 my-4",children:[(0,G.jsxs)(l.A,{sx:{justifyContent:"center",alignItems:"center"},children:[(0,G.jsx)("img",{src:St,style:{width:"230px",height:"75px",objectFit:"contain"}}),(0,G.jsx)(l.A,{sx:{borderBottom:"2px solid #000",my:2},children:(0,G.jsx)(r.A,{className:"fw-36",sx:{},children:"Operator Skill Matrix"})})]}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,G.jsxs)(l.A,{children:[(0,G.jsxs)(r.A,{children:["Operator Name : ",t.fullname]}),(0,G.jsxs)(r.A,{children:["Aadhaar Number : ",t.aadhar]})]}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",gap:2,alignItems:"center",justifyContent:"center"},children:[(0,G.jsxs)(l.A,{sx:{width:50},children:[(0,G.jsx)(wt,{chartColors:n,chart:{series:[{value:25},{value:25},{value:25},{value:25}]}}),(0,G.jsx)(r.A,{sx:{fontSize:12},textAlign:"center",children:"Induction"})]}),(0,G.jsxs)(l.A,{sx:{width:50},children:[(0,G.jsx)(wt,{chartColors:s,chart:{series:[{value:25},{value:25},{value:25},{value:25}]}}),(0,G.jsx)(r.A,{sx:{fontSize:12},textAlign:"center",children:"Level 1"})]}),(0,G.jsxs)(l.A,{sx:{width:50},children:[(0,G.jsx)(wt,{chartColors:i,chart:{series:[{value:25},{value:25},{value:25},{value:25}]}}),(0,G.jsx)(r.A,{sx:{fontSize:12},textAlign:"center",children:"Level 2"})]}),(0,G.jsxs)(l.A,{sx:{width:50},children:[(0,G.jsx)(wt,{chartColors:o,chart:{series:[{value:25},{value:25},{value:25},{value:25}]}}),(0,G.jsx)(r.A,{sx:{fontSize:12},textAlign:"center",children:"Level 3"})]})]})]}),(0,G.jsx)(l.A,{children:(0,G.jsx)(Ge.Ay,{display:"grid",gap:1,py:2,gridTemplateColumns:{sm:"repeat(5, 1fr)",xs:"repeat(5, 1fr)"},children:a.map((e=>(0,G.jsxs)(l.A,{sx:{border:2,alignContent:"center",alignItems:"center",borderColor:q.lm.TEXT_GRAY},children:[(0,G.jsx)(r.A,{children:e.skill_name}),(0,G.jsx)(l.A,{sx:{width:70},children:(0,G.jsx)(wt,{chartColors:0===t[e.id]?n:1===t[e.id]?s:2===t[e.id]?i:3===t[e.id]?o:c,chart:{series:[{value:25},{value:25},{value:25},{value:25}]}})})]})))})}),(0,G.jsx)(r.A,{sx:{mt:2},children:"\xa9 Dhoot Transmission Pvt. Ltd. All Rights Reserved. | Powered by: Smart Udyog"})]})},Ct=()=>{const e=(0,k.zy)(),[t,a]=((0,k.Zp)(),e.state,(0,g.useState)("testDetail")),[n,s]=(0,g.useState)(),[i,c]=(0,g.useState)(1),[d,u]=(0,g.useState)({name:"",tranning_type:"",metadata:{},skill:""}),[h,m]=(0,g.useState)(0),{skillMatrixList:p}=vt(),{list:x}=K(),{list:f}=Ne(),[j,y]=(0,g.useState)(new Map),[w,v]=(0,g.useState)([]),[A,S]=(0,g.useState)([]),[b,C]=(0,g.useState)([]),[_,N]=(0,g.useState)({}),[R,z]=(0,g.useState)(!1),[B,Q]=(0,g.useState)([{value:"All",key:"123"}]);let W=[q.lm.L4,q.lm.L4,q.lm.L4,q.lm.L1],Y=[q.lm.L2,q.lm.L4,q.lm.L4,q.lm.L1],X=[q.lm.L2,q.lm.L3,q.lm.L4,q.lm.L1],Z=[q.lm.L2,q.lm.L3,q.lm.L5,q.lm.L1],V=[q.lm.L4,q.lm.L4,q.lm.L4,q.lm.L4];const $=[{placeholder:(0,H.t)("filterBySkill"),type:q.wN.SELECT,name:"skill_id",keyValues:B}];(0,g.useLayoutEffect)((()=>{s("fetch"),ee()}),[]),(0,g.useEffect)((()=>{!async function(){s("fetch");const e=await p(i);m(e.count),console.log("skillMatrixList",e.count),S(e.items),C(e.items),s(!1)}()}),[i]);const ee=async()=>{const[e]=await f(),t=e.results.map((e=>({value:e.skill_name,key:e.id})));Q((e=>[...e,...t])),v(e.results)},te=(0,g.useRef)(null),ae=(0,jt.useReactToPrint)({content:()=>te.current,onPrintError:()=>console.log("error------"),removeAfterPrint:!0}),ne=(0,g.useRef)(null),se=(0,jt.useReactToPrint)({content:()=>ne.current,onPrintError:()=>console.log("error------"),removeAfterPrint:!0});function le(e){N(e),z(!0),setTimeout((()=>{ae()}),1e3)}return(0,G.jsxs)("div",{className:"mx-3 my-2",ref:ne,children:[(0,G.jsx)("div",{className:"flex items-center justify-between",children:(0,G.jsxs)(l.A,{sx:{flexDirection:"row",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[(0,G.jsx)(r.A,{className:"fw-20-500-36",children:(0,H.t)("skillMatrix")}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",mt:-1},children:[(0,G.jsxs)(l.A,{sx:{flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[(0,G.jsx)(l.A,{sx:{width:50},children:(0,G.jsx)(wt,{chartColors:W,chart:{series:[{value:25},{value:25},{value:25},{value:25}]}})}),(0,G.jsx)(r.A,{className:"fw-14",textAlign:"center",children:(0,H.t)("induction")})]}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[(0,G.jsx)(l.A,{sx:{width:50},children:(0,G.jsx)(wt,{chartColors:Y,chart:{series:[{value:25},{value:25},{value:25},{value:25}]}})}),(0,G.jsxs)(r.A,{className:"fw-14",textAlign:"center",children:[(0,H.t)("level")," 1"]})]}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[(0,G.jsx)(l.A,{sx:{width:50},children:(0,G.jsx)(wt,{chartColors:X,chart:{series:[{value:25},{value:25},{value:25},{value:25}]}})}),(0,G.jsxs)(r.A,{className:"fw-14",textAlign:"center",children:[(0,H.t)("level")," 2"]})]}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[(0,G.jsx)(l.A,{sx:{width:50},children:(0,G.jsx)(wt,{chartColors:Z,chart:{series:[{value:25},{value:25},{value:25},{value:25}]}})}),(0,G.jsxs)(r.A,{className:"fw-14",textAlign:"center",children:[(0,H.t)("level")," 3"]})]})]})]})}),(0,G.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,G.jsx)(l.A,{sx:{py:1,flexDirection:"row",gap:1},children:(0,G.jsx)(J.A,{data:d,errors:j,onChange:e=>{let t=A;const{name:a,value:n}=e.target;if(y((e=>(e.delete(a),e))),u((e=>({...e,[a]:n}))),123===n)C(t);else{let e=t.filter((e=>e[n]>0));C(e.length>0?e:[]),console.log("name----",a,"value-----",n,"templist",e)}},schema:$})}),(0,G.jsx)(l.A,{sx:{flexDirection:"row",gap:2,pr:4,alignItems:"center"},children:(0,G.jsx)(At.A,{color:q.lm.BLACK,onClick:()=>se()})})]}),(0,G.jsx)(D.A,{children:(0,G.jsxs)(E.A,{children:[(0,G.jsx)(P.A,{sx:{backgroundColor:q.lm.BG_GRAY},children:(0,G.jsxs)(O.A,{children:[(0,G.jsx)(T.A,{className:"c-gray fw-700 text-nowrap h3",sx:{color:"black"},children:(0,H.t)("sno")}),(0,G.jsx)(T.A,{className:"c-gray fw-700 text-nowrap h3",sx:{color:"black"},children:(0,H.t)("operator")}),(0,G.jsx)(T.A,{className:"c-gray fw-700 text-nowrap h3",sx:{color:"black"},children:(0,H.t)("aadhaarNumber")}),w.map((e=>(0,G.jsx)(T.A,{className:"c-gray fw-700 text-nowrap h3",sx:{color:"black",pl:5,textAlign:"left"},children:e.skill_name}))),(0,G.jsx)(T.A,{className:"c-gray fw-700 text-nowrap h3",sx:{color:"black"},children:(0,H.t)("action")})]})}),(0,G.jsx)(I.A,{children:n?(0,G.jsx)(O.A,{children:(0,G.jsx)(T.A,{colSpan:12,className:"opacity-60 w-full",children:(0,G.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,G.jsx)(M.A,{big:!0,blue:!0})})})}):b.length>0?b.map(((e,t)=>(0,G.jsx)(re,{row:e,arr:w,index:t,childFun:le}))):(0,G.jsx)(O.A,{children:(0,G.jsxs)(T.A,{colSpan:12,className:"text-center h-300 flex items-center opacity-60 w-full",children:[(0,G.jsx)("img",{src:U,alt:"leaf",height:100,className:"w-full object-contain"}),(0,G.jsx)("p",{className:"text-center",children:"No Records found!"})]})})}),(0,G.jsx)(L.A,{children:(0,G.jsx)(O.A,{children:(0,G.jsx)(F.A,{rowsPerPageOptions:[],count:h,rowsPerPage:10,page:i-1,onPageChange:(e,t)=>c(t+1)})})})]})}),!0===R&&(0,G.jsx)("div",{style:{visibility:"hidden"},children:(0,G.jsx)("div",{ref:te,children:(0,G.jsx)(bt,{skill:w,row:_})})})]});function re(e){let{row:t,arr:a,index:n,childFun:s}=e;return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(l.A,{sx:{p:.3}}),(0,G.jsxs)(O.A,{sx:{},children:[(0,G.jsx)(T.A,{className:"c-gray fw-500 text-nowrap h3",sx:{color:"black"},children:n+1}),(0,G.jsx)(T.A,{className:"c-gray fw-500 text-nowrap h3",sx:{color:"black"},children:t.fullname}),(0,G.jsx)(T.A,{className:"c-gray fw-500 text-nowrap h3",sx:{color:"black"},children:t.aadhar}),a.map(((e,a)=>(0,G.jsx)(T.A,{className:"",sx:{p:0},children:(0,G.jsx)(l.A,{sx:{width:70,pl:5},children:(0,G.jsx)(wt,{chartColors:0===t[e.id]?W:1===t[e.id]?Y:2===t[e.id]?X:3===t[e.id]?Z:V,chart:{series:[{value:25},{value:25},{value:25},{value:25}]}})})}))),(0,G.jsx)(T.A,{className:"c-gray fw-700 text-nowrap h3",sx:{color:"black"},children:(0,G.jsx)(Ae.A,{title:(0,H.t)("printSkillMatrix"),children:(0,G.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>s(t),children:(0,G.jsx)(At.A,{color:"primary",fontSize:"small"})})})})]},t._id)]})}};a(7330);const _t=()=>{(0,k.zy)(),(0,j.d4)((e=>e));const[e,t]=(0,g.useState)([]),[a,n]=(0,g.useState)(),[s,i]=(0,g.useState)(0),[o,c]=(0,g.useState)({}),{test_list:d,assignExam:u}=Ye(),{list:h,listByAadhar2:m}=K(),[p,x]=(0,g.useState)(null),[f,y]=(0,g.useState)(new Map),[w,v]=(0,g.useState)([]),[A,S]=(0,g.useState)([]),b=[{title:(0,H.t)("operator"),placeholder:(0,H.t)("selectOperator"),type:q.wN.MASTER,name:"operator",validator:q.wY.REQUIRED,fetch:[m],noSearch:!0},{title:(0,H.t)("test"),placeholder:(0,H.t)("selectTest"),type:q.wN.SELECT,name:"test",validator:q.wY.REQUIRED,keyValues:A}];(0,g.useEffect)((()=>{localStorage.setItem("draweWidth",180),C(),_()}),[]);const C=async()=>{const[e,t]=await d();console.log("testport----",e);const a=e.results.map((e=>({value:"".concat(e.test_name,"_").concat(e.skill?e.skill:e.test_type,"_").concat(e.skill_level?e.skill_level:""),key:e.id})));S(a)},_=async()=>{const[e,a]=await h(s+1),n=e.filter((e=>e.is_operator)).map((e=>({value:e.username,key:e.id})));t((e=>[...e,...n]))};return(0,G.jsxs)("div",{className:"mx-3 my-2",children:[(0,G.jsx)("div",{className:"flex items-center justify-between",children:(0,G.jsx)(l.A,{sx:{flexDirection:"row",alignItems:"center"},children:(0,G.jsx)(r.A,{className:"fw-20-500-36",children:(0,H.t)("testPortal")})})}),(0,G.jsx)(l.A,{sx:{alignItems:"flex-start",pl:3},children:(0,G.jsxs)(l.A,{children:[(0,G.jsx)(J.A,{data:o,errors:f,onChange:e=>{const{name:t,value:a}=e.target;y((e=>(e.delete(t),e))),c((e=>({...e,[t]:a})))},schema:b}),(0,G.jsx)(Z.A,{color:"gray",Button:!0,onClick:async()=>{const e=(0,$.bG)(b,o);if(y(e),e.size)return;let t=await u(o);console.log("response----",t),t&&await async function(e){localStorage.setItem("draweWidth",0);const t={key1:e.id},a=new URLSearchParams(t).toString(),n="/test?".concat(a);window.open(n,"_blank","rel=noopener noreferrer")}(t)},children:(0,G.jsx)(r.A,{className:"fw-20-500-24",children:(0,H.t)("start")})})]})})]})},kt=()=>{const{token:e}=(0,j.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){const e=new W.Ay,a=await e.get("".concat(Y.H.TRAINING,"/").concat(Y.H.TRAININGS,"/"),{},t,Q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("".concat(Y.H.TRAINING,"/").concat(Y.H.TRAININGS,"/"),e,t,(e=>(0,Q.So)(e,null,"Created successfully!")));return null===n||void 0===n?void 0:n.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new W.Ay,s=await n.put("".concat(Y.H.ASSET,"/").concat(Y.H.LINE,"/").concat(e.id,"/"),a,t,(e=>(0,Q.So)(e,null,"Line Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{const a=new W.Ay,n=await a.delete("".concat(Y.H.ASSET,"/").concat(Y.H.LINE,"/").concat(e,"/"),t,(e=>(0,Q.So)(e,null,"Line deleted successfully!")));return null===n||void 0===n?void 0:n.data}}},Nt=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,edit:c,users:d}=e;const{list:u,groupUser:h}=De(),[m,p]=(0,g.useState)([]);(0,g.useEffect)((()=>{y()}),[]);const x=[{title:(0,H.t)("trainingName"),placeholder:(0,H.t)("enterTrainingName"),type:q.wN.INPUT,name:"training_name",validator:q.wY.REQUIRED,width:"350px"},{title:(0,H.t)("trainingStartDate"),placeholder:"Select Start Date",type:q.wN.DATE,name:"start_date",validator:q.wY.REQUIRED,width:"350px"},{title:(0,H.t)("trainingType"),placeholder:(0,H.t)("enterTrainingType"),type:q.wN.INPUT,name:"training_type",validator:q.wY.REQUIRED,width:"350px"},{title:(0,H.t)("trainingEndDate"),placeholder:"Select End Date",type:q.wN.DATE,name:"end_date",width:"350px"},{title:(0,H.t)("trainingDescription"),placeholder:(0,H.t)("enterTrainingDescription"),type:q.wN.INPUT,name:"training_description",width:"350px"},{title:(0,H.t)("trainingStartTime"),type:q.wN.TIME,name:"start_time",validator:q.wY.REQUIRED,width:"350px"},{title:(0,H.t)("trainer"),placeholder:(0,H.t)("enterTrainerName"),type:q.wN.INPUT,name:"trainer",width:"350px"},{title:(0,H.t)("trainingEndTime"),type:q.wN.TIME,name:"end_time",width:"350px"},{title:(0,H.t)("trainingAdmin"),type:q.wN.SELECT,name:"training_admin",validator:q.wY.REQUIRED,keyValues:d,multi:!0,height:"auto",width:"350px"},{title:(0,H.t)("testRequiredAtEndOfTraining"),type:q.wN.RADIO,name:"test_required",validator:q.wY.REQUIRED,keyValues:[{value:"yes",label:(0,H.t)("yes")},{value:"no",label:(0,H.t)("no")}],width:"350px"},{title:(0,H.t)("group"),placeholder:"Select group",type:q.wN.SELECT,name:"group",keyValues:m,multi:!0,height:"auto",width:"350px"},{title:(0,H.t)("feedbackAtEndOfTraining"),type:q.wN.RADIO,name:"feedback_required",validator:q.wY.REQUIRED,keyValues:[{value:"yes",label:(0,H.t)("yes")},{value:"no",label:(0,H.t)("no")}],width:"350px"},{title:(0,H.t)("trainees"),placeholder:"Select Trainees",type:q.wN.SELECT,name:"trainees",keyValues:d,multi:!0,height:"auto",width:"350px"},"yes"===n.feedback_required&&{title:(0,H.t)("feedbackLink"),placeholder:(0,H.t)("enterFeedbackLink"),type:q.wN.INPUT,name:"feedback_link",validator:q.wY.REQUIRED,width:"350px"}],[f,j]=(0,g.useState)(new Map),y=async()=>{const[e]=await u();console.log("fetchGroups------\x3e>>>",e);const t=e.map((e=>({value:e.name,key:e.id})));p((e=>[...e,...t]))};return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Ge.Ay,{display:"grid",sx:{alignContent:"flex-start"},gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:(0,G.jsx)(J.A,{data:n,errors:f,onChange:e=>{console.log(e.target);const{name:t,value:a}=e.target;j((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:x})}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between",mb:2},children:[(0,G.jsx)(Z.A,{color:"gray",onClick:a,loading:o,children:(0,G.jsx)(r.A,{sx:{px:2,color:q.lm.BLACK},children:(0,H.t)("back")})}),(0,G.jsx)(Z.A,{color:"light_green",onClick:async()=>{const e=(0,$.bG)(x,n);j(e),e.size||await i()},loading:o,children:(0,G.jsx)(r.A,{sx:{px:2,color:q.lm.BLACK},children:(0,H.t)("create")})})]})]})},Et=()=>{const e=(0,k.zy)(),t=(0,k.Zp)(),a=e.state,[n,s]=(0,g.useState)([]),[i,o]=(0,g.useState)([]),[c,d]=(0,g.useState)(),[u,h]=(0,g.useState)(0),[m,p]=(0,g.useState)(!1),[x,f]=(0,g.useState)(!1),[j,y]=(0,g.useState)(0),[w,v]=(0,g.useState)({feedback_required:"no",test_required:"no"}),{list:A,create:S,update:b,remove:C}=kt(),{groupUser:_}=De(),{list:N}=K();(0,g.useEffect)((()=>{I(),E()}),[j]);const E=async()=>{const[e]=await A();o(e)},I=async()=>{const[e,t]=await N(j+1),a=e.map((e=>({value:e.username,key:e.id})));s((e=>[...e,...a]))},T=[{id:1,title:(0,H.t)("trainingName"),render:e=>(0,G.jsx)(r.A,{children:e.training_name})},{id:2,title:(0,H.t)("trainingType"),render:e=>e.training_type},{id:22,title:(0,H.t)("trainer"),render:e=>e.trainer||"-"},{id:23,title:(0,H.t)("startDate"),render:e=>be()(e.start_date).format("ll")},{id:24,title:(0,H.t)("endDate"),render:e=>e.end_date?be()(e.end_date).format("ll"):"-"}];return(0,G.jsxs)("div",{className:"mx-4",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsx)(l.A,{sx:{flexDirection:"row",alignItems:"center",mb:1},children:(0,G.jsx)(r.A,{className:"fw-20-500-36",children:(0,H.t)("planTraining")})}),"add"!==x&&(0,G.jsx)(Z.A,{color:"gray",onClick:()=>f("add"),children:(0,G.jsx)(r.A,{className:"fw-20-500-24",children:(0,H.t)("addTraining")})})]}),"add"!==x?(0,G.jsx)(B,{columns:T,rows:i,rowsPerPage:10,loading:"fetch"===c,titleCellClasses:"c-gray fw-700",page:j,setPage:y,paginator:!0,serialize:!0,total:u,trainings:!0,tableBodyColor:q.lm.WHITE}):(0,G.jsx)(Nt,{users:n,open:"add"===x,onClose:()=>{f(!1),p(!1)},data:w,edit:m,setData:v,onSubmit:async()=>{var e,n=[];if((null===(e=w.group)||void 0===e?void 0:e.length)>0){n=(await Promise.all(w.group.map((e=>_(e))))).map((e=>e.users.map((e=>e.id)))).flat()}const s=Array.isArray(w.trainees)?w.trainees:[],l={training_name:w.training_name,training_type:w.training_type,training_description:w.training_description,trainer:w.trainer,training_admin:w.training_admin,trainees:[...s,...n],start_date:w.start_date,end_date:w.end_date,start_time:w.start_time,end_time:w.end_time,feedback_link:w.feedback_link,test_required:"yes"===w.test_required,feedback_required:"yes"===w.feedback_required};d("fetch");let r=await S(l,a);console.log("planning createRes----",r),v({}),f(!1),"yes"===w.test_required?t("/test-upload",{state:{id:r.id,training_admin:l.training_admin,trainees:l.trainees}}):await E(),d(!1),p(!1)}})]})},It=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,onSubmit2:o,loading:c,setSelectedQuestions:d,skills:u,users:h,testList:m}=e;const[p,x]=(0,g.useState)(new Map),[f,j]=(0,g.useState)(0),[y,w]=(0,g.useState)(!1),{getPerformanceSkill:v,getPerformanceId:A}=vt(),S=async()=>{if(0!==f){if(1===f){const e=(0,$.bG)(b,n);if(x(e),e.size)return;return await o(),w(!1),void j(0)}}else{const e=(0,$.bG)(b,n);if(x(e),e.size)return;j((e=>e+1))}},b=[0===f&&{title:(0,H.t)("operator"),placeholder:(0,H.t)("selectOperator"),type:q.wN.SELECT,name:"operator",validator:q.wY.REQUIRED,keyValues:h},0===f&&{title:(0,H.t)("skill"),placeholder:(0,H.t)("selectSkill"),type:q.wN.INPUT,name:"skill",disabled:!0},0===f&&{title:(0,H.t)("skillLevel"),placeholder:(0,H.t)("selectSkillLevel"),type:q.wN.INPUT,name:"skill_level",disabled:!0},1===f&&{title:(0,H.t)("date"),type:q.wN.DATE,name:"plan_date",validator:q.wY.REQUIRED},1===f&&{title:(0,H.t)("plan"),placeholder:"",type:q.wN.INPUT,name:"plan",inputType:"number",validator:q.wY.REQUIRED},1===f&&{title:(0,H.t)("actual"),placeholder:"",type:q.wN.INPUT,inputType:"number",name:"actual",validator:q.wY.REQUIRED},1===f&&{title:(0,H.t)("rejected"),placeholder:(0,H.t)("rejectedCount"),type:q.wN.INPUT,inputType:"number",name:"rejected",validator:q.wY.REQUIRED}];return(0,G.jsxs)(V.A,{open:t,onClose:a,width:"min(700px,90vw)",hideCloseIcon:ee.A,wrapperClasses:"px-6",children:[(0,G.jsx)("h3",{className:"opacity-80",children:(0,H.t)("addPerformance")}),(0,G.jsx)(J.A,{data:n,errors:p,onChange:e=>{const{name:t,value:l}=e.target;x((e=>(e.delete(t),e))),s((e=>({...e,[t]:l}))),"operator"===t&&(console.log("operator id ",l),(async e=>{let t=e,l={operator:e};if(void 0!==e){await v(l);let e=(await A(l)).at(-1);console.log("resPer-----lastItem---------",e),null!==e&&void 0!==e&&e.id?(w(e.completed),!0===e.completed&&(N.oR.warn("Performances are already filled. Assign Supervisor for next level."),await a(),s({...n,skill_level:"",skill:"",operator:"",skill_id:""})),s({...n,skill_level:e.skill_level,skill:e.skill.skill_name,operator:t,skill_id:e.id})):(s({...n,skill_level:"",skill:"",operator:"",skill_id:""}),N.oR.warn("record not found"))}else s({...n,skill_level:"",skill:"",operator:"",skill_id:""})})(l))},schema:b}),(0,G.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,G.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:(0,H.t)("cancel")}),0===f&&(0,G.jsx)(Z.A,{color:"light_green",onClick:S,loading:c,disabled:y,children:(0,G.jsx)(r.A,{className:"fw-20-500-24",children:(0,H.t)("next")})}),1===f&&(0,G.jsx)(Z.A,{color:"light_green",onClick:S,loading:c,children:(0,G.jsx)(r.A,{className:"fw-20-500-24",children:(0,H.t)("submit")})})]})]})};var Tt=a(1750);const Rt=()=>{const e=(0,k.zy)(),[t,a]=((0,k.Zp)(),e.state,(0,g.useState)([])),[n,s]=(0,g.useState)(),[i,o]=(0,g.useState)(0),[c,d]=(0,g.useState)(!1),[u,h]=(0,g.useState)("testDetail"),[m,p]=(0,g.useState)(0),[x,f]=(0,g.useState)({operator:"",plan_date:(new Date).toISOString().split("T")[0]}),{putPerformanceRecord:j,performanceList:y,createTest:w,update:v,remove:A,performanceRecord:S,getPerformanceRecord:b,postPerformance:C}=vt(),{list:_}=K(),{list:N}=Ne(),[E,I]=(0,g.useState)(new Map),[T,R]=(0,g.useState)([]),[D,P]=(0,g.useState)([]),[O,L]=(0,g.useState)([]),[F,M]=(0,g.useState)([]),[U,z]=(0,g.useState)(""),[Q,W]=(0,g.useState)((new Date).toISOString().split("T")[0]),Y=[{id:1,title:(0,H.t)("operatorAadhar"),render:e=>e.aadhar_number},{id:13,title:(0,H.t)("skill"),render:e=>e.skill},{id:12,title:(0,H.t)("skillLevel"),render:e=>e.skill_level},{id:2,title:(0,H.t)("plan"),render:e=>e.plan},{id:3,title:(0,H.t)("actual"),render:e=>e.actual}];(0,g.useEffect)((()=>{J(),V()}),[]),(0,g.useEffect)((()=>{X()}),[Q]);const X=async()=>{const e=await y(Q);console.log("res performance list",e.list),L(e.list)},V=async()=>{const[e,t]=await _(),n=e.filter((e=>e.is_operator)).map((e=>({value:e.username,key:e.id})));a((e=>[...e,...n]))},J=async()=>{const[e]=await N(m+1),t=e.results.map((e=>({value:e.skill_name,key:e.id})));R((e=>[...e,...t]))};return(0,G.jsxs)("div",{className:"mx-3 my-2",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between",children:[(0,G.jsx)(l.A,{sx:{flexDirection:"row",alignItems:"center"},children:(0,G.jsx)(r.A,{className:"fw-20-500-36",children:(0,H.t)("performance")})}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",gap:1,mb:1},children:[(0,G.jsx)(l.A,{children:(0,G.jsx)(Tt.A,{InputWidth:"150px",value:Q,onChange:e=>W(e.target.value)})}),(0,G.jsx)(Z.A,{width:"fit-content",color:"gray",onClick:()=>h("addReport"),children:(0,G.jsx)(r.A,{className:"fw-20-500-24",children:(0,H.t)("addPerformance")})})]})]}),(0,G.jsx)(B,{columns:Y,rows:O,rowsPerPage:10,loading:"fetch"===n,titleCellClasses:"c-gray fw-700",serialize:!0,paginator:!0,total:i,tableBodyColor:q.lm.WHITE}),(0,G.jsx)(It,{open:"addReport"===u,onClose:()=>{h(!1)},users:t,skills:T,testList:D,data:x,setData:f,onSubmit2:async()=>{var e=x.plan_date.replace(/-/g,"");const t={new_entry:{[e]:{plan:x.plan,actual:x.actual,rejected:x.rejected}}};await j(x.skill_id,t),h(!1),f({...x,rejected:"",actual:"",plan:"",plan_date:"",skill_level:"",skill:"",operator:"",plan_date:(new Date).toISOString().split("T")[0]}),X()}})]})};var Dt=a(2819),Pt=a(7260);const Ot=e=>{let{open:t,onClose:a}=e;const[n,s]=(0,g.useState)(new Map);return(0,G.jsx)(V.A,{open:t,onClose:a,width:"min(700px,90vw)",hideCloseIcon:ee.A,wrapperClasses:"px-6",children:(0,G.jsxs)(l.A,{sx:{justifyContent:"center",alignItems:"center",mt:4},children:[(0,G.jsx)(Je.A,{sx:{color:q.lm.LIGHT_GREEN,width:100,height:100}}),(0,G.jsxs)(r.A,{textAlign:"center",className:"fw-24",sx:{py:4},children:["You have successfully changed password.",(0,G.jsx)("br",{}),"You will be automatically logged off ",(0,G.jsx)("br",{}),"Please Login again with new password"]})]})})};var Lt=a(4573);const Ft=()=>{const e=(0,j.d4)((e=>{var t;return null===(t=e[X.X.AUTH].user)||void 0===t?void 0:t.data})),t=(0,k.Zp)(),[a,n]=(0,g.useState)([]),[s,i]=(0,g.useState)(),[o,c]=(0,g.useState)(0),[d,u]=(0,g.useState)(0),[h,m]=(0,g.useState)(!1),[p,x]=(0,g.useState)(!0),[f,y]=(0,g.useState)(""),[w,v]=(0,g.useState)(""),[A,S]=(0,g.useState)(""),[b,C]=(0,g.useState)(""),[_,N]=(0,g.useState)({name:"",metadata:{}}),[E,I]=(0,g.useState)(""),{resetPassword:T}=(0,Lt.A)(),{logout:R}=(0,Pe.A)(),D=/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*\W)(?!.* ).{8,16}$/;return(0,G.jsxs)("div",{className:"mx-3 my-2",children:[(0,G.jsx)("div",{className:"flex items-center justify-between",children:(0,G.jsx)(r.A,{className:"fw-20-500-36",children:"Profile"})}),(0,G.jsxs)(Ge.Ay,{display:"grid",sx:{gap:1,mt:1,width:"70%"},gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:[(0,G.jsx)(r.A,{sx:{fontSize:16,fontWeight:"400",color:q.lm.TEXT_GRAY},children:"Name"}),(0,G.jsx)(z.A,{disabled:!0,gray:!0,value:null===e||void 0===e?void 0:e.name})]}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",gap:1,alignItems:"center",mt:1},children:[(0,G.jsx)(r.A,{className:"fw-24",children:" Change Password"}),(0,G.jsx)(r.A,{color:q.lm.TEXT_GRAY,className:"fw-14",children:"( Password to be min 8 character long with one special character %,&, @ ,$ )"})]}),(0,G.jsxs)(Ge.Ay,{display:"grid",sx:{gap:1,mt:1,width:"70%"},gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:[(0,G.jsx)(r.A,{sx:{fontSize:16,fontWeight:"400",color:q.lm.TEXT_GRAY},children:"Current Password"}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row"},children:[(0,G.jsx)(z.A,{type:p?"password":"text",value:E,onChange:e=>I(e.target.value)}),!0===p?(0,G.jsx)(Dt.A,{fontSize:"small",sx:{ml:-4,zIndex:0,alignSelf:"center",cursor:"pointer"},onClick:()=>x(!1)}):(0,G.jsx)(Pt.A,{fontSize:"small",sx:{ml:-4,zIndex:0,alignSelf:"center",cursor:"pointer"},onClick:()=>x(!0)})]}),(0,G.jsx)(r.A,{sx:{fontSize:16,fontWeight:"400",color:q.lm.TEXT_GRAY},children:"New Password"}),(0,G.jsxs)(l.A,{children:[(0,G.jsxs)(l.A,{sx:{flexDirection:"row"},children:[(0,G.jsx)(z.A,{type:p?"password":"text",value:f,onChange:e=>{const t=e.target.value;y(t),D.test(t)?v(""):v("Password must contain at least 8 characters, including one letter, one number, and one special character.")}}),!0===p?(0,G.jsx)(Dt.A,{fontSize:"small",sx:{ml:-4,zIndex:0,alignSelf:"center",cursor:"pointer"},onClick:()=>x(!1)}):(0,G.jsx)(Pt.A,{fontSize:"small",sx:{ml:-4,zIndex:0,alignSelf:"center",cursor:"pointer"},onClick:()=>x(!0)})]}),w&&(0,G.jsx)("div",{style:{color:"red"},children:w})]}),(0,G.jsx)(r.A,{sx:{fontSize:16,fontWeight:"400",color:q.lm.TEXT_GRAY},children:"Re-enter New Password"}),(0,G.jsxs)(l.A,{children:[(0,G.jsxs)(l.A,{sx:{flexDirection:"row"},children:[(0,G.jsx)(z.A,{type:p?"password":"text",value:A,onChange:e=>{const t=e.target.value;S(t),C(f!==t?"Passwords do not match.":"")}}),!0===p?(0,G.jsx)(Dt.A,{fontSize:"small",sx:{ml:-4,zIndex:0,alignSelf:"center",cursor:"pointer"},onClick:()=>x(!1)}):(0,G.jsx)(Pt.A,{fontSize:"small",sx:{ml:-4,zIndex:0,alignSelf:"center",cursor:"pointer"},onClick:()=>x(!0)})]}),b&&(0,G.jsx)("div",{style:{color:"red"},children:b})]})]}),(0,G.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:6,mb:1,px:10,children:[(0,G.jsx)(Z.A,{bordered:!0,gray:!0,children:"Cancel"}),(0,G.jsx)(Z.A,{color:"gray",onClick:()=>{(async()=>{let e={old_password:E,new_password:f,confirm_password:A},a=await T(e);null!==a&&void 0!==a&&a.success&&(m("confirm"),setTimeout((async()=>{await R(),t("/")}),2e3))})()},children:(0,G.jsx)(r.A,{color:q.lm.TEXT_GRAY,children:"Confirm"})})]}),(0,G.jsx)(Ot,{open:"confirm"===h,onClose:()=>{m(!1)}})]})},Mt=()=>{const{t:e,i18n:t}=(0,y.Bd)(),{updateProfile:a,userProfile:n,update:s}=((0,k.Zp)(),K()),[i,o]=(0,g.useState)(new Map),[c,d]=(0,g.useState)(!1),[u,h]=(0,g.useState)({language:""}),m=[{placeholder:e("select_language"),type:q.wN.SELECT,name:"language",validator:q.wY.REQUIRED,keyValues:[{value:"English",key:"EN"},{value:"\u0939\u093f\u0928\u094d\u0926\u0940",key:"HI"},{value:"\u092e\u0930\u093e\u0920\u0940",key:"MR"}]}];return(0,G.jsxs)("div",{className:"mx-3 my-2",children:[(0,G.jsx)("div",{className:"flex items-center justify-between",children:(0,G.jsx)(r.A,{className:"fw-20-500-36",children:e("changeLanguage")})}),(0,G.jsxs)(l.A,{sx:{justifyContent:"center",alignItems:"center",width:"90%"},children:[(0,G.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between",width:"90%"},children:[(0,G.jsx)(l.A,{sx:{width:"50%"},children:(0,G.jsx)(r.A,{sx:{fontWeight:500,fontSize:18},children:e("existing")})}),(0,G.jsx)(l.A,{sx:{width:"50%",justifyContent:"center",alignItems:"center"},children:(0,G.jsx)(r.A,{sx:{fontWeight:500,fontSize:18},children:e("select_language")})})]}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between",mt:1,width:"90%"},children:[(0,G.jsx)(r.A,{sx:{fontWeight:500,fontSize:16},children:e("sel_lang")}),(0,G.jsx)(l.A,{sx:{},children:(0,G.jsx)(J.A,{data:u,errors:i,onChange:e=>{const{name:t,value:a}=e.target;o((e=>(e.delete(t),e))),h((e=>({...e,[t]:a})))},schema:m})})]}),(0,G.jsx)(l.A,{direction:"row",width:"90%",justifyContent:"flex-end",mt:6,mb:1,children:(0,G.jsx)(Z.A,{color:"gray",onClick:()=>(async()=>{let e=localStorage.getItem("userId");localStorage.getItem("draweWidth",180),console.log("language-----\x3e>>",u.language),t.changeLanguage(u.language);const a={preferred_language:u.language};await s(e,a),window.location.reload()})(),children:(0,G.jsx)(r.A,{color:q.lm.TEXT_GRAY,children:e("confirm")})})})]})]})},Ut=()=>{const{token:e}=(0,j.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new W.Ay,n=await a.get("training/all-users-test-history/?page=".concat(e,"&page_size=10"),{},t,Q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("".concat(Y.H.TRAINING,"/").concat(Y.H.TRAININGS,"/"),e,t,(e=>(0,Q.So)(e,null,"Created successfully!")));return null===n||void 0===n?void 0:n.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new W.Ay,s=await n.put("".concat(Y.H.ASSET,"/").concat(Y.H.LINE,"/").concat(e.id,"/"),a,t,(e=>(0,Q.So)(e,null,"Line Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{const a=new W.Ay,n=await a.delete("".concat(Y.H.ASSET,"/").concat(Y.H.LINE,"/").concat(e,"/"),t,(e=>(0,Q.So)(e,null,"Line deleted successfully!")));return null===n||void 0===n?void 0:n.data},getResult:async e=>{const a=new W.Ay,n=await a.get("training/users-test-history/".concat(e,"/"),{},t,(e=>(0,Q.So)(e,null)));return null===n||void 0===n?void 0:n.data}}},zt=()=>{const e=(0,k.Zp)(),[t,a]=(0,g.useState)("Users"),[n,s]=(0,g.useState)([]),[l,i]=(0,g.useState)([]),[o,c]=(0,g.useState)([]),[d,u]=(0,g.useState)([]),[h,m]=(0,g.useState)(),[p,x]=(0,g.useState)(0),[f,j]=(0,g.useState)(!1),[y,w]=(0,g.useState)([]),[v,A]=(0,g.useState)(0),[S,b]=(0,g.useState)(null),[C,_]=(0,g.useState)({}),[N,E]=(0,g.useState)(""),{list:I,listByUserName:T,listByAadhar:R}=Ut();(0,g.useEffect)((()=>{s([]),D()}),[v,t]);const D=async()=>{m("fetch");try{const e=await I(v+1);console.log("list result user",e[0].data),s(e[0].data),x(e[0].count)}catch(Fe){console.error("Error fetching users:",Fe)}finally{m(!1)}},P=[{id:1,title:(0,H.t)("aadhar"),render:t=>(0,G.jsx)(r.A,{sx:{color:"blue",cursor:"pointer"},onClick:()=>e("/result-page",{state:t.user_id}),children:t.aadhar})},{id:2,title:(0,H.t)("user_name"),render:e=>e.username},{id:3,title:(0,H.t)("date_of_joining"),render:e=>be()(e.date_of_joining).format("ll")},{id:5,title:(0,H.t)("testCount"),render:e=>(0,G.jsx)(ce,{title:e.tests})}];return(0,G.jsxs)("div",{className:"mx-3 my-2 fw-500",children:[(0,G.jsx)(r.A,{className:"fw-20-500-36",children:(0,H.t)("usersTestCompletionList")}),(0,G.jsx)("div",{className:"flex items-center justify-between"}),(0,G.jsx)(B,{columns:P,rows:n,rowsPerPage:10,loading:"fetch"===h,titleCellClasses:"c-gray fw-700",page:v,setPage:A,paginator:!0,serialize:!0,total:p,tableBodyColor:q.lm.WHITE})]})};var qt=a(9120);const Ht=()=>{const e=(0,k.Zp)(),t=(0,k.zy)(),a=null===t||void 0===t?void 0:t.state,{getResult:n}=Ut(),[s,i]=(0,g.useState)("Users"),[c,d]=(0,g.useState)([]),[u,h]=(0,g.useState)(),[m,p]=(0,g.useState)(0),[x,f]=(0,g.useState)(0),[j,y]=(0,g.useState)({}),[w,v]=(0,g.useState)(""),{list:A}=K(),{list:S}=Ne();(0,g.useEffect)((()=>{!async function(){const e=await n(a);console.log("_list------getResult-------\x3e>>",e),d(e)}()}),[x]);const b=[{id:1,title:(0,H.t)("testName"),render:e=>{var t;return(null===e||void 0===e||null===(t=e.test)||void 0===t?void 0:t.test_name)||"-"}},{id:3,title:(0,H.t)("testType"),render:e=>{var t;return(null===e||void 0===e||null===(t=e.test)||void 0===t?void 0:t.test_type)||"-"}},{id:4,title:(0,H.t)("skill"),render:e=>{var t;return(null===e||void 0===e||null===(t=e.test)||void 0===t?void 0:t.skill)||"-"}},{id:5,title:(0,H.t)("skillLevel"),render:e=>{var t;return(null===e||void 0===e||null===(t=e.test)||void 0===t?void 0:t.skill_level)||"-"}},{id:6,title:(0,H.t)("testResult"),render:e=>!0===(null===e||void 0===e?void 0:e.result)?(0,G.jsx)(r.A,{color:q.lm.LIGHT_GREEN,children:"Pass"}):(0,G.jsx)(r.A,{color:q.lm.RADIAL_RED,children:"Fail"})}];return(0,G.jsxs)("div",{className:"mx-3 my-2 fw-500",children:[(0,G.jsxs)(l.A,{sx:{flexDirection:"row",gap:1,alignContent:"center",alignItems:"center"},children:[(0,G.jsx)(o.A,{onClick:()=>e(-1),children:(0,G.jsx)(qt.A,{})}),(0,G.jsx)(r.A,{className:"fw-20-500-36",onClick:()=>console.log("users",c),children:(0,H.t)("testResult")})]}),(0,G.jsx)("div",{className:"flex items-center justify-between"}),(0,G.jsx)(B,{columns:b,rows:c,rowsPerPage:10,loading:"fetch"===u,titleCellClasses:"c-gray fw-700",page:x,setPage:f,paginator:!0,serialize:!0,total:m,tableBodyColor:q.lm.WHITE})]})};var Gt=a(611);function Bt(e){let{value:t,type:a}=e;return(0,G.jsxs)(m.A,{sx:{display:"flex",alignItems:"center"},children:[(0,G.jsx)(m.A,{sx:{width:"100%"},children:(0,G.jsx)(Gt.A,{variant:"determinate",value:t,sx:{backgroundColor:"#8C8C8C","& .MuiLinearProgress-bar":{backgroundColor:"Availability"===a?"#FF0000":"Performance"===a?"#FAA036":"Quality"===a?"#27AE60":"#000000"},height:"12px"}})}),(0,G.jsx)(m.A,{sx:{minWidth:40,textAlign:"center"},children:(0,G.jsx)(r.A,{variant:"body2",sx:{color:"#3E3E3E"},children:"".concat(Math.round(t),"%")})})]})}function Qt(e){let{progress:t,type:a}=e;return(0,G.jsx)(m.A,{sx:{width:"100%"},children:(0,G.jsx)(Bt,{value:t,type:a})})}const Wt=a.p+"static/media/refresh.a5d21e69b6e12622d54d1b74dc8da031.svg";const Yt=a.p+"static/media/polygon.33a8f3d09b2c8d86cfa58d933f2cea0b.svg",Xt=e=>{let{data:t,expanded:a,onToggle:n,clickMore:s}=e;return(0,G.jsxs)("div",{className:"card-container ".concat(a?"expanded":""," ").concat("Running"===t.status?"running":""," ").concat("Maintenance"===t.status?"maintenance":""," ").concat("Disconnected"===t.status?"disconnected":""),style:{zIndex:a?10:1,position:a?"absolute":"relative",width:"96%"},children:[(0,G.jsx)("div",{className:"refresh-icon",children:(0,G.jsx)("img",{src:Wt})}),(0,G.jsxs)("div",{className:"heading",children:[(0,G.jsx)("h1",{children:t.name}),(0,G.jsxs)("p",{children:["Status |",(0,G.jsx)("span",{className:"status-text",children:t.status})]})]}),(0,G.jsxs)("div",{className:"pie",pointer:!0,children:[(0,G.jsx)(yt.A,{type:"donut",width:"100%",height:"100%",series:[t.completed,100-t.completed],options:{chart:{id:"donut-chart"},colors:["".concat(t.completed>50?"#27AE60":"#FF0000"),"#ffffff"],labels:["Used","Remaining"],plotOptions:{pie:{startAngle:-90,endAngle:90,donut:{size:"65%"},expandOnClick:!1}},stroke:{colors:["#D9D9D9"]},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{enabled:!1}}}),(0,G.jsx)("div",{className:"chart-percentage",children:"".concat(t.completed>0?"".concat(t.completed,"%"):"")})]}),(0,G.jsx)(l.A,{sx:{px:2,backgroundColor:q.lm.RADIAL_LG_GRAY,mt:-7,mb:1},children:(0,G.jsxs)("div",{className:"bar-chart-container",children:[(0,G.jsx)("div",{className:"bar-label",children:"Availability"}),(0,G.jsx)(Qt,{type:"Availability",progress:t.machineStats.availability>0?t.machineStats.availability:0}),(0,G.jsx)("div",{children:"Performance"}),(0,G.jsx)(Qt,{type:"Performance",progress:t.machineStats.performance>0?t.machineStats.performance:0}),(0,G.jsx)("div",{children:"Quality"}),(0,G.jsx)(Qt,{type:"Quality",progress:t.machineStats.quality>0?t.machineStats.quality:0})]})}),a&&(0,G.jsxs)("div",{className:"additional-info",children:[(0,G.jsxs)("div",{className:"product-metrics-section",children:[(0,G.jsx)("h3",{children:"Product Metrics"}),(0,G.jsxs)("div",{className:"metrics",children:[(0,G.jsxs)("div",{className:"metric-row",children:[(0,G.jsx)("span",{className:"metric-label",children:"Total"}),(0,G.jsx)("span",{className:"metric-value",children:t.expanded.productMetrics.total})]}),(0,G.jsxs)("div",{className:"metric-row",children:[(0,G.jsx)("span",{className:"metric-label",children:"Good"}),(0,G.jsx)("span",{className:"metric-value",children:t.expanded.productMetrics.good})]}),(0,G.jsxs)("div",{className:"metric-row",children:[(0,G.jsx)("span",{className:"metric-label",children:"NG"}),(0,G.jsx)("span",{className:"metric-value",children:t.expanded.productMetrics.ng})]}),(0,G.jsxs)("div",{className:"metric-row",children:[(0,G.jsx)("span",{className:"metric-label",children:"Pass"}),(0,G.jsx)("span",{className:"metric-value",children:t.expanded.productMetrics.pass})]}),(0,G.jsxs)("div",{className:"metric-row",children:[(0,G.jsx)("span",{className:"metric-label",children:"Fail"}),(0,G.jsx)("span",{className:"metric-value",children:t.expanded.productMetrics.fail})]})]})]}),(0,G.jsxs)("div",{className:"cycle-info-section",children:[(0,G.jsx)("h3",{children:"Cycle per Second"}),(0,G.jsxs)("div",{className:"metrics",children:[(0,G.jsxs)("div",{className:"metric-row",children:[(0,G.jsx)("span",{className:"metric-label",children:"Best"}),(0,G.jsx)("span",{className:"metric-value",children:t.expanded.cyclePerSecond.best})]}),(0,G.jsxs)("div",{className:"metric-row",children:[(0,G.jsx)("span",{className:"metric-label",children:"Worst"}),(0,G.jsx)("span",{className:"metric-value",children:t.expanded.cyclePerSecond.average})]}),(0,G.jsxs)("div",{className:"metric-row",children:[(0,G.jsx)("span",{className:"metric-label",children:"Average"}),(0,G.jsx)("span",{className:"metric-value",children:t.expanded.cyclePerSecond.worst})]})]}),s&&(0,G.jsx)("div",{className:"more-button",children:(0,G.jsx)("button",{onClick:()=>s(),children:"More"})})]})]}),(0,G.jsx)("div",{className:"drop-icon ".concat(a?"rotated":""),onClick:n,children:(0,G.jsx)("img",{src:Yt})})]})},Kt=()=>{const{t:e,i18n:t}=(0,y.Bd)(),a=(0,k.Zp)(),[n,s]=(0,g.useState)(null),[r,i]=(0,g.useState)("Kanban"),[o,c]=(0,g.useState)(0),[d,u]=(0,g.useState)(),[h,m]=(0,g.useState)([{email:"email@gmail.com",username:"user",fullname:"fullName",employee_id:"employee_id"}]),[p,x]=(0,g.useState)(new Map),[f,j]=(0,g.useState)({}),w=[{id:1,title:e("machineId"),render:e=>e.email},{id:2,title:e("status"),render:e=>e.username},{id:3,title:e("oe"),render:e=>e.fullname},{id:4,title:e("availability"),render:e=>e.employee_id},{id:5,title:e("performance"),render:e=>e.employee_id},{id:6,title:e("qty"),render:e=>e.employee_id},{id:7,title:e("action"),render:e=>e.employee_id}];const v=[{placeholder:"Company",type:q.wN.SELECT,name:"company",validator:q.wY.REQUIRED,width:"150px"},{placeholder:"Plant",type:q.wN.SELECT,name:"test",validator:q.wY.REQUIRED,width:"150px"},{placeholder:"Divison",type:q.wN.SELECT,name:"test",validator:q.wY.REQUIRED,width:"150px"},{placeholder:"Line",type:q.wN.SELECT,name:"test",validator:q.wY.REQUIRED,width:"150px"},{placeholder:"Date",type:q.wN.DATE,name:"test",validator:q.wY.REQUIRED,width:"150px"}];return(0,G.jsxs)("div",{className:"mx-3 my-2",children:[(0,G.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[(0,G.jsx)("h1",{className:"mt-2",children:"Machine Monitoring"}),(0,G.jsx)(l.A,{sx:{flexDirection:"row",gap:1},children:(0,G.jsx)(J.A,{data:f,errors:p,onChange:e=>{const{name:t,value:a}=e.target;x((e=>(e.delete(t),e))),j((e=>({...e,[t]:a})))},schema:v})})]}),(0,G.jsx)(ne.A,{value:r,onChange:(e,t)=>{i(t),c(0)},className:"mb-2 fw-500",children:["Kanban","Table"].map(((e,t)=>(0,G.jsx)(se.A,{label:e,className:"fw-500",value:e})))}),"Kanban"===r?(0,G.jsx)(Ge.Ay,{display:"grid",sx:{height:"100vh"},gridTemplateColumns:{sm:"repeat(3, 1fr)",xs:"repeat(3, 1fr)"},children:[{name:"Machine 1",status:"Running",completed:60,machineStats:{availability:30,performance:60,quality:90},expanded:{productMetrics:{total:"10K",good:"10K",ng:"10K",pass:"23",fail:"198"},cyclePerSecond:{best:"10K",worst:"10K",average:"28"}}},{name:"Machine 2",status:"Disconnected",completed:0,machineStats:{availability:0,performance:0,quality:0},expanded:{productMetrics:{total:"",good:"",ng:"",pass:"",fail:""},cyclePerSecond:{best:"",worst:"",average:""}}},{name:"Machine 3",status:"Maintenance",completed:0,machineStats:{availability:0,performance:0,quality:0},expanded:{productMetrics:{total:"",good:"",ng:"",pass:"",fail:""},cyclePerSecond:{best:"10K",worst:"10K",average:"28"}}}].map(((e,t)=>(0,G.jsx)("div",{style:{position:"relative",padding:3},children:(0,G.jsx)(Xt,{data:e,expanded:n===t,onToggle:()=>(e=>{s(n===e?null:e)})(t),clickMore:()=>function(e){a("/child-machine",{state:e})}(e)})},t)))}):(0,G.jsx)(B,{columns:w,rows:h,rowsPerPage:10,loading:"fetch"===d,titleCellClasses:"c-gray fw-700",page:o,setPage:c,paginator:!0,serialize:!0,total:10,tableBodyColor:q.lm.WHITE})]})};var Zt=a(461);a(3063);Zt.t1.register(...Zt.$L);const Vt=()=>{const e=(0,g.useRef)(null),t={labels:[""],datasets:[{label:"07:42:57 - 07:55:57",data:[["07:42","07:55"]],backgroundColor:"#ff683a",borderWidth:1},{label:"07:55:57 - 10:25:23",data:[["07:55","10:25"]],backgroundColor:"#1ea12f",borderWidth:1},{label:"07:42:57 - 07:42:57",data:[["07:42","07:42"]],backgroundColor:"#ffcd3a",borderWidth:1},{label:"10:25:23 - 12:39:18",data:[["10:25","12:39"]],backgroundColor:"#ffcd3a",borderWidth:1},{label:"12:39:23 - 15:39:18",data:[["12:39","15:39"]],backgroundColor:"#159e27",borderWidth:1}]};return(0,g.useEffect)((()=>{const a=e.current.getContext("2d"),n={type:"bar",data:t,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:e=>e.dataset.label}}},indexAxis:"y",scales:{x:{beginAtZero:!0,type:"time",time:{unit:"minute"},min:"00:00",max:"23:59",ticks:{stepSize:30,autoSkip:!1}},y:{beginAtZero:!1,stacked:!0}}}},s=new Zt.t1(a,n);return()=>{s.destroy()}}),[]),(0,G.jsx)("div",{style:{position:"relative",height:"100px",width:"100%",marginBottom:"15px"},children:(0,G.jsx)("canvas",{ref:e})})},Jt=()=>{const{t:e,i18n:t}=(0,y.Bd)(),a=(0,k.zy)(),n=[{name:"Machine 4",status:"Running",completed:75,machineStats:{availability:80,performance:85,quality:95},expanded:{productMetrics:{total:"15K",good:"14.5K",ng:"500",pass:"30",fail:"150"},cyclePerSecond:{best:"12K",worst:"9K",average:"35"}}},{name:"Machine 5",status:"Disconnected",completed:"",machineStats:{availability:0,performance:0,quality:0},expanded:{productMetrics:{total:"",good:"",ng:"",pass:"",fail:""},cyclePerSecond:{best:"",worst:"",average:""}}}];console.log("child machine data-------",null===a||void 0===a?void 0:a.state);const[s,r]=(0,g.useState)(null),[i,o]=(0,g.useState)("Kanban"),[c,d]=(0,g.useState)(0),[u,h]=(0,g.useState)(),[m,p]=(0,g.useState)([{email:"email@gmail.com",username:"user",fullname:"fullName",employee_id:"employee_id"}]),[x,f]=(0,g.useState)(new Map),[j,w]=(0,g.useState)({}),v=[{id:1,title:e("machineId"),render:e=>e.email},{id:2,title:e("status"),render:e=>e.username},{id:3,title:e("oe"),render:e=>e.fullname},{id:4,title:e("availability"),render:e=>e.employee_id},{id:5,title:e("performance"),render:e=>e.employee_id},{id:6,title:e("qty"),render:e=>e.employee_id},{id:7,title:e("action"),render:e=>e.employee_id}],A=[{placeholder:"Date",type:q.wN.DATE,name:"test",validator:q.wY.REQUIRED,width:"150px"}];return(0,G.jsxs)("div",{className:"mx-3 my-2",children:[(0,G.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[(0,G.jsx)("h1",{className:"mt-2",children:n[0].name||"name not found"}),(0,G.jsx)(l.A,{sx:{flexDirection:"row",gap:1},children:(0,G.jsx)(J.A,{data:j,errors:x,onChange:e=>{const{name:t,value:a}=e.target;f((e=>(e.delete(t),e))),w((e=>({...e,[t]:a})))},schema:A})})]}),(0,G.jsx)(ne.A,{value:i,onChange:(e,t)=>{o(t),d(0)},className:"mb-2 fw-500",children:["Kanban","Table"].map(((e,t)=>(0,G.jsx)(se.A,{label:e,className:"fw-500",value:e})))}),"Kanban"===i?(0,G.jsx)(Ge.Ay,{display:"grid",sx:{height:"100vh"},gridTemplateColumns:{sm:"repeat(3, 1fr)",xs:"repeat(3, 1fr)"},children:n.map(((e,t)=>(0,G.jsx)("div",{style:{position:"relative",padding:3},children:(0,G.jsx)(Xt,{data:e,expanded:s===t,onToggle:()=>(e=>{r(s===e?null:e)})(t)})},t)))}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Vt,{}),(0,G.jsx)(B,{columns:v,rows:m,rowsPerPage:10,loading:"fetch"===u,titleCellClasses:"c-gray fw-700",page:c,setPage:d,paginator:!0,serialize:!0,total:10,tableBodyColor:q.lm.WHITE})]})]})},$t=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,tab:c,setSelectedQuestions:d,skills:u,users:h,testList:m}=e;const[p,x]=(0,g.useState)(new Map),[f,j]=(0,g.useState)(0),y=[{title:"Material QR",placeholder:(0,H.t)("scan"),type:q.wN.INPUT,name:"material_qr"},{title:"Material Code",placeholder:"enter material code",type:q.wN.INPUT,name:"material_code"},{title:"GRN NO",placeholder:"enter grn number",type:q.wN.INPUT,name:"material_grn"},{title:"Quantity",placeholder:"enter material quantity",type:q.wN.INPUT,name:"material_quantity"},{title:"Comment",placeholder:(0,H.t)("comment"),type:q.wN.INPUT,name:"comment"}];return(0,G.jsxs)(V.A,{open:t,onClose:a,width:"min(700px,90vw)",hideCloseIcon:ee.A,wrapperClasses:"px-5",children:[(0,G.jsx)("h3",{className:"opacity-80",style:{width:"fit-content"},children:"Issuing item "}),(0,G.jsx)(J.A,{data:n,errors:p,onChange:e=>{const{name:t,value:a}=e.target;x((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:y}),(0,G.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,G.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:(0,H.t)("cancel")}),(0,G.jsx)(Z.A,{color:"light_green",onClick:async()=>{if(0!==f);else{const e=(0,$.bG)(y,n);if(x(e),e.size)return;await i()}},loading:o,children:(0,G.jsx)(r.A,{className:"fw-20-500-24",children:(0,H.t)("next")})})]})]})},ea=()=>{const{token:e}=(0,j.d4)((e=>e[X.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new W.Ay,n=await a.get("orders/pending-items/?page=".concat(e,"&page_size=10"),{},t,Q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("orders/issue-extra-material/",e,t,(e=>(0,Q.So)(e,null)));return null===n||void 0===n?void 0:n.data},update:async(e,a)=>{const n=new W.Ay,s=await n.put("orders/update-material-failure/".concat(e,"/"),a,t,(e=>(0,Q.So)(e,null)));return null===s||void 0===s?void 0:s.data}}};var ta=a(9466),aa=a(5412);const na=()=>{const e=(0,k.zy)(),t=((0,k.Zp)(),(0,j.wA)()),a=(e.state,(0,j.d4)((e=>{var t;return null===e||void 0===e||null===(t=e.Failure_item)||void 0===t?void 0:t.data}))),[n,s]=(0,g.useState)([]),[i,c]=(0,g.useState)(),[d,u]=(0,g.useState)(0),[h,m]=(0,g.useState)(!1),[p,x]=(0,g.useState)("testDetail"),[f,y]=(0,g.useState)(0),[w,v]=(0,g.useState)({}),{list:A,create:S,update:b}=ea(),[C,_]=(0,g.useState)(new Map),[N,E]=(0,g.useState)([]),[I,T]=(0,g.useState)([]),[R,D]=(0,g.useState)([]),[P,O]=(0,g.useState)(""),L=[{id:1,title:"Order No",render:e=>{var t;return(0,G.jsx)(r.A,{children:null===(t=e.work_order)||void 0===t?void 0:t.order_id})}},{id:2,title:"FG Code",render:e=>{var t;return(0,G.jsx)(r.A,{children:null===(t=e.work_order)||void 0===t?void 0:t.name})}},{id:3,title:"Material Name",render:e=>{var t;return(0,G.jsx)(r.A,{children:null===(t=e.material)||void 0===t?void 0:t.material_code})}},{id:4,title:"Resolution Date",render:e=>(0,G.jsx)(r.A,{children:be()(null===e||void 0===e?void 0:e.resolution_date).format("ll")})},{id:5,title:(0,H.t)("status"),render:e=>(0,G.jsx)(r.A,{children:!0===(null===e||void 0===e?void 0:e.status)?"True":"False"})},{id:8,title:(0,H.t)("action"),render:e=>(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(l.A,{sx:{flexDirection:"row",gap:1},children:(0,G.jsx)(Ae.A,{title:"scan item",children:(0,G.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{t((0,aa.y)(e)),x("addAssign")},children:(0,G.jsx)(ta.A,{color:"primary",fontSize:"small"})})})})})}];(0,g.useEffect)((()=>{F()}),[f]);const F=async()=>{const[e]=await A(f+1);console.log("test master-------",e.count),u(e.count),D(e.results)};return(0,G.jsxs)("div",{className:"mx-3 my-2",children:[(0,G.jsx)("div",{className:"flex items-center justify-between",children:(0,G.jsx)(l.A,{sx:{flexDirection:"row",alignItems:"center",mb:1},children:(0,G.jsx)(r.A,{className:"fw-20-500-36",children:"Store Pending Items"})})}),(0,G.jsx)(B,{columns:L,rows:R,rowsPerPage:10,loading:"fetch"===i,titleCellClasses:"c-gray fw-700",page:f,setPage:y,paginator:!0,serialize:!0,total:d,tableBodyColor:q.lm.WHITE}),(0,G.jsx)($t,{open:"addAssign"===p,onClose:()=>{x(!1)},onSubmit:async()=>{const e={material_failure_id:null===a||void 0===a?void 0:a.id,workorder_id:null===a||void 0===a?void 0:a.work_order.id,material_qr:w.material_qr,material_code:w.material_code,material_grn:w.material_grn,material_quantity:w.material_quantity};let t=await S(e);console.log("res - create mat------",t);let n=null===a||void 0===a?void 0:a.id;"OK"===(null===t||void 0===t?void 0:t.message)?await b(n,{status:!1,comments:w.comment}):await b(n,{status:!0,comments:w.comment})},users:n,testList:R,data:w,setData:v})]})};var sa=a(5475),la=a(8625);const ra=e=>{let{rows:t=[],columns:a=[],minWidth:n=650,tableClasses:s="",titleCellClasses:r="",rowClassesMethod:i=(()=>{}),rowClasses:o="",rowCellClasses:c="",rowsPerPage:d=10,paginator:u=!1,loading:h,dense:m,hideBorder:p=!1,onRowClick:x=Function.prototype,onTableHeadCellClick:f=Function.prototype,handleFgCodeFilterInput:j=Function.prototype,handleOrderIdFilterInput:y=Function.prototype,handleOrderTypeFilterInput:w=Function.prototype,handleOrderStatusFilterInput:v=Function.prototype,serialize:A=!1,page:S=0,setPage:b=Function.prototype,total:C}=e;const[_,k]=(0,g.useState)(null),[N,z]=(0,g.useState)(null),[H,B]=(0,g.useState)(null),[Q,W]=(0,g.useState)(null);return(0,G.jsx)(D.A,{children:(0,G.jsxs)(E.A,{sx:{minWidth:n},className:"".concat(s),size:m&&"small",children:[(0,G.jsx)(P.A,{sx:{backgroundColor:q.lm.BG_GRAY},children:(0,G.jsxs)(O.A,{children:[A&&(0,G.jsx)(T.A,{className:"".concat(r," text-nowrap h3"),sx:{color:"black"},children:"S No."}),a.map(((e,t)=>(0,G.jsxs)(T.A,{style:{width:e.width&&e.width,color:"black"},className:"".concat(r," text-nowrap"),children:[(0,G.jsx)("div",{onClick:()=>f(e.id),children:e.title}),"order_id"===e.id&&(0,G.jsx)("input",{type:"text",placeholder:"filter by order_id",value:_,onChange:e=>{console.log("Updated value: ".concat(e.target.value)),k(e.target.value),y(e.target.value)},style:{borderRadius:"0.35vw",border:"1px solid grey",padding:"0.25vw",width:"90%",fontSize:"0.8rem"}}),"fg_code"===e.id&&(0,G.jsx)("input",{type:"text",placeholder:"filter by ".concat(e.id),value:N,onChange:e=>{console.log("Updated value: ".concat(e.target.value)),z(e.target.value),j(e.target.value)},style:{borderRadius:"0.35vw",border:"1px solid grey",padding:"0.25vw",width:"90%"}}),"order_type"===e.id&&(0,G.jsxs)("select",{value:H,onChange:e=>{console.log("Updated value: ".concat(e.target.value)),B(e.target.value),w(e.target.value)},style:{borderRadius:"0.35vw",border:"1px solid grey",padding:"0.25vw",width:"10vw"},children:[(0,G.jsx)("option",{value:"",children:"Select Order Type"}),(0,G.jsx)("option",{value:"ACC",children:"ACC"}),(0,G.jsx)("option",{value:"LPC",children:"LPC"}),(0,G.jsx)("option",{value:"ASSEMBLY",children:"ASSEMBLY"})]}),"status"===e.id&&(0,G.jsxs)("select",{value:Q,onChange:e=>{console.log("Updated value: ".concat(e.target.value)),W(e.target.value),v(e.target.value)},style:{borderRadius:"0.35vw",border:"1px solid grey",padding:"0.25vw",width:"8vw"},children:[(0,G.jsx)("option",{value:"",children:"Select Status"}),(0,G.jsx)("option",{value:"PLAN",children:"PLAN"}),(0,G.jsx)("option",{value:"ISSUING",children:"ISSUING"}),(0,G.jsx)("option",{value:"RUNNING",children:"RUNNING"})]})]},t)))]})}),(0,G.jsx)(l.A,{sx:{p:.3}}),(0,G.jsx)(I.A,{children:h?(0,G.jsx)(O.A,{children:(0,G.jsx)(T.A,{colSpan:12,className:"flex h-300 text-center",children:(0,G.jsx)(M.A,{big:!0,blue:!0})})}):t&&t.length?t.map(((e,t)=>(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(O.A,{sx:{backgroundColor:q.lm.LG_GRAY,["& .".concat(R.A.root)]:{borderBottom:p?"none":"true",mt:10},...i(t,e)},className:"".concat(o),onClick:()=>x(e.id),children:[A&&(0,G.jsx)(T.A,{sx:{color:"black"},className:"".concat(c," fw-500 "),align:"left",children:t+1}),a.map(((t,a)=>(0,G.jsx)(T.A,{sx:{width:t.width&&t.width,color:"black"},className:"".concat(c," fw-500"),align:"left",children:t.render(e)},a)))]},t),(0,G.jsx)(l.A,{sx:{p:.3}})]}))):(0,G.jsx)(O.A,{children:(0,G.jsxs)(T.A,{colSpan:12,className:"text-center h-300 flex items-center opacity-60 w-full",children:[(0,G.jsx)("img",{src:U,alt:"leaf",height:100,className:"w-full object-contain"}),(0,G.jsx)("p",{className:"text-center",children:"No Records found!"})]})})}),u&&(0,G.jsx)(L.A,{children:(0,G.jsx)(O.A,{children:(0,G.jsx)(F.A,{rowsPerPageOptions:[],count:C||t.length,rowsPerPage:d,onPageChange:(e,t)=>b(t),page:S})})})]})})},ia={capsule:"capsule_capsule__AYGR4"};function oa(e){let{capsuleText:t}=e;var a;switch(t){case"PLAN":default:a="#fa7474";break;case"ISSUING":a="#ffd6b0";break;case"RUNNING":a="#e9efc5"}return(0,G.jsx)("div",{className:ia.capsule,style:{backgroundColor:a},children:t})}const ca="button_button__n8rYf";var da=a(1906);const ua=e=>{let{children:t,onClick:a,top:n,color:s,classes:l,height:r,width:i,bordered:o,gray:c,disabled:d,loading:u,hide:h,background:m,white:p,customStyle:x={}}=e;const g={blue:q.lm.DARK_BLUE,orange:q.lm.ORANGE,green:q.lm.GREEN,red:q.lm.RED,gray:q.lm.BG_GRAY,yellow:q.lm.YELLOW,white:q.lm.WHITE,light_green:q.lm.LIGHT_GREEN}[s]||"#498cce";return h?null:(0,G.jsx)(da.A,{"data-testid":"button",style:{marginTop:n,backgroundColor:o?m||"transparent":g,height:!!r&&r,width:!!i&&i,border:!!o&&"1.5px solid ".concat(c?"lightgray":g),color:p?"#0A2B77":c?"lightgray":o?g:"#ffffff",opacity:d&&.8,pointerEvents:d&&"none",...x},className:"".concat(ca," ").concat(l),onClick:a,disabled:d,children:u?(0,G.jsx)(M.A,{red:"red"===s&&!!o,orange:"orange"===s&&!!o,green:"green"===s&&!!o,blue:!!o}):t})};const ha=a.p+"static/media/action-icon.7ea474ec817bbcbc0bcf492a497a0fdd.svg",ma=e=>{let{open:t,onClose:a,data:n={},setData:s,onSubmit:l,handleAdd2:r,loading:i,tab:o}=e;const c=Object.entries(n).filter((e=>{let[t,a]=e;return"id"!==t&&null!=a}));return console.log("order details data",n),(0,G.jsx)(V.A,{open:t,onClose:a,wrapperClasses:"px-5 py-4",width:"81vw",hideCloseIcon:ee.A,crossIconClasses:"w-2.5vw w-5vw--mob h-2.5vw h-5vw--mob",children:(0,G.jsxs)("div",{className:"orderDetailsContainer",children:[(0,G.jsx)("div",{className:"leftPart",children:(0,G.jsx)("ul",{className:"orderDetailKeyList",children:c.map((e=>{let[t]=e;return(0,G.jsx)("li",{children:(a=t,a.charAt(0).toUpperCase()+a.slice(1))},t);var a}))})}),(0,G.jsx)("div",{className:"rightPart",children:(0,G.jsx)("ul",{className:"orderDetailValueList",children:c.map((e=>{let[t,a]=e;return(0,G.jsx)("li",{children:a},t)}))})})]})})},pa=()=>{const[e,t]=(0,g.useState)(!1),[a,n]=(0,g.useState)(null),{token:s}=(0,j.d4)((e=>e[X.X.AUTH])),l={Authorization:"Bearer ".concat(s),"Content-Type":W.yw.APPLICATION_JSON},r=new W.Ay,i=(0,g.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,d=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,h=arguments.length>7?arguments[7]:void 0,m=arguments.length>8?arguments[8]:void 0,p=arguments.length>9?arguments[9]:void 0,x=arguments.length>10?arguments[10]:void 0,g=arguments.length>11?arguments[11]:void 0,f="".concat(Y.H.ORDERS,"/all/?page=").concat(e);s||i||o||c||d||u?f+="&sort_by=":!1!==s&&!1!==i&&!1!==o&&!1!==c&&!1!==d&&!1!==u||(f+="&sort_by="),h.forEach((e=>{switch(e){case"fg_code":switch(s){case!1:console.log("Code is false"),f+=f.endsWith("&sort_by=")?"-fg_code":",-fg_code";break;case!0:console.log("Code is true"),f+=f.endsWith("&sort_by=")?"fg_code":",fg_code";break;default:console.log("Code is an unexpected value")}break;case"order_type":switch(i){case!1:console.log("Order type is false"),f+=f.endsWith("&sort_by=")?"-order_type":",-order_type";break;case!0:console.log("Order type is true"),f+=f.endsWith("&sort_by=")?"order_type":",order_type";break;default:console.log("Order type is an unexpected value")}break;case"status":switch(o){case!1:console.log("Status is false"),f+=f.endsWith("&sort_by=")?"-status":",-status";break;case!0:console.log("Status is true"),f+=f.endsWith("&sort_by=")?"status":",status";break;default:console.log("Status is an unexpected value")}break;case"order_id":switch(c){case!1:console.log("Order ID is false"),f+=f.endsWith("&sort_by=")?"-order_id":",-order_id";break;case!0:console.log("Order ID is true"),f+=f.endsWith("&sort_by=")?"order_id":",order_id";break;default:console.log("Order ID is an unexpected value")}break;case"name":switch(d){case!1:console.log("Name is false"),f+=f.endsWith("&sort_by=")?"-name":",-name";break;case!0:console.log("Name is true"),f+=f.endsWith("&sort_by=")?"name":",name";break;default:console.log("Name is an unexpected value")}break;case"quantity":switch(u){case!1:console.log("Quantity is false"),f+=f.endsWith("&sort_by=")?"-quantity":",-quantity";break;case!0:console.log("Quantity is true"),f+=f.endsWith("&sort_by=")?"quantity":",quantity";break;default:console.log("Quantity is an unexpected value")}break;default:console.log("Unknown column ID:",e)}})),m&&(f+="&order_id=",f+=m),p&&(f+="&fg_code=",f+=p),x&&(f+="&type=",f+=x),g&&(f+="&status=",f+=g),t(!0),n(null);try{return(await r.get(f,{},l)).data}catch(a){n(a.message||"Error in fetchOrders:")}finally{t(!1)}}),[r,l]),o=(0,g.useCallback)((async()=>{const e="".concat(Y.H.ORDERS,"/order-matrix-view/");t(!0),n(null);try{return(await r.get(e,{},l)).data}catch(a){n(a.message||"Error in fetchOrders:")}finally{t(!1)}}),[r,l]),c=(0,g.useCallback)((async e=>{const n="".concat(Y.H.ORDERS,"/order-details/").concat(e,"/");try{t(!0);return(await r.get(n,{},l)).data}catch(a){console.error(a.message||"Error in fetching orders by id")}finally{t(!1)}}),[r,l]),d=(0,g.useCallback)((async e=>{const n="".concat(Y.H.ORDERS,"/material-on-hold/").concat(e,"/");try{t(!0);return(await r.get(n,{},l)).data}catch(a){console.error(a.message||"Error in getting order on hold quantity")}finally{t(!1)}}),[r,l]),u=(0,g.useCallback)((async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s="".concat(Y.H.ORDERS,"/bom-submit/").concat(e,"/");try{t(!0);return(await r.post(s,n,l)).data}catch(a){console.error(a.message||"Error in submitting BOM")}finally{t(!1)}}),[r,l]),h=(0,g.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const s="".concat(Y.H.ORDERS,"/material-failure-reasons/"),i={reason_name:e,resolution_date_required:n};try{t(!0);return(await r.post(s,i,l)).data}catch(a){console.error(a.message||"Error in getting Failure Reasons")}finally{t(!1)}}),[r,l]);return{loading:e,error:a,fetchOrders:i,fetchOrdersMatrixView:o,fetchOrdersById:c,getOrderHoldQuantity:d,submitBOM:u,postFailureReason:h}},xa=()=>{const[e,t]=(0,g.useState)(!1),[a,n]=(0,g.useState)(null),{token:s}=(0,j.d4)((e=>e[X.X.AUTH])),l={Authorization:"Bearer ".concat(s),"Content-Type":W.yw.APPLICATION_JSON},r=new W.Ay,i=(0,g.useCallback)((async e=>{const n="".concat(Y.H.ORDERS,"/materials-required/").concat(e,"/");try{t(!0);return(await r.get(n,{},l)).data}catch(a){console.error(a.message||"Error in fetching orders by id")}finally{t(!1)}}),[r,l]),o=(0,g.useCallback)((async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s="".concat(Y.H.ORDERS,"/material-on-hold/").concat(e,"/");try{t(!0);return(await r.post(s,n,l)).data}catch(a){console.error(a.message||"Error in setting order on hold quantity")}finally{t(!1)}}),[r,l]),c=(0,g.useCallback)((async(e,n)=>{const s="".concat(Y.H.ORDERS,"/update-state/").concat(e,"/"),i={state:n};try{t(!0);return(await r.put(s,i,l)).data}catch(a){console.error(a.message||"Error in submitting BOM")}finally{t(!1)}}),[r,l]),d=(0,g.useCallback)((async(e,n,s,i,o,c)=>{const d="".concat(Y.H.ORDERS,"/label-generator/"),u={material_code:e,grn_number:n,grn_date:s,unit:i,qty1:o,qty2:c};try{t(!0);return(await r.post(d,u,l)).data}catch(a){console.error(a.message||"Error in submitting BOM")}finally{t(!1)}}),[r,l]),u=(0,g.useCallback)((async()=>{const e="".concat(Y.H.ORDERS,"/material-failure-reasons/");try{t(!0);return(await r.get(e,{},l)).data}catch(a){console.error(a.message||"Error in getting Failure Reasons")}finally{t(!1)}}),[r,l]),h=(0,g.useCallback)((async function(e,n,s,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Fake comment";const c="".concat(Y.H.ORDERS,"/material-failure-entry/").concat(e,"/"),d={material_code:n,failure_reason_id:s,comments:o,resolution_date:i};try{t(!0);return(await r.post(c,d,l)).data}catch(a){console.error(a.message||"Error in submitting Failure Reason")}finally{t(!1)}}),[r,l]),m=(0,g.useCallback)((async(e,n)=>{const s="".concat(Y.H.AUTH,"/supervisor-authentication/"),i={username:e,password:n};try{t(!0);return(await r.post(s,i,l)).data}catch(a){console.error(a.message||"Error in supervisor login")}finally{t(!1)}}),[r,l]),p=(0,g.useCallback)((async(e,n,s,i,o,c)=>{const d="".concat(Y.H.ORDERS,"/stock-transfer/"),u={material_code1:e,material_code2:n,quantity:s,grn_number:i,unit:o,grn_date:c};try{t(!0);return(await r.post(d,u,l)).data}catch(a){console.error(a.message||"Error in Stock Transfer")}finally{t(!1)}}),[r,l]),x=(0,g.useCallback)((async e=>{const n="".concat(Y.H.ORDERS,"/kitting-qr/").concat(e,"/");try{t(!0);return(await r.get(n,{},l)).data}catch(a){console.error(a.message||"Error in getting Kitting Label")}finally{t(!1)}}),[r,l]),f=(0,g.useCallback)((async e=>{const n={labelData:e};try{t(!0);return(await r.post_local("print-labels/",n,l)).data}catch(a){console.error(a.message||"Error in Printing Labels")}finally{t(!1)}}),[r,l]);return{loading:e,error:a,fetchMaterialsRequired:i,setOrderHoldQuantity:o,updateOrderState:c,generateLabels:d,getFailureReasons:u,submitFailureReason:h,supervisorLogin:m,stockTransfer:p,getKittingLabel:x,printLabels:f}},ga=e=>{let{setLocalUI:t,data:a={},noStepFn:n=(()=>{}),nextStepFn:s=(()=>{})}=e;const{fetchOrdersById:l,error:r,loading:i}=pa();console.log("FulfilledOrderActionModal data",a);const[o,c]=(0,g.useState)(null);return(0,g.useEffect)((()=>{a&&a.orderId&&l(a.orderId).then((e=>{console.log("setSelectedOrderDetails data",e),c(e)}))}),[a]),(0,G.jsxs)("div",{className:"action_modal__container",children:[(0,G.jsx)("div",{children:(0,G.jsx)(Je.A,{sx:{fontSize:"6rem",color:"#86D56A"}})}),(0,G.jsxs)("p",{children:["Material Planning for Order ",(0,G.jsx)("strong",{children:null===o||void 0===o?void 0:o.name})," is successfully done."]}),(0,G.jsxs)("p",{children:["Order ",(0,G.jsx)("strong",{children:null===o||void 0===o?void 0:o.order_id})," is in Processing Stage now."]}),(0,G.jsxs)("p",{children:["Do you want to move it to ",(0,G.jsx)("em",{children:"Running Stage"}),"?"]}),(0,G.jsxs)("div",{className:"material-planner-layout-footer",style:{gap:"2.5rem"},children:[(0,G.jsx)(ua,{onClick:n,white:!0,width:"8rem",height:"2.5rem",bordered:!0,customStyle:{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"},children:"No"}),(0,G.jsx)(ua,{onClick:s,color:"green",width:"8rem",height:"2.5rem",children:"Yes"})]})]})},fa=e=>{let{setLocalUI:t,data:a={},noStepFn:n=(()=>{}),nextStepFn:s=(()=>{}),isPartialFulfilledOrderActionModalEditBtnEnabled:l=!1}=e;const{fetchOrdersById:r,error:i,loading:o}=pa();console.log("PartialFulfilledOrderActionModal data",a);const[c,d]=(0,g.useState)(null);return(0,g.useEffect)((()=>{a&&a.orderId&&r(a.orderId).then((e=>{console.log("setSelectedOrderDetails data",e),d(e)}))}),[a]),(0,G.jsxs)("div",{className:"action_modal__container",children:[(0,G.jsx)("div",{children:(0,G.jsx)(Je.A,{sx:{fontSize:"6rem",color:"#86D56A"}})}),(0,G.jsxs)("p",{children:["Do you want to Edit",l&&(0,G.jsx)("span",{children:" or Run"})]}),(0,G.jsxs)("span",{children:["Order ",null===c||void 0===c?void 0:c.order_id," ",(0,G.jsx)("strong",{children:null===c||void 0===c?void 0:c.name})," "]}),(0,G.jsx)("br",{}),(0,G.jsxs)("div",{className:"material-planner-layout-footer",style:{gap:"2.5rem"},children:[(0,G.jsx)(ua,{onClick:n,white:!!l,color:l?"":"green",width:"8rem",height:"2.5rem",bordered:!!l,customStyle:l?{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"}:{},children:"Edit"}),l&&(0,G.jsx)(ua,{onClick:s,color:"green",width:"8rem",height:"2.5rem",children:"Run"})]})]})},ja=[{color:"var(--primary-color)",title:"Plan",value:38},{color:"var(--secondary-color)",title:"Issuing",value:14},{color:"var(--tertiary-color)",title:"Running",value:2}];const ya=e=>{let{color:t,title:a,value:n}=e;return(0,G.jsxs)("div",{className:"overview-metrics-box",style:{backgroundColor:t},children:[(0,G.jsx)("p",{children:a}),(0,G.jsx)("p",{children:n})]})},wa=function(){const e=(0,k.Zp)(),[t]=(0,sa.ok)(),[a,n]=(0,g.useState)(!0),[s,l]=(0,g.useState)({pageLoading:!0,isFulfilledOrderActionModalOpen:!1,isPartialFulfilledOrderActionModalOpen:!1,selectedOrderId:null,selectedOrderOrderId:null,selectedOrderName:null,selectedOrderStatus:null,userActionStatus:null,selectedOrderType:null,selectedHoldingOrderMaterialsQty:null,isPartialFulfilledOrderActionModalEditBtnEnabled:null}),[r,i]=(0,g.useState)([]),[c,d]=(0,g.useState)([]),{fetchOrders:u,fetchOrdersMatrixView:h,fetchOrdersById:m,getOrderHoldQuantity:p,submitBOM:x,error:f,loading:j}=pa(),{updateOrderState:y}=xa(),[w,v]=(0,g.useState)(0),[A,S]=(0,g.useState)(!1),[b,C]=(0,g.useState)({}),[_,N]=(0,g.useState)(1),[E,I]=(0,g.useState)(null),[T,R]=(0,g.useState)(null),[D,P]=(0,g.useState)(5),[O,L]=(0,g.useState)(null),[F,U]=(0,g.useState)(null),[z,H]=(0,g.useState)(!1),[B,Q]=(0,g.useState)({specification:{},location:{}}),[W,Y]=(0,g.useState)(ja),[X,K]=(0,g.useState)(null),[Z,J]=(0,g.useState)(null),[$,te]=(0,g.useState)(null),[ae,ne]=(0,g.useState)(null),[se,le]=(0,g.useState)(!0),[re,ie]=(0,g.useState)(null),[oe,ce]=(0,g.useState)(null),[de,ue]=(0,g.useState)(["order_id"]),[he,me]=(0,g.useState)(null),[pe,xe]=(0,g.useState)(null),[ge,fe]=(0,g.useState)(null),[je,ye]=(0,g.useState)(null);(0,g.useEffect)((()=>{u(_,Z,$,ae,se,re,oe,de,he,pe,ge,je).then((e=>{d(e.results),I(e.count);const t=Math.ceil(e.count/D);R(t),_e(_),e.previous?L(!0):L(!1),e.next?U(!0):U(!1)}))}),[_,Z,$,ae,se,re,oe,he,pe,ge,je]);const we=t=>{switch(t.status){case q.ht.PLAN:e("/material-planner-plan?orderId=".concat(t.id,"&orderStatus=").concat(t.status,"&orderType=").concat(t.order_type,"&orderOrderId=").concat(t.order_id));break;case q.ht.ISSUING:console.log("orderData.order_type",t.order_type),l((e=>({...e,isPartialFulfilledOrderActionModalOpen:!0,selectedOrderOrderId:t.order_id,selectedOrderStatus:t.status,selectedOrderId:t.id,selectedOrderType:t.order_type,isPartialFulfilledOrderActionModalEditBtnEnabled:"ASSEMBLY"!==t.order_type})));break;case q.ht.RUNNING:console.log("orderData.order_type",t.order_type),l((e=>({...e,isPartialFulfilledOrderActionModalOpen:!0,selectedOrderOrderId:t.order_id,selectedOrderStatus:t.status,selectedOrderId:t.id,selectedOrderType:t.order_type,isPartialFulfilledOrderActionModalEditBtnEnabled:!1})))}},ve=t.get("orderId"),Ae=t.get("status"),Se=t.get("orderStatus"),be=()=>{h().then((e=>{const t=W.map((t=>({...t,value:e[t.title.toLowerCase()]})));Y(t),K((new Date).toLocaleString())}))};(0,g.useEffect)((()=>{be();const e=t.get("orderId"),a=t.get("status"),n=t.get("orderStatus");e&&a&&n?(l((t=>{let s={...t};return a.toLowerCase()===q.eN.SCANNED&&(console.log("paramStatus.toLowerCase() === USER_ACTIONS.SCANNED"),s.isFulfilledOrderActionModalOpen=!0,s.selectedOrderId=e,s.selectedOrderStatus=n,s.userActionStatus=a),s.pageLoading=!1,s})),m(e).then((e=>{if(console.log("fetchOrdersById",s.selectedOrderId,"data",e),e){const t=e.name||"",a=e.order_id||"";l((e=>({...e,selectedOrderOrderId:a,selectedOrderName:t})))}}))):l((e=>({...e,pageLoading:!1})))}),[ve,Ae,Se]);const[Ce,_e]=(0,g.useState)(_);return s.pageLoading?(0,G.jsx)("div",{className:"mx-3 my-2",style:{display:"grid",placeItems:"center"},children:(0,G.jsx)(M.A,{green:!0})}):(0,G.jsxs)("div",{className:"mx-3 my-2 material-planner-layout",children:[(0,G.jsxs)("div",{className:"material-planner-layout-header",children:[(0,G.jsx)("div",{className:"overview-heading",children:"Overview"}),(0,G.jsxs)("div",{className:"overview-metrics-container",children:[W.map((e=>(0,G.jsx)(ya,{color:e.color,title:e.title,value:e.value}))),(0,G.jsxs)("div",{className:"overview-last-refresh",children:[(0,G.jsxs)("div",{className:"leftPart",children:[(0,G.jsx)("div",{children:"Last refresh"}),(0,G.jsx)("div",{children:X})]}),(0,G.jsx)("div",{className:"rightPart",children:(0,G.jsx)(o.A,{onClick:be,children:(0,G.jsx)(la.A,{})})})]})]})]}),(0,G.jsxs)("div",{className:"material-planner-layout-body",children:[(0,G.jsx)(ra,{edit:z,columns:[{id:"order_id",title:"Order ID ".concat(!0===se?"\u2191":!1===se?"\u2193":"\u2191\u2193"),render:e=>(0,G.jsx)("span",{onClick:()=>(async e=>{S(!0);try{const t=await m(e);C(t)}catch(Fe){console.error("Error in fetchOrderDetails:",Fe)}})(e.id),style:{cursor:"pointer",color:"blue"},children:e.order_id})},{id:"name",title:"Name ".concat(!0===re?"\u2191":!1===re?"\u2193":"\u2191\u2193"),render:e=>e.name},{id:"quantity",title:"Qty",title:"Qty ".concat(!0===oe?"\u2191":!1===oe?"\u2193":"\u2191\u2193"),render:e=>e.quantity},{id:"fg_code",title:"Code ".concat(!0===Z?"\u2191":!1===Z?"\u2193":"\u2191\u2193"),render:e=>e.fg_code},{id:5,title:"Description",render:e=>e.fg_description},{id:"order_type",title:"Order type ".concat(!0===$?"\u2191":!1===$?"\u2193":"\u2191\u2193"),render:e=>e.order_type},{id:"status",title:"Status ".concat(!0===ae?"\u2191":!1===ae?"\u2193":"\u2191\u2193"),render:e=>(0,G.jsx)(oa,{capsuleText:e.status})},{id:9,title:"Action",render:e=>(0,G.jsx)("img",{src:ha,style:{width:"2.78vw",height:"2.78vw",cursor:"pointer"},alt:"Action Icon",onClick:()=>we(e)})}],onTableHeadCellClick:e=>{(e=>{switch(e){case"fg_code":J((t=>{switch(t){case null:return console.log("a is null"),ue((t=>[...t,e])),!0;case!0:return console.log("a is true"),!1;case!1:return console.log("a is false"),ue((t=>t.filter((t=>t!==e)))),null;default:return console.log("a is an unexpected value"),t}})),console.log("code case");break;case"order_type":te((t=>{switch(t){case null:return console.log("a is null"),ue((t=>[...t,e])),!0;case!0:return console.log("a is true"),!1;case!1:return console.log("a is false"),ue((t=>t.filter((t=>t!==e)))),null;default:return console.log("a is an unexpected value"),t}})),console.log("order type case");break;case"status":ne((t=>{switch(t){case null:return console.log("a is null"),ue((t=>[...t,e])),!0;case!0:return console.log("a is true"),!1;case!1:return console.log("a is false"),ue((t=>t.filter((t=>t!==e)))),null;default:return console.log("a is an unexpected value"),t}})),console.log("status case");break;case"order_id":le((t=>{switch(t){case null:return console.log("a is null"),ue((t=>[...t,e])),!0;case!0:return console.log("a is true"),!1;case!1:return console.log("a is false"),ue((t=>t.filter((t=>t!==e)))),null;default:return console.log("a is an unexpected value"),t}})),console.log("order id case");break;case"name":ie((t=>{switch(t){case null:return console.log("a is null"),ue((t=>[...t,e])),!0;case!0:return console.log("a is true"),!1;case!1:return console.log("a is false"),ue((t=>t.filter((t=>t!==e)))),null;default:return console.log("a is an unexpected value"),t}})),console.log("order id case");break;case"quantity":ce((t=>{switch(t){case null:return console.log("a is null"),ue((t=>[...t,e])),!0;case!0:return console.log("a is true"),!1;case!1:return console.log("a is false"),ue((t=>t.filter((t=>t!==e)))),null;default:return console.log("a is an unexpected value"),t}})),console.log("order id case");break;default:console.log(e,"clicked")}})(e)},rows:c,rowsPerPage:D,loading:j,titleCellClasses:"c-gray fw-700",page:_-1,serialize:!0,total:E,handleOrderIdFilterInput:e=>{(e=>{console.log("handleOrderIdFilterInput",e),me(e)})(e)},handleFgCodeFilterInput:e=>{(e=>{console.log("handleFgCodeFilterInput",e),xe(e)})(e)},handleOrderTypeFilterInput:e=>{(e=>{console.log("handleOrderTypeFilterInput",e),fe(e)})(e)},handleOrderStatusFilterInput:e=>{(e=>{console.log("handleOrderStatusFilterInput",e),ye(e)})(e)}}),(0,G.jsxs)("div",{className:"pagination-controls",children:[(0,G.jsx)(ua,{onClick:()=>{N(_-1),console.log("prev page")},white:!0,width:"auto",height:"auto",bordered:!0,disabled:!O,customStyle:{border:"1px solid #3E3E3E",backgroundColor:O?"#FFFFFF":"#CCCCCC",color:O?"#000000":"#999999",cursor:O?"pointer":"not-allowed"},children:"Prev"}),(0,G.jsxs)("div",{className:"page-details",children:[(0,G.jsx)("div",{children:"Page"})," ",(0,G.jsx)("input",{type:"number",value:Ce,onChange:e=>{const t=e.target.value;/^\d*$/.test(t)&&_e(t)},onBlur:()=>{const e=Math.ceil(Ce);!isNaN(e)&&e>0&&e<=T?N(e):_e(_)},className:"page-number-input"}),(0,G.jsx)("div",{children:"of "}),(0,G.jsx)("div",{children:(0,G.jsx)("strong",{children:T})})]}),(0,G.jsx)(ua,{onClick:()=>{N(_+1),console.log("next page")},color:"green",width:"auto",height:"auto",disabled:!F,customStyle:{backgroundColor:F?"#27ae60":"#CCCCCC",color:F?"#FFFFFF":"#999999",cursor:F?"pointer":"not-allowed"},children:"Next"})]})]}),A&&(0,G.jsx)(ma,{open:A,onClose:()=>S(!1),data:b}),s.isFulfilledOrderActionModalOpen&&(0,G.jsx)(V.A,{open:s.isFulfilledOrderActionModalOpen,onClose:()=>l({isFulfilledOrderActionModalOpen:!1}),width:"80vw",top:"10vh",hideCloseIcon:ee.A,wrapperClasses:"px-5 py-4",crossIconClasses:"w-2.5vw w-5vw--mob h-2.5vw h-5vw--mob",children:(0,G.jsx)(ga,{data:{orderId:s.selectedOrderId,status:s.selectedOrderStatus},noStepFn:()=>{const t=[...r],a=r.findIndex((e=>e.order_id===s.selectedOrderId));-1!==a&&s.userActionStatus===q.eN.SCANNED&&(t[a].status=q.ht.ISSUING),i(t),l({...s,isFulfilledOrderActionModalOpen:!1}),e("/material-planner/")},nextStepFn:()=>{const a=t.get("orderId");p(s.selectedOrderId).then((t=>{l((e=>({...e,selectedHoldingOrderMaterialsQty:t}))),console.log("getOrderHoldQuantity data",t),console.log("selectedHoldingOrderMaterialsQty",s.selectedHoldingOrderMaterialsQty),x(s.selectedOrderId,{material_issue:t}).then((t=>{console.log("submit BOM data",t),y(a,q.ht.RUNNING).then((e=>{be()}));const n=c.map((e=>({...e}))),r=c.findIndex((e=>e.id===a));-1!==r&&(n[r].status=q.ht.RUNNING),d(n),l({...s,isFulfilledOrderActionModalOpen:!1}),e("/material-planner/")}))}))}})}),s.isPartialFulfilledOrderActionModalOpen&&(0,G.jsx)(V.A,{open:s.isPartialFulfilledOrderActionModalOpen,onClose:()=>l({isPartialFulfilledOrderActionModalOpen:!1}),width:"50vw",top:"20vh",hideCloseIcon:ee.A,wrapperClasses:"px-5 py-4",crossIconClasses:"w-2.5vw w-5vw--mob h-2.5vw h-5vw--mob",children:(0,G.jsx)(fa,{data:{orderId:s.selectedOrderId,status:s.selectedOrderStatus},noStepFn:()=>{l({...s,isPartialFulfilledOrderActionModalOpen:!1}),e("/material-planner/"),e("/material-planner-plan/scanning?orderId=".concat(s.selectedOrderId,"&orderStatus=").concat(s.selectedOrderStatus,"&orderType=").concat(s.selectedOrderType,"&orderOrderId=").concat(s.selectedOrderOrderId))},nextStepFn:()=>{const e=s.selectedOrderId;p(s.selectedOrderId).then((t=>{l((e=>({...e,selectedHoldingOrderMaterialsQty:t}))),console.log("getOrderHoldQuantity data",t),console.log("selectedHoldingOrderMaterialsQty",s.selectedHoldingOrderMaterialsQty),x(s.selectedOrderId,{material_issue:t}).then((t=>{console.log("submit BOM data",t),y(e,q.ht.RUNNING).then((e=>{be()}));const a=c.map((e=>({...e}))),n=c.findIndex((t=>t.id===e));-1!==n&&(a[n].status=q.ht.RUNNING),d(a),l({...s,isPartialFulfilledOrderActionModalOpen:!1}),be()}))}))},isPartialFulfilledOrderActionModalEditBtnEnabled:s.isPartialFulfilledOrderActionModalEditBtnEnabled})})]})};var va=a(1707);const Aa=e=>{let{label:t,path:a,isLast:n}=e;return n?(0,G.jsx)("span",{className:"breadcrumb-item current",children:t}):(0,G.jsx)(sa.N_,{to:a,className:"breadcrumb-item",children:t})},Sa=()=>{const e=(0,k.zy)(),[t,a]=(0,g.useState)([]),[n]=(0,sa.ok)();return(0,g.useEffect)((()=>{if(e){const t=e.pathname.split("/"),s=[];t.forEach(((e,t)=>{switch(e){case"material-planner-plan":s.push({label:"Home",path:"/material-planner"}),s.push({label:"Order ID",path:""});break;case"plan":s.push({label:"Plan",path:"/material-planner/plan"})}})),s.push({label:n.get("orderOrderId"),path:""}),a(s)}}),[e]),(0,G.jsx)("nav",{"aria-label":"Breadcrumb",children:(0,G.jsx)("ol",{className:"breadcrumb-container",children:t.map(((e,a)=>(0,G.jsxs)("li",{children:[(0,G.jsx)(Aa,{label:e.label,path:e.path,isLast:a===t.length-1}),a<t.length-1&&(0,G.jsx)("span",{className:"breadcrumb-separator",children:(0,G.jsx)(va.A,{})})]},e.path)))})})},ba=e=>{let{open:t,onClose:a,failureReasonText:n="",isResolutionDateRequired:s=null,nextStepFn:l=(()=>{}),setData:r,onSubmit:i,handleAdd2:o,loading:c,tab:d}=e;return console.log("FailureReasonSuccessModal isResolutionDateRequired",s),(0,G.jsx)(V.A,{open:t,onClose:a,wrapperClasses:"px-5 py-4",width:"81vw",hideCloseIcon:ee.A,crossIconClasses:"w-2.5vw w-5vw--mob h-2.5vw h-5vw--mob",children:(0,G.jsxs)("div",{className:"failure-submit-success-message",children:[(0,G.jsx)("p",{children:(0,G.jsx)("strong",{children:"Success!"})}),(0,G.jsxs)("p",{children:["Failure Reason ",(0,G.jsx)("strong",{children:n})," with Resolution Date required"," ",(0,G.jsx)("strong",{children:s?"true":"false"})," is submitted successfully."]}),(0,G.jsx)(ua,{onClick:l,color:"blue",customStyle:{borderRadius:"0.5vw",border:"1px solid grey",padding:"0.7vw",marginBottom:"1rem",marginTop:"1rem",fontSize:"1rem"},children:"OK"})]})})};const Ca=function(){const{postFailureReason:e,error:t,loading:a}=pa(),{getFailureReasons:n}=xa(),[s,l]=(0,g.useState)(null),[r,i]=(0,g.useState)(!1),[o,c]=(0,g.useState)(null),[d,u]=(0,g.useState)(null),[h,m]=(0,g.useState)(!1);return(0,g.useEffect)((()=>{n().then((e=>{console.log("getFailureReasons data",e),l(e)}))}),[h]),(0,G.jsxs)("div",{className:"mx-3 my-2 mp-instruction-layout",children:[(0,G.jsx)("div",{className:"mp-instruction-header",children:(0,G.jsx)("p",{className:"instruction-text",children:(0,G.jsx)("strong",{children:"Failure reasons:"})})}),(0,G.jsxs)("div",{className:"material-planner-layout-body",children:[(0,G.jsx)("div",{className:"failure-reasons-list-container",children:s&&Object.entries(s).map((e=>{let[t,a]=e;return(0,G.jsx)("div",{children:(0,G.jsx)("li",{children:a.name})},t)}))}),!r&&(0,G.jsx)(ua,{onClick:()=>{i(!0)},color:"blue",customStyle:{borderRadius:"0.5vw",border:"1px solid grey",padding:"0.7vw",marginBottom:"1rem",marginTop:"1rem",fontSize:"1rem"},children:"Add a new Failure Reason"}),r&&(0,G.jsxs)("form",{action:"",method:"post",className:"failure-reason-form",children:[(0,G.jsx)("div",{children:(0,G.jsx)("input",{type:"text",name:"failureReason",placeholder:"Write failure reason here",value:o,onChange:e=>{console.log("Updated value: ".concat(e.target.value)),c(e.target.value)},style:{borderRadius:"0.5vw",border:"1px solid grey",padding:"0.75vw",marginBottom:"1rem",fontSize:"1rem",width:"25vw"}})}),(0,G.jsx)("div",{style:{fontSize:"1rem"},children:"Resolution Date required?"}),(0,G.jsxs)("div",{className:"checkbox-items-container",children:[(0,G.jsx)("div",{children:(0,G.jsxs)("label",{children:["Yes",(0,G.jsx)("input",{type:"checkbox",name:"isResolutionDateRequiredYes",checked:!0===d,onChange:e=>{console.log("Yes checkbox updated: ".concat(e.target.checked)),u(!!e.target.checked||!1===d&&null)}})]})}),(0,G.jsx)("div",{children:(0,G.jsxs)("label",{children:["No",(0,G.jsx)("input",{type:"checkbox",name:"isResolutionDateRequiredNo",checked:!1===d,onChange:e=>{console.log("No checkbox updated: ".concat(e.target.checked)),u(!e.target.checked&&(!0!==d||null))}})]})})]}),(0,G.jsx)(ua,{onClick:()=>{e(o,d).then((e=>{console.log("postFailureReason data",e),e&&"OK"===e.message&&(m(!0),i(!1))})).catch((e=>{console.error("postFailureReason error",e)}))},color:"blue",customStyle:{borderRadius:"0.5vw",border:"1px solid grey",padding:"0.7vw",marginBottom:"1rem",fontSize:"1rem"},disabled:!o||null===d,children:"Submit"})]})]}),h&&(0,G.jsx)(ba,{open:h,onClose:()=>{m(!1),c("")},failureReasonText:o,isResolutionDateRequired:d,nextStepFn:()=>{m(!1)}})]})};const _a=function(){const e=(0,k.Zp)(),[t]=(0,sa.ok)(),[a,n]=(0,g.useState)([]),{fetchBOM:s,error:l,loading:r}=(()=>{const[e,t]=(0,g.useState)(!1),[a,n]=(0,g.useState)(null),{token:s}=(0,j.d4)((e=>e[X.X.AUTH])),l={Authorization:"Bearer ".concat(s),"Content-Type":W.yw.APPLICATION_JSON},r=new W.Ay,i=(0,g.useCallback)((async e=>{const n="".concat(Y.H.ORDERS,"/order-bom/").concat(e,"/");try{return t(!0),(await r.get(n,{},l)).data}catch(a){console.error(a.message||"Error in fetching BOM by id")}finally{t(!1)}}),[r,l]);return{loading:e,error:a,fetchBOM:i}})(),[i,o]=(0,g.useState)(),[c,d]=(0,g.useState)(0),[u,h]=(0,g.useState)(0),[m,p]=(0,g.useState)(!1),[x,f]=(0,g.useState)({});return(0,g.useEffect)((()=>{t.get("orderId")&&s(t.get("orderId")).then((e=>n(e.items)))}),[]),(0,G.jsxs)("div",{className:"mx-3 my-2 mp-instruction-layout",children:[(0,G.jsxs)("div",{className:"mp-instruction-header",children:[(0,G.jsx)(Sa,{}),(0,G.jsx)("p",{className:"instruction-text",children:"Please follow the instruction to complete the Material Planning for this Order ID"})]}),(0,G.jsx)("div",{className:"instruction-layout-body",children:(0,G.jsx)(ra,{edit:m,columns:[{id:1,title:"Material Code",render:e=>e.material_code},{id:2,title:"Material Name",render:e=>e.material_name},{id:3,title:"Qty",render:e=>e.quantity}],rows:a,rowsPerPage:5,loading:"fetch"===i,titleCellClasses:"c-gray fw-700",page:u,setPage:h,paginator:!0,serialize:!0,total:c})}),(0,G.jsxs)("div",{className:"material-planner-layout-footer",children:[(0,G.jsx)(ua,{onClick:()=>e("/material-planner"),white:!0,width:"8rem",height:"2.5rem",bordered:!0,customStyle:{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"},children:"Back"}),(0,G.jsx)(ua,{onClick:async()=>{console.log("submit");e("/material-planner-plan/scanning?orderId=".concat(t.get("orderId"),"&orderStatus=").concat(t.get("orderStatus"),"&orderType=").concat(t.get("orderType"),"&orderOrderId=").concat(t.get("orderOrderId")))},color:"green",width:"8rem",height:"2.5rem",children:"Plan"})]})]})},ka=e=>{let{kitting:t=!1,payload:a}=e;const[n,s]=(0,g.useState)(!1),[l,r]=(0,g.useState)(null);(0,g.useEffect)((()=>{i(),console.log("payload",a)}),[]);const i=async()=>{try{const e=(await navigator.usb.getDevices()).filter((e=>4611===e.vendorId));if(e.length>0){const t=e[0];console.log("Auto-connecting to device:",t),await t.open(),null===t.configuration&&await t.selectConfiguration(1),await t.claimInterface(0),r(t),s(!0),console.log("Auto-connected to printer:",t)}else N.oR.error("No previously printer devices found."),console.log("No previously connected devices found.")}catch(Fe){console.error("Error during auto-connect:",Fe),N.oR.error("Error during auto-connect:",Fe)}},o=async e=>{if(l)try{const t=(new TextEncoder).encode(e);await l.transferOut(1,t),console.log("Command sent:",e)}catch(Fe){N.oR.error("Error sending command to printer:",Fe),console.error("Error sending command to printer:",Fe)}else console.log("No printer connected.")};return(0,G.jsx)("div",{children:n?(0,G.jsxs)("div",{children:[(0,G.jsxs)("p",{children:["Printer connected: ",(null===l||void 0===l?void 0:l.productName)||"TSC Printer"]}),(0,G.jsx)(Z.A,{color:"light_green",onClick:()=>{if(!0===t){const e='\n            SPEED 2\n            DENSITY 12\n            SIZE 3:2\n            GAP 0,0\n            DIRECTION 1\n            CLS\n            FONT 0,0,1,0,0,""\n            TEXT 110,30,"4",0,1,1,"Dhoot Transmission"\n            TEXT 70,100,"2",0,1,1,"FG CODE : '.concat(a[0].Fg_Code,'"\n            TEXT 70,150,"2",0,1,1,"ORDER No : ').concat(a[0].Order_no,'"\n            TEXT 70,200,"2",0,1,1,"QUANTITY: ').concat(a[0].Quantity,'"\n            QRCODE 420,200,M,4,A,0,M2,"').concat(a[0].QR_DATA,'"\n            PRINT 1,1\n            ');o(e),console.log("kitting Payload".kitting)}else a.map((e=>{const t='\n                SPEED 2\n                DENSITY 12\n                SIZE 3:2\n                GAP 0,0\n                DIRECTION 1\n                CLS\n                FONT 0,0,1,0,0,""\n                TEXT 110,30,"4",0,1,1,"Dhoot Transmission"\n                TEXT 70,100,"2",0,1,1,"Part No : '.concat(e.material_code,'"\n                TEXT 70,150,"2",0,1,1,"GRN No : ').concat(e.grn_number,'"\n                TEXT 70,200,"2",0,1,1,"GRN Date : ').concat(be()(e.grn_date).format("ll"),'"\n                TEXT 70,250,"2",0,1,1,"QUANTITY : ').concat(e.quantity,'"\n                QRCODE 420,200,M,4,A,0,M2,"').concat(e.QR_DATA,'"\n                PRINT 1,1\n                ');o(t),console.log("packetBreaking Payload".packetBreaking)}))},children:"Print Label"})]}):(0,G.jsx)(Z.A,{color:"light_green",onClick:async()=>{try{const e=await navigator.usb.requestDevice({filters:[{vendorId:4611}]});await e.open(),null===e.configuration&&await e.selectConfiguration(1),console.log("Available interfaces:",e.configuration.interfaces),await e.claimInterface(0),console.log("claimInterface"),r(e),s(!0),N.oR.success("Printer connected"),console.log("Printer connected manually:",e)}catch(Fe){console.error("Failed to connect to printer manually:",Fe),N.oR.error("Failed to connect to printer manually:",Fe)}},children:"Connect to Printer"})})},Na=e=>{let{qty1:t=0,qty2:a=0,label1:n="",label2:s="",noStepFn:l=(()=>{}),nextStepFn:r=(()=>{})}=e;(0,g.useRef)();const[i,o]=(0,g.useState)(null);return(0,g.useEffect)((()=>{const[e,t,a,l,r]=n.split("#"),[i,c,d,u,h]=s.split("#"),m=[{head:"Dhoot Transmission",material_code:e,quantity:t,unit:a,grn_number:l,grn_date:r,QR_DATA:n},{head:"Dhoot Transmission",material_code:i,quantity:c,unit:d,grn_number:u,grn_date:h,QR_DATA:s}];console.log("transformedKittingLabelDataArray",m),o(m)}),[]),(0,G.jsxs)("div",{className:"action_modal__container",children:[(0,G.jsx)("div",{children:(0,G.jsx)("img",{src:"/error_outline.svg",alt:"icon"})}),(0,G.jsx)("span",{children:"Please break the packet into 2 parts: "}),(0,G.jsxs)("span",{children:["First one with ",(0,G.jsx)("strong",{children:t})," units, and second one with"," ",(0,G.jsx)("strong",{children:a})," units."," "]}),(0,G.jsxs)("span",{children:["Then, please paste label: ",(0,G.jsx)("strong",{children:n})," on the first packet,"]}),(0,G.jsxs)("span",{children:["and label: ",(0,G.jsx)("strong",{children:s})," on the second packet."," "]}),(0,G.jsx)(ka,{kitting:!1,payload:i}),(0,G.jsx)("div",{className:"material-planner-layout-footer",style:{gap:"2.5rem"},children:(0,G.jsx)(ua,{onClick:r,color:"green",width:"16rem",height:"2.5rem",children:"I have pasted new labels"})})]})},Ea=e=>{let{orderId:t=null,getKittingLabel:a=(()=>{}),noStepFn:n=(()=>{}),nextStepFn:s=(()=>{})}=e;(0,g.useRef)();const[l,r]=(0,g.useState)(null);return(0,g.useEffect)((()=>{a(t).then((e=>{console.log("getKittingLabel data",e);const t=[{head:"Dhoot Transmission",Fg_Code:e.fg_code,Order_no:e.order_no.toString(),Quantity:e.quantity.toString(),QR_DATA:e.label}];console.log("transformedKittingLabelDataArray",t),r(t)}))}),[]),(0,G.jsxs)("div",{className:"action_modal__container",children:[(0,G.jsx)("div",{children:(0,G.jsx)("img",{src:"/error_outline.svg",alt:"icon"})}),(0,G.jsxs)("div",{style:{marginBottom:"5vw"},children:[(0,G.jsx)("strong",{children:"Do you want to print kitting Label for this order?"})," "]}),(0,G.jsx)(ka,{kitting:!0,payload:l}),(0,G.jsx)("div",{style:{gap:"2.5rem",display:"flex",flexDirection:"row"},children:(0,G.jsx)(ua,{onClick:n,white:!0,width:"8rem",height:"2.5rem",bordered:!0,customStyle:{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"},children:"No"})})]})},Ia=e=>{let{onClose:t,onScan:a,noStepFn:n,nextStepFn:s}=e;const[l,r]=(0,g.useState)(null),{getFailureReasons:i}=xa(),[o,c]=(0,g.useState)(null);return(0,g.useEffect)((()=>{i().then((e=>{console.log("getFailureReasons data",e),r(e)}))}),[]),(0,G.jsx)("div",{className:"action_modal__container",children:(0,G.jsxs)("div",{className:"material-planner-layout-footer",style:{gap:"2.5rem",display:"flex",flexDirection:"column"},children:[(0,G.jsxs)("form",{style:{gap:"1rem",display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%"},children:[(0,G.jsx)("p",{style:{margin:"0",alignSelf:"center",fontWeight:"600"},children:"Partially Fulfilled Order Detected"}),(0,G.jsx)("p",{style:{margin:"0",alignSelf:"center",fontSize:"0.85rem"},children:"Please select the method to replenish and proceed as per guidelines"})," ",l&&Object.entries(l).map((e=>{let[t,a]=e;return(0,G.jsxs)("div",{children:[" ",(0,G.jsxs)("label",{children:[" ",(0,G.jsx)("input",{type:"checkbox",value:t,checked:o===t,onChange:()=>(e=>{c(e)})(t)})," ",a.name," "]})," "]},t)}))," "]}),(0,G.jsxs)("div",{style:{gap:"2.5rem",display:"flex",flexDirection:"row"},children:[(0,G.jsx)(ua,{onClick:n,white:!0,width:"8rem",height:"2.5rem",bordered:!0,customStyle:{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"},children:"Cancel"}),(0,G.jsx)(ua,{onClick:()=>s(o,l[o]),color:"green",width:"8rem",height:"2.5rem",children:"Submit"})]})]})})},Ta=e=>{let{onClose:t,onScan:a,noStepFn:n,nextStepFn:s}=e;return(0,G.jsx)("div",{className:"action_modal__container",children:(0,G.jsxs)("div",{className:"material-planner-layout-footer",style:{gap:"1rem",display:"flex",flexDirection:"column"},children:[(0,G.jsx)("p",{children:"Failure Reason has been submitted successfully!"}),(0,G.jsx)("p",{children:"An email has also been sent to the supervisor regarding this."}),(0,G.jsx)(ua,{onClick:s,color:"green",width:"8rem",height:"2.5rem",children:"OK"})]})})},Ra=e=>{let{onClose:t,onScan:a,noStepFn:n,nextStepFn:s}=e;const[l,r]=(0,g.useState)({username:"",password:""}),i=e=>{const{name:t,value:a}=e.target;r({...l,[t]:a})},o=e=>{e.preventDefault(),console.log("Form Data:",l),s(l.username,l.password)};return(0,G.jsx)("div",{className:"action_modal__container",children:(0,G.jsxs)("div",{className:"material-planner-layout-footer",style:{gap:"2.5rem",display:"flex",flexDirection:"column"},children:[(0,G.jsx)("p",{children:"Supervisor Login is required to confirm partial submission."}),(0,G.jsx)("p",{children:"Please Login."}),(0,G.jsxs)("form",{onSubmit:o,style:{gap:"2.5rem",display:"flex",flexDirection:"column"},children:[" ",(0,G.jsxs)("div",{children:[" ",(0,G.jsx)("label",{htmlFor:"username",children:"Username:"})," ",(0,G.jsx)("input",{type:"text",id:"username",name:"username",value:l.username,onChange:i,required:!0})," "]})," ",(0,G.jsxs)("div",{children:[" ",(0,G.jsx)("label",{htmlFor:"password",children:"Password:"})," ",(0,G.jsx)("input",{type:"password",id:"password",name:"password",value:l.password,onChange:i,required:!0})," "]})," ",(0,G.jsxs)("div",{style:{gap:"2.5rem",display:"flex"},children:[(0,G.jsx)(ua,{onClick:n,white:!0,width:"8rem",height:"2.5rem",bordered:!0,customStyle:{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"},children:"Cancel"})," ",(0,G.jsx)(ua,{onClick:o,color:"green",width:"8rem",height:"2.5rem",children:"Submit"})]})]})]})})},Da=e=>{let{onClose:t,onScan:a,noStepFn:n,nextStepFn:s}=e;return(0,G.jsx)("div",{className:"action_modal__container",children:(0,G.jsxs)("div",{className:"material-planner-layout-footer",style:{gap:"2.5rem",display:"flex",flexDirection:"column"},children:[(0,G.jsx)("p",{children:"Thank you for supervisor logging in."}),(0,G.jsxs)("p",{children:["Please close this modal and click ",(0,G.jsx)("strong",{children:"Submit"})," button at the bottom of page to issue the materials for this order."]}),(0,G.jsx)(ua,{onClick:s,color:"green",width:"8rem",height:"2.5rem",children:"Close"})]})})},Pa=e=>{let{onClose:t,onScan:a,noStepFn:n,nextStepFn:s}=e;const[l,r]=(0,g.useState)(""),i=(0,g.useRef)(null);(0,g.useEffect)((()=>{i.current.focus()}),[]);return(0,G.jsxs)("div",{className:"action_modal__container",children:[(0,G.jsx)("p",{style:{fontWeight:"600",fontSize:"1.2rem"},children:"Stock Transfer"}),(0,G.jsx)("p",{style:{fontWeight:"600",fontSize:"1.1rem"},children:"Please scan the barcode of the substitute material to proceed."}),(0,G.jsx)("div",{children:(0,G.jsx)("input",{ref:i,type:"text",onKeyPress:e=>{"Enter"===e.key&&(console.log("Scanned Barcode:",e.target.value),r(e.target.value),a(e.target.value),e.target.value="")},style:{width:"100%",padding:"10px",fontSize:"16px"},placeholder:"Scan or type available barcode here"})}),l&&(0,G.jsxs)("p",{children:["Scanned: ",l]}),(0,G.jsxs)("div",{className:"material-planner-layout-footer",style:{gap:"2.5rem"},children:[(0,G.jsx)(ua,{onClick:n,white:!0,width:"8rem",height:"2.5rem",bordered:!0,customStyle:{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"},children:"Cancel"}),(0,G.jsx)(ua,{onClick:s,color:"green",width:"8rem",height:"2.5rem",children:"Submit"})]})]})},Oa=e=>{let{onClose:t,onScan:a,noStepFn:n,nextStepFn:s,materialCodes:l}=e;console.log("materialCodes",l);const[r,i]=(0,g.useState)("");return(0,G.jsxs)("div",{className:"action_modal__container",children:[(0,G.jsx)("p",{style:{fontWeight:"600",fontSize:"1.2rem"},children:"Stock Transfer"}),(0,G.jsx)("span",{style:{fontWeight:"600",fontSize:"1.1rem"},children:"Please select the material to substitute (stock transfer)."}),(0,G.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignContent:"start",width:"100%",gap:"1vw"},children:[l.map(((e,t)=>(0,G.jsxs)("div",{style:{display:"flex",gap:"1vw",alignItems:"baseline"},children:[(0,G.jsx)("input",{type:"radio",id:"material-".concat(t),name:"materialCode",value:e,checked:r===e,onChange:()=>(e=>{i(e)})(e)}),(0,G.jsx)("label",{htmlFor:"material-".concat(t),children:e})]},t))),(0,G.jsx)("div",{})]}),(0,G.jsxs)("div",{className:"material-planner-layout-footer",style:{gap:"2.5rem"},children:[(0,G.jsx)(ua,{onClick:n,white:!0,width:"8rem",height:"2.5rem",bordered:!0,customStyle:{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"},children:"Cancel"}),(0,G.jsx)(ua,{onClick:()=>{s(r)},color:"green",width:"8rem",height:"2.5rem",children:"Submit"})]})]})},La=e=>{let{onClose:t,onScan:a,noStepFn:n,nextStepFn:s,materialCodes:l}=e;console.log("materialCodes",l);const[r,i]=(0,g.useState)("");return(0,G.jsxs)("div",{className:"action_modal__container",children:[(0,G.jsx)("span",{style:{fontWeight:"600",fontSize:"1.1rem"},children:"Please select the reference material"}),(0,G.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignContent:"start",width:"100%",gap:"1vw"},children:[l&&l.map(((e,t)=>(0,G.jsxs)("div",{style:{display:"flex",gap:"1vw",alignItems:"baseline"},children:[(0,G.jsx)("input",{type:"radio",id:"material-".concat(t),name:"materialCode",value:e,checked:r===e,onChange:()=>(e=>{i(e)})(e)}),(0,G.jsx)("label",{htmlFor:"material-".concat(t),children:e})]},t))),(0,G.jsx)("div",{})]}),(0,G.jsxs)("div",{className:"material-planner-layout-footer",style:{gap:"2.5rem"},children:[(0,G.jsx)(ua,{onClick:n,white:!0,width:"8rem",height:"2.5rem",bordered:!0,customStyle:{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"},children:"Cancel"}),(0,G.jsx)(ua,{onClick:()=>{s(r)},color:"green",width:"8rem",height:"2.5rem",children:"Submit"})]})]})},Fa=e=>{let{onClose:t,onScan:a,noStepFn:n,nextStepFn:s,newLabel:l}=e;(0,g.useRef)();const[r,i]=(0,g.useState)(null);return(0,g.useEffect)((()=>{const[e,t,a,n,s]=l.split("#"),r=[{head:"Dhoot Transmission",material_code:e,quantity:t,unit:a,grn_number:n,grn_date:s,QR_DATA:l}];console.log("transformedKittingLabelDataArray",r),i(r)}),[]),(0,G.jsx)("div",{className:"action_modal__container",children:(0,G.jsxs)("div",{className:"material-planner-layout-footer",style:{gap:"1rem",display:"flex",flexDirection:"column"},children:[(0,G.jsx)("p",{children:"Stock Transfer Success!"}),(0,G.jsx)("p",{children:"Please paste the following new label on the scanned packet."}),(0,G.jsx)("p",{children:(0,G.jsx)("strong",{children:l})}),(0,G.jsx)(ka,{kitting:!1,payload:r}),(0,G.jsx)("p",{children:"Click Issue Material button below to scan the generated label and issue the corresponding material for this order."}),(0,G.jsx)(ua,{onClick:s,color:"green",width:"8rem",height:"2.5rem",children:"Issue Material"})]})})};const Ma=function(e){let{orderId:t}=e;const a=(0,k.Zp)(),[n,s]=(0,sa.ok)(),[l,r]=(0,g.useState)({submitLoading:!1,submitDisabled:!0}),[i,o]=(0,g.useState)(!0),[c,d]=(0,g.useState)(!0),[u,h]=(0,g.useState)(!1),[m,p]=(0,g.useState)([]),{fetchMaterialsRequired:x,setOrderHoldQuantity:f,updateOrderState:y,generateLabels:w,submitFailureReason:v,supervisorLogin:A,stockTransfer:S,getKittingLabel:b,printLabels:C,error:_,loading:N}=xa(),{verifyMaterial:E,error:I,loading:T}=(()=>{const[e,t]=(0,g.useState)(!1),[a,n]=(0,g.useState)(null),{token:s}=(0,j.d4)((e=>e[X.X.AUTH])),l={Authorization:"Bearer ".concat(s),"Content-Type":W.yw.APPLICATION_JSON},r=new W.Ay,i=(0,g.useCallback)((async(e,n,s,i)=>{const o="".concat(Y.H.ORDERS,"/material-verifier/").concat(e,"/"),c={material_code:n,grn_number:s,quantity:i};try{return t(!0),(await r.post(o,c,l)).data}catch(a){console.error(a.message||"Error in verifying material")}finally{t(!1)}}),[r,l]);return{loading:e,error:a,verifyMaterial:i}})(),[R,D]=(0,g.useState)({}),[P,O]=(0,g.useState)(),[L,F]=(0,g.useState)(0),[M,U]=(0,g.useState)(0),[z,q]=(0,g.useState)(!1),[H,B]=(0,g.useState)(!1),[Q,K]=(0,g.useState)(!1),[Z,J]=(0,g.useState)(""),[$,te]=(0,g.useState)(""),[ae,ne]=(0,g.useState)({material_on_hold:{}}),{getOrderHoldQuantity:se,submitBOM:le}=pa(),[re,ie]=(0,g.useState)(!1),[oe,ce]=(0,g.useState)(!1),[de,ue]=(0,g.useState)(!1),[he,me]=(0,g.useState)(!1),[pe,xe]=(0,g.useState)(!1),[ge,fe]=(0,g.useState)(!1),[je,ye]=(0,g.useState)(!1),[we,ve]=(0,g.useState)(!1),[Ae,Se]=(0,g.useState)(!1),[be,Ce]=(0,g.useState)(null),[_e,ke]=(0,g.useState)(""),[Ne,Ee]=(0,g.useState)(null),[Ie,Te]=(0,g.useState)(null),[Re,De]=(0,g.useState)(null),[Pe,Oe]=(0,g.useState)(null),Le=(0,g.useRef)(null),Me=[{id:1,title:"Material",render:e=>e.material_name},{id:2,title:"Location",render:e=>e.location},{id:3,title:"Required Qty",render:e=>e.required},{id:4,title:"Collected Qty",render:e=>(0,G.jsx)("div",{children:(0,G.jsxs)("span",{children:[e.collected," ",""]})})},{id:5,title:"-",render:e=>(0,G.jsx)(Ue,{rowData:e})}],Ue=e=>{let{rowData:t}=e},ze=e=>{const t=e.every((e=>e.required===e.collected));return console.log("allCollected",t),t},qe=e=>{const t=e.filter((e=>e.required>e.collected));return t.length>0?t.map((e=>e.material_code)):[]},He=e=>{J(e)},Ge=(e,a,l)=>{ne((t=>{const r=JSON.parse(JSON.stringify(ae));r.material_on_hold[e]?r.material_on_hold[e]=[...r.material_on_hold[e],{grn_number:a,quantity:l}]:r.material_on_hold[e]=[{grn_number:a,quantity:l}],console.log("newState",r);const i=n.get("orderId");return f(i,r).then((e=>{console.log("setOrderHoldQuantity data",e),y(i,"ISSUING").then((e=>{console.log("updateOrderState data",e),n.set("orderStatus","ISSUING"),s(n)}))})),r})),f(t,ae).then((e=>{console.log("setOrderHoldQuantity data",e),y(t,"ISSUING").then((e=>{console.log("updateOrderState data",e)}))}))};return(0,g.useEffect)((()=>{n.get("orderId")&&x(n.get("orderId")).then((e=>{if("RUNNING"!==n.get("orderStatus")&&Le.current.focus(),"PLAN"===n.get("orderStatus")){const t=e.items.map((e=>({...e,collected:0})));p(t)}if("ISSUING"===n.get("orderStatus")||"RUNNING"===n.get("orderStatus")){const t=e.items;se(n.get("orderId")).then((e=>{console.log("getOrderHoldQuantity data",e),ne({material_on_hold:e});const a=((e,t)=>t.map((t=>{const a=t.material_code;let n=0;return e[a]&&(n=e[a].reduce(((e,t)=>e+t.quantity),0)),{...t,collected:n}})))(e,t);console.log("newTableData",a),p(a)}))}"RUNNING"===n.get("orderStatus")&&(o(!1),d(!1),h(!0))}))}),[]),(0,g.useEffect)((()=>{Z&&(e=>{const[t,a,s,l,r]=e.split("#"),i=parseFloat(a),o=n.get("orderType"),c=m.find((e=>e.material_code===t)),d=c.required-c.collected;if(console.log("currentMaterial.collected",c.collected),console.log("qtyRequired",d),"ASSEMBLY"==o){if(0===d)return void alert("Item already collected in full required quantity. Please scan a different item or submit the order.");if(d&&i>d){const e=i-d;return void w(t,l,r,s,d,e).then((t=>{K(!1),D({qty1:d,qty2:e,label1:t.label1,label2:t.label2}),q(!0)}))}}E(n.get("orderId"),t,l,i).then((e=>{if("OK"===e.message){if("ASSEMBLY"==o&&i<=d){const e=m.map((e=>e.material_code===t?{...e,collected:e.collected+i}:e));p((e=>e.map((e=>e.material_code===t?{...e,collected:e.collected+i}:e)))),Ge(t,l,i),n.get("orderId"),console.log("updatedTableData",e),K(!1)}if("ACC"===o||"LPC"===o){const e=m.map((e=>e.material_code===t?{...e,collected:e.collected+i}:e));p(e),Ge(t,l,i),console.log("issuedMaterialQty before setOrderHoldQuantity on scan QR code",ae),K(!1)}}else alert("Incorrect bar code. Please try again with different bar code.")})).catch((e=>{console.error("Error during verification:",e)})),J(null)})(Z)}),[Z]),(0,G.jsxs)("div",{className:"mx-3 my-2 mp-instruction-layout",children:[(0,G.jsxs)("div",{className:"mp-instruction-header",children:[(0,G.jsx)(Sa,{}),c&&(0,G.jsxs)("div",{style:{display:"flex",alignItems:"center",position:"fixed",top:"8vw",left:"200px",marginLeft:"1rem",width:"60vw",height:"4vw",backgroundColor:"white",padding:"10px",zIndex:1e3},children:[(0,G.jsx)("p",{className:"instruction-text",style:{marginRight:"10px"},children:"Please Scan the Barcode or enter Qty"}),(0,G.jsx)("input",{ref:Le,type:"text",onKeyPress:e=>{"Enter"===e.key&&(console.log("Scanned Barcode:",e.target.value),ke(e.target.value),He(e.target.value),e.target.value="")},style:{width:"100%",padding:"10px",fontSize:"16px"},placeholder:"Click here and Scan or Type barcode here"})]})]}),(0,G.jsx)("div",{className:"instruction-layout-body",children:(0,G.jsx)(ra,{columns:Me,rows:m,rowsPerPage:5,loading:"fetch"===P,titleCellClasses:"c-gray fw-700",page:M,setPage:U,paginator:!0,serialize:!0,total:L})}),(0,G.jsxs)("div",{className:"material-planner-layout-footer",children:[(0,G.jsx)(ua,{onClick:async()=>{const e=n.get("orderId"),t=n.get("orderType");try{if("ASSEMBLY"===t&&!pe){console.log("tableData",m);if(!ze(m))return void ie(!0)}y(e,"RUNNING").then((n=>{console.log("updateOrderState data",n),le(e,{material_issue:ae.material_on_hold}).then((e=>{console.log("submit BOM data",e),"ASSEMBLY"!==t?a("/material-planner/"):B(!0)}))}))}catch(Fe){console.error(Fe.message),alert(Fe.message)}},disabled:!i,color:"green",width:"8rem",height:"2.5rem",loading:l.submitLoading,customStyle:{backgroundColor:"#86D56A"},children:"Submit"}),u&&(0,G.jsx)(ua,{onClick:()=>{console.log("handlePrintHoldQty");const e=document.createElement("table"),t=document.createElement("tr");["S.no","Material Code","Quantity","GRN Number"].forEach((e=>{const a=document.createElement("th");a.textContent=e,t.appendChild(a)})),e.appendChild(t);let a=1;for(const s in ae.material_on_hold)ae.material_on_hold[s].forEach((t=>{const n=document.createElement("tr"),l=document.createElement("td");l.textContent=a++,n.appendChild(l);const r=document.createElement("td");r.textContent=s,n.appendChild(r);const i=document.createElement("td");i.textContent=t.quantity,n.appendChild(i);const o=document.createElement("td");o.textContent=t.grn_number,n.appendChild(o),e.appendChild(n)}));const n=window.open("","_blank");n.document.write("<html><head><title>Print Table</title><style>table { width: 100%; border-collapse: collapse; }th, td { border: 1px solid #dddddd; text-align: center; padding: 8px; }th { background-color: #f2f2f2; }tr:nth-child(even) { background-color: #f9f9f9; }tr:nth-child(odd) { background-color: #ffffff; }</style></head><body>"),n.document.write(e.outerHTML),n.document.write("</body></html>"),n.document.close(),n.print()},color:"blue",width:"10rem",height:"2.5rem",loading:l.submitLoading,children:"Print Hold Quanity"})]}),z&&(0,G.jsx)(V.A,{open:z,onClose:()=>q(!1),width:"75vw",top:"5vh",hideCloseIcon:ee.A,children:(0,G.jsx)(Na,{qty1:R.qty1,qty2:R.qty2,label1:R.label1,label2:R.label2,noStepFn:()=>{q(!1)},nextStepFn:()=>{q(!1)}})}),H&&(0,G.jsx)(V.A,{open:H,onClose:()=>B(!1),width:"75vw",top:"5vh",hideCloseIcon:ee.A,children:(0,G.jsx)(Ea,{orderId:n.get("orderId"),getKittingLabel:b,noStepFn:()=>{console.log("handleKittingQRPrintModalDenial"),B(!1),a("/material-planner/")},nextStepFn:()=>{console.log("handleKittingQRPrintModalSubmit");const e=n.get("orderId");b(e).then((e=>{console.log("getKittingLabel data",e);const t=[{head:"Dhoot Transmission",Fg_Code:e.fg_code,Order_no:e.order_no.toString(),Quantity:e.quantity.toString(),QR_DATA:e.label}];console.log("transformedKittingLabelDataArray",t),C(t).then((e=>{console.log("printLabels data",e),B(!1),a("/material-planner/")}))}))}})}),re&&(0,G.jsxs)(V.A,{open:re,onClose:()=>ie(!1),width:"50vw",top:"10vh",hideCloseIcon:!1,children:[" ",(0,G.jsx)(Ia,{noStepFn:()=>{ie(!1)},nextStepFn:(e,t)=>{if(e&&"34a1747e-46fe-417b-891f-e2ab52ff1352"===e){console.log("stock transfer needed"),ie(!1),te(null);const e=qe(m);return Ee(e),void ye(!0)}if(e){console.log("failureReasonId",e),console.log("failureReasonDescription",t);const a=qe(m);Ee(a),De(e),ie(!1),ve(!0)}}})," "]}),je&&(0,G.jsxs)(V.A,{open:je,onClose:()=>ye(!1),width:"50vw",top:"10vh",hideCloseIcon:!1,children:[" ",(0,G.jsx)(Oa,{noStepFn:()=>{console.log("handleStockTransferMaterialSelectionModalDenial"),ye(!1)},nextStepFn:e=>{console.log("handleStockTransferMaterialSelectionModalSubmit"),console.log("materialCode",e),Te(e),ye(!1),fe(!0)},materialCodes:Ne})," "]}),we&&(0,G.jsxs)(V.A,{open:we,onClose:()=>ve(!1),width:"50vw",top:"10vh",hideCloseIcon:!1,children:[" ",(0,G.jsx)(La,{noStepFn:()=>{console.log("handleFailureReasonMaterialSelectionModalDenial"),ve(!1)},nextStepFn:e=>{console.log("handleFailureReasonMaterialSelectionModalSubmit"),console.log("materialCode",e),Oe(e);const t=n.get("orderId");console.log("materialCode",e);const a=(()=>{const e=new Date,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(n)})();console.log("todaysDate",a),v(t,e,Re,a).then((e=>{console.log("submitFailureReason data",e),e&&(ve(!1),ce(!0))})).catch((e=>{ie(!0)}))},materialCodes:Ne})," "]}),oe&&(0,G.jsxs)(V.A,{open:oe,onClose:()=>ce(!1),width:"50vw",top:"10vh",hideCloseIcon:!1,children:[" ",(0,G.jsx)(Ta,{nextStepFn:()=>{console.log("handleFailureReasonSubmittedModalSubmit"),ce(!1),ue(!0)}})," "]}),de&&(0,G.jsxs)(V.A,{open:de,onClose:()=>ue(!1),width:"50vw",top:"10vh",hideCloseIcon:!1,children:[" ",(0,G.jsx)(Ra,{noStepFn:()=>{ue(!1)},nextStepFn:(e,t)=>{console.log("username, password",e,t),A(e,t).then((e=>{console.log("supervisorLogin data",e),e&&"Authentication successful"===e.message&&(ue(!1),me(!0),xe(!0))}))}})," "]}),he&&(0,G.jsxs)(V.A,{open:he,onClose:()=>me(!1),width:"50vw",top:"10vh",hideCloseIcon:!1,children:[" ",(0,G.jsx)(Da,{nextStepFn:()=>{console.log("handleSupervisorLoginSuccessModalSubmit"),me(!1)}})," "]}),ge&&(0,G.jsxs)(V.A,{open:ge,onClose:()=>fe(!1),width:"50vw",top:"10vh",hideCloseIcon:!1,children:[" ",(0,G.jsx)(Pa,{onScan:e=>{e&&te(e)},noStepFn:()=>{console.log("handleStockTransferScannerModalDenial"),fe(!1)},nextStepFn:()=>{if(console.log("handleStockTransferScannerModalSubmit"),$){const[e,t,a,n,s]=$.split("#"),l=parseFloat(t);console.log("materialCode2, quantity2, unit2, grnNumber2, grnDate2",e,l,a,n,s),S(Ie,e,l,n,a,s).then((e=>{console.log("stockTransfer data",e),e&&(te(e.label),console.log("data.label",e.label),fe(!1),Se(!0))}))}}})," "]}),Ae&&(0,G.jsxs)(V.A,{open:Ae,onClose:()=>Se(!1),width:"50vw",top:"10vh",hideCloseIcon:!1,children:[" ",(0,G.jsx)(Fa,{nextStepFn:()=>{console.log("handleNewStockTransferLabelDisplayModalSubmit"),Se(!1),Ce(!0),ue(!0)},newLabel:$})," "]})]})},Ua=[{id:1,orderID:"100",name:"100_SZXB0601",qty:25,code:"SZXB0601",description:"ACC",orderType:"ACC",status:"Issuing"},{id:2,orderID:"101",name:"200_SZXB0601",qty:25,code:"SZXB0601",description:"Desc",orderType:"LPC",status:"PLAN"},{id:3,orderID:"102",name:"SZXB0601",qty:25,code:"SZXB0601",description:"",orderType:"ASSEMBLY",status:"RUNNING"},{id:4,orderID:"140",name:"HERO887677889",qty:50,code:"HERO887677889",description:"",orderType:"ASSEMBLY",status:"PLAN"},{id:5,orderID:"140",name:"HERO887677889",qty:50,code:"HERO887677889",description:"",orderType:"ASSEMBLY",status:"PLAN"},{id:6,orderID:"140",name:"HERO887677889",qty:50,code:"HERO887677889",description:"",orderType:"ASSEMBLY",status:"PLAN"}],za=()=>{const e=(0,k.Zp)(),{fetchOrders:t,fetchOrdersMatrixView:a,fetchOrdersById:n,getOrderHoldQuantity:s,submitBOM:l,error:r,loading:i}=pa(),[c,d]=(0,g.useState)(1),[u,h]=(0,g.useState)("1"),[m,p]=(0,g.useState)(""),[x,f]=(0,g.useState)(""),[j,y]=(0,g.useState)(""),[w,v]=(0,g.useState)(!1),[A,S]=(0,g.useState)({}),[b,C]=(0,g.useState)(1),[_,N]=(0,g.useState)(null),[E,I]=(0,g.useState)(null),[T,R]=(0,g.useState)(5),[D,P]=(0,g.useState)(null),[O,L]=(0,g.useState)(null),[F,M]=(0,g.useState)(null),[U,z]=(0,g.useState)(null),[q,H]=(0,g.useState)(null),[B,Q]=(0,g.useState)(null),[W,Y]=(0,g.useState)(!0),[X,K]=(0,g.useState)(null),[Z,V]=(0,g.useState)(null),[J,$]=(0,g.useState)(["order_id"]),[ee,te]=(0,g.useState)(null),[ae,ne]=(0,g.useState)(null),[se,le]=(0,g.useState)(null),[re,ie]=(0,g.useState)(null),[oe,ce]=(0,g.useState)([]),[de,ue]=(0,g.useState)(b),he=Ua.filter((e=>(""===m||e.code.toLowerCase().includes(m.toLowerCase()))&&(""===x||e.orderType.toLowerCase().includes(x.toLowerCase()))&&(""===j||e.status.toLowerCase().includes(j.toLowerCase())))),me=Math.ceil(he.length/5),pe=()=>{(""===u||isNaN(parseInt(u,10))||parseInt(u,10)<1||parseInt(u,10)>me)&&h(c.toString())},xe=5*(c-1);he.slice(xe,xe+5);g.useEffect((()=>{d(1),h("1")}),[m,x,j]),(0,g.useEffect)((()=>{t(b,U,q,B,W,X,Z,J,ee,ae,se,re).then((e=>{ce(e.results),N(e.count);const t=Math.ceil(e.count/T);I(t),ue(b),e.previous?P(!0):P(!1),e.next?L(!0):L(!1)}))}),[b,U,q,B,W,X,Z,ee,ae,se,re]);return(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{className:"planning-overview-heading",children:"Planning"}),(0,G.jsxs)("div",{className:"planning-overview-metrics-container",children:[(0,G.jsxs)("div",{className:"planning-metrics-box1",children:[(0,G.jsx)("p",{children:"Plan"}),(0,G.jsx)("p",{children:(0,G.jsx)("strong",{children:"36"})})]}),(0,G.jsxs)("div",{className:"planning-metrics-box2",children:[(0,G.jsx)("p",{children:"Issuing"}),(0,G.jsx)("p",{children:(0,G.jsx)("strong",{children:"1"})})]}),(0,G.jsxs)("div",{className:"planning-metrics-box3",children:[(0,G.jsx)("p",{children:"Running"}),(0,G.jsx)("p",{children:(0,G.jsx)("strong",{children:"3"})})]}),(0,G.jsxs)("div",{className:"planning-last-refresh",children:[(0,G.jsxs)("div",{className:"planning-left-part",children:[(0,G.jsx)("p",{children:"Last Refresh"}),(0,G.jsx)("p",{children:"12/29/2024, 4:31:53 PM"})]}),(0,G.jsx)("div",{className:"planning-right-part",children:(0,G.jsx)(o.A,{children:(0,G.jsx)(la.A,{})})})]})]}),(0,G.jsx)("div",{style:{padding:10},children:(0,G.jsx)(ra,{columns:(e=>[{id:"order_id",title:"Order ID ".concat(!0===W?"\u2191":!1===W?"\u2193":"\u2191\u2193"),render:e=>(0,G.jsx)("span",{style:{cursor:"pointer",color:"blue"},children:e.order_id})},{id:"name",title:"Name ".concat(!0===X?"\u2191":!1===X?"\u2193":"\u2191\u2193"),render:e=>e.name},{id:"quantity",title:"Qty",title:"Qty ".concat(!0===Z?"\u2191":!1===Z?"\u2193":"\u2191\u2193"),render:e=>e.quantity},{id:"fg_code",title:"Code ".concat(!0===U?"\u2191":!1===U?"\u2193":"\u2191\u2193"),render:e=>e.fg_code},{id:5,title:"Description",render:e=>e.fg_description},{id:"order_type",title:"Order type ".concat(!0===q?"\u2191":!1===q?"\u2193":"\u2191\u2193"),render:e=>e.order_type},{id:"status",title:"Status ".concat(!0===B?"\u2191":!1===B?"\u2193":"\u2191\u2193"),render:e=>(0,G.jsx)(oa,{capsuleText:e.status})},{id:9,title:"Action",render:t=>(0,G.jsx)("img",{src:ha,style:{width:"2.78vw",height:"2.78vw",cursor:"pointer"},alt:"Action Icon",onClick:()=>e("/planning-material-plan")})}])(e),rows:oe,rowsPerPage:T,loading:i,titleCellClasses:"c-gray fw-700",page:b-1,serialize:!0,total:_})}),(0,G.jsxs)("div",{className:"planning-footer-container",children:[(0,G.jsx)("button",{onClick:()=>{if(c>1){const e=c-1;d(e),h(e.toString())}},disabled:1===c,children:"Prev"}),(0,G.jsxs)("div",{className:"planning-overview-page-details",children:[(0,G.jsx)("h1",{children:"Page"}),(0,G.jsx)("input",{type:"number",className:"planning-page-number-input",value:u,onChange:e=>{const t=e.target.value;h(t);const a=parseInt(t,10);!isNaN(a)&&a>=1&&a<=me&&d(a)},onBlur:pe,min:"1",max:me}),(0,G.jsx)("h1",{children:"Of"}),(0,G.jsx)("p",{children:me})]}),(0,G.jsx)("button",{onClick:()=>{if(c<me){const e=c+1;d(e),h(e.toString())}},disabled:c===me,children:"Next"})]})]})};var qa=a(3193),Ha=a(2221);const Ga=()=>{const[e,t]=(0,g.useState)({}),[a,n]=(0,g.useState)({}),[s,l]=(0,g.useState)(!1),[r,i]=(0,g.useState)(!1),o=[{id:1,circuitCode:"M001",circuitName:"Material A",qty:100},{id:2,circuitCode:"M002",circuitName:"Material B",qty:200},{id:3,circuitCode:"M003",circuitName:"Material C",qty:150},{id:4,circuitCode:"M0003",circuitName:"Material i",qty:150}];return(0,G.jsx)("div",{className:"material-table",children:(0,G.jsxs)(D.A,{className:"table-container",sx:{marginTop:2,width:"99%",marginLeft:"1px"},children:[r&&(0,G.jsx)(qa.A,{sx:{marginTop:"25px",flex:1,display:"flex",flexDirection:"row",alignItems:"end",width:"160px",marginLeft:"88%",height:"50px",borderRadius:"8px",gap:"20px"},className:"dropdown-select",children:(0,G.jsxs)(Ha.A,{value:"",displayEmpty:!0,onChange:n=>(n=>{const s=o.filter((e=>a[e.id])).map((e=>({...e,selectedMachine:n})));console.log(s);const l={...e};s.forEach((e=>{l[e.id]=n})),t(l)})(n.target.value),inputProps:{"aria-label":"Machine"},children:[(0,G.jsx)(d.A,{value:"",children:"Select Machine"}),(0,G.jsx)(d.A,{value:"Machine 1",children:"Machine 1"}),(0,G.jsx)(d.A,{value:"Machine 2",children:"Machine 2"}),(0,G.jsx)(d.A,{value:"Machine 3",children:"Machine 3"}),(0,G.jsx)(d.A,{value:"Machine 4",children:"Machine 4"}),(0,G.jsx)(d.A,{value:"Machine 5",children:"Machine 5"})]})}),(0,G.jsxs)(E.A,{sx:{borderSpacing:"0 0px",borderCollapse:"separate"},children:[(0,G.jsx)(P.A,{children:(0,G.jsxs)(O.A,{sx:{backgroundColor:"#D9D9D9",height:"1px"},children:[(0,G.jsxs)(T.A,{sx:{fontWeight:"bold",color:"#000000",fontSize:"15px"},children:[(0,G.jsx)(Ze.A,{checked:s,onChange:e=>{const t=e.target.checked;l(t);const a={};o.forEach((e=>{a[e.id]=t})),n(a),i(t)}})," S. No."]}),(0,G.jsx)(T.A,{sx:{fontWeight:"bold",color:"#000000",fontSize:"15px"},children:"Circuit Code"}),(0,G.jsx)(T.A,{sx:{fontWeight:"bold",color:"#000000",fontSize:"15px"},children:"Circuit Name"}),(0,G.jsx)(T.A,{sx:{fontWeight:"bold",color:"#000000",fontSize:"15px"},children:"Qty"})]})}),(0,G.jsx)(I.A,{children:o.map(((s,c)=>(0,G.jsxs)(O.A,{sx:{backgroundColor:"",height:"10px",borderRadius:"8px",marginBottom:"10px","&:last-child td":{border:"none"}},children:[(0,G.jsx)(T.A,{children:(0,G.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,G.jsx)(Ze.A,{checked:!!a[s.id],onChange:()=>{var e;e=s.id,n((t=>{const a={...t,[e]:!t[e]},n=Object.values(a).some(Boolean);i(n);const s=o.every((e=>!0===a[e.id]));return l(s),a}))}}),c+1]})}),(0,G.jsx)(T.A,{children:s.circuitCode}),(0,G.jsx)(T.A,{children:s.circuitName}),(0,G.jsx)(T.A,{children:(0,G.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,G.jsx)("span",{children:s.qty}),!r&&(0,G.jsx)(qa.A,{sx:{width:"160px",marginLeft:-10,height:"50px",borderRadius:"8px",gap:"20px"},className:"dropdown-select",children:(0,G.jsxs)(Ha.A,{value:e[s.id]||"",displayEmpty:!0,onChange:e=>{return n=s.id,l=e.target.value,void t((e=>{const t={...e,[n]:l};if(!Object.values(a).some(Boolean)){const e=o.find((e=>e.id===n));console.log({...e,selectedMachine:l})}return t}));var n,l},inputProps:{"aria-label":"Machine"},children:[(0,G.jsx)(d.A,{value:"",children:"Select Machine"}),(0,G.jsx)(d.A,{value:"Machine 1",children:"Machine 1"}),(0,G.jsx)(d.A,{value:"Machine 2",children:"Machine 2"}),(0,G.jsx)(d.A,{value:"Machine 3",children:"Machine 3"}),(0,G.jsx)(d.A,{value:"Machine 4",children:"Machine 4"}),(0,G.jsx)(d.A,{value:"Machine 5",children:"Machine 5"})]})})]})})]},s.id)))})]})]})})};const Ba=function(){const e=(0,k.Zp)();return(0,G.jsxs)("div",{className:"mx-3 my-2 mp-instruction-layout",children:[(0,G.jsxs)("div",{className:"mp-instruction-header",children:[(0,G.jsx)(Sa,{}),(0,G.jsx)("p",{className:"instruction-text",children:"Please follow the instruction to complete the Material Planning for this Order ID"})]}),(0,G.jsx)("div",{className:"instruction-layout-body",children:(0,G.jsx)(Ga,{})}),(0,G.jsxs)("div",{className:"material-planner-layout-footer",children:[(0,G.jsx)(Z.A,{onClick:()=>e("/planning-material"),white:!0,width:"8rem",height:"2.5rem",bordered:!0,customStyle:{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"},children:"Back"}),(0,G.jsx)(Z.A,{color:"green",width:"8rem",height:"2.5rem",children:"Plan"})]})]})},Qa=[{id:1,name:"LED 1",code:"QTYPW112",qty:1,vendor:"Sameera Enterprises"},{id:2,name:"Wire 6",code:"QTI99012",qty:1,vendor:"Mayfair Enterprises"},{id:3,name:"Wire12",code:"QTI9911",qty:1,vendor:"Axar Industries"},{id:4,name:"Wire11",code:"QTI99726",qty:1,vendor:"Axar Industries"},{id:5,name:"Wire9",code:"QTI90011",qty:1,vendor:"Axar Industries"},{id:6,name:"Wire3",code:"QTI91423",qty:1,vendor:"Axar Industries"}];function Wa(){return(0,G.jsx)(D.A,{sx:{},children:(0,G.jsxs)(E.A,{sx:{borderSpacing:"0 15px",borderCollapse:"separate"},"aria-label":"parts table",children:[(0,G.jsx)(P.A,{children:(0,G.jsxs)(O.A,{sx:{backgroundColor:"#E9EFC5"},children:[(0,G.jsx)(T.A,{sx:{fontSize:"22px",fontWeight:"500"},children:"S. No."}),(0,G.jsx)(T.A,{sx:{fontSize:"22px",fontWeight:"500"},children:"QR Code"}),(0,G.jsx)(T.A,{sx:{fontSize:"22px",fontWeight:"500"},children:"Client"}),(0,G.jsx)(T.A,{sx:{fontSize:"22px",fontWeight:"500"},children:"Date"}),(0,G.jsx)(T.A,{sx:{fontSize:"22px",fontWeight:"500"},children:"Tag"}),(0,G.jsx)(T.A,{sx:{fontSize:"22px",fontWeight:"500"},children:"Comments"})]})}),(0,G.jsx)(I.A,{children:Qa.map((e=>(0,G.jsxs)(O.A,{sx:{backgroundColor:"#EEEEEE"},children:[(0,G.jsx)(T.A,{sx:{fontSize:"22px",fontWeight:"500"},children:e.id}),(0,G.jsx)(T.A,{sx:{fontSize:"22px",fontWeight:"500"},children:e.name}),(0,G.jsx)(T.A,{sx:{fontSize:"22px",fontWeight:"500"},children:e.code}),(0,G.jsx)(T.A,{sx:{fontSize:"22px",fontWeight:"500"},children:e.qty}),(0,G.jsx)(T.A,{sx:{fontSize:"22px",fontWeight:"500"},children:e.vendor}),(0,G.jsx)(T.A,{sx:{fontSize:"22px",fontWeight:"500"},children:(0,G.jsx)(sa.N_,{to:"/",onClick:t=>{t.preventDefault(),console.log("Reporting issue for part ".concat(e.id))},sx:{color:"#rgba(21, 53, 219, 1)",textDecoration:"none"},children:"View"})})]},e.id)))})]})})}const Ya=()=>(0,G.jsxs)("div",{className:"mx-3 my-2",children:[(0,G.jsxs)("div",{className:"issue-search-bar",children:[(0,G.jsx)("h1",{children:"Rework open issues"}),(0,G.jsx)("input",{type:"text",placeholder:"Search"})]}),(0,G.jsx)("div",{className:"issue-table",children:(0,G.jsx)(Wa,{})})]});var Xa=a(4535),Ka=a(3336),Za=a(1888),Va=a(5353),Ja=a(4256),$a=a(8492);const en=(0,Xa.Ay)(T.A)((e=>{let{theme:t}=e;return{["&.".concat(R.A.head)]:{backgroundColor:"#D9D9D9",color:"#3E3E3E",fontSize:"clamp(16px, 1.5vw, 20px)",fontWeight:"bold",padding:"20px 16px",borderBottom:"1px"},["&.".concat(R.A.body)]:{fontSize:"clamp(14px, 1.2vw, 20px)",padding:"16px",borderBottom:"1px solid #D9D9D9"}}})),tn=(0,Xa.Ay)(O.A)((e=>{let{theme:t}=e;return{"&:last-child td, &:last-child th":{borderBottom:"1px"},"& td, & th":{border:"none",height:"60px"}}})),an={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,maxWidth:"90%",bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"8px",display:"flex",flexDirection:"column",alignItems:"center",maxHeight:"90vh",overflowY:"auto"},nn=()=>{const[e,t]=(0,g.useState)(!1),[a,n]=(0,g.useState)(""),[s,l]=(0,g.useState)("Yes"),[r,i]=(0,g.useState)([]),o=()=>t(!1);return(0,G.jsxs)("div",{className:"mx-3 my-2",children:[(0,G.jsxs)("div",{className:"add-issue",children:[(0,G.jsx)("h1",{children:"Issues"}),(0,G.jsx)(da.A,{onClick:()=>t(!0),sx:{backgroundColor:"rgb(217, 217, 217)",color:"#3E3E3E",fontSize:"20px",fontWeight:"500",border:"none",padding:"10px 20px","&:hover":{backgroundColor:"rgb(200, 200, 200)"}},children:"+ Add Issue"})]}),(0,G.jsx)(D.A,{component:Ka.A,sx:{width:"auto",marginTop:"10px",overflowX:"auto",borderRadius:0,borderBottom:"1px solid #D9D9D9",boxShadow:"none"},children:(0,G.jsxs)(E.A,{"aria-label":"customized table",sx:{border:"none","& .MuiTableCell-root":{border:"none"}},children:[(0,G.jsx)(P.A,{children:(0,G.jsxs)(O.A,{children:[(0,G.jsx)(en,{sx:{width:"10%"},children:"S No"}),(0,G.jsx)(en,{sx:{width:"45%"},children:"Reason Name"}),(0,G.jsx)(en,{sx:{width:"45%"},children:"Resolution Date Required"})]})}),(0,G.jsx)(I.A,{children:r.map(((e,t)=>(0,G.jsxs)(tn,{children:[(0,G.jsx)(en,{children:t+1}),(0,G.jsx)(en,{children:e.reasonName}),(0,G.jsx)(en,{children:e.resolutionDate})]},e.reasonName)))})]})}),(0,G.jsx)(Za.A,{open:e,onClose:o,"aria-labelledby":"add-issue-modal",children:(0,G.jsxs)(m.A,{sx:an,children:[(0,G.jsxs)("div",{style:{border:"none",display:"flex",justifyContent:"space-between",width:"100%",marginBottom:"20px"},children:[(0,G.jsx)("h2",{style:{fontSize:"24px",margin:0},children:"Add Issue"}),(0,G.jsx)(da.A,{onClick:o,sx:{minWidth:"auto",marginTop:"-15px",padding:0,"&:hover":{backgroundColor:"transparent"}},children:(0,G.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"45",height:"45",fill:"none",children:(0,G.jsx)("path",{fill:"#F84343",d:"M24 4C12.94 4 4 12.94 4 24s8.94 20 20 20 20-8.94 20-20S35.06 4 24 4m0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16m7.18-26L24 21.18 16.82 14 14 16.82 21.18 24 14 31.18 16.82 34 24 26.82 31.18 34 34 31.18 26.82 24 34 16.82z"})})})]}),(0,G.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"20px",width:"100%",marginBottom:"16px"},children:[(0,G.jsx)("h3",{style:{fontSize:"20px",fontWeight:500,margin:0,fontFamily:"metropolis",minWidth:"120px",borderBottom:"none"},children:"Reason Name"}),(0,G.jsx)(Va.A,{fullWidth:!0,placeholder:"Enter reason name",value:a,onChange:e=>n(e.target.value)})]}),(0,G.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"20px",width:"100%",marginBottom:"16px"},children:[(0,G.jsx)("h3",{style:{fontSize:"20px",fontWeight:500,margin:0,minWidth:"120px",borderBottom:"none"},children:"Required"}),(0,G.jsx)(qa.A,{component:"fieldset",children:(0,G.jsxs)($a.A,{row:!0,value:s,onChange:e=>l(e.target.value),children:[(0,G.jsx)(Ke.A,{value:"Yes",control:(0,G.jsx)(Ja.A,{}),label:"Yes"}),(0,G.jsx)(Ke.A,{value:"No",control:(0,G.jsx)(Ja.A,{}),label:"No"})]})})]}),(0,G.jsx)(da.A,{variant:"contained",fullWidth:!0,onClick:()=>{if(!a)return void t(!1);const e={reasonName:a,resolutionDate:s};i([...r,e]),n(""),l("Yes"),t(!1)},sx:{mt:2,backgroundColor:"rgb(134, 213, 106)",color:"rgb(5, 4, 4)",fontSize:"20px",fontWeight:"500",border:"none",height:"40px",width:"85px",opacity:""===a?.8:1,"&:hover":{backgroundColor:"rgb(134, 213, 106)"}},children:"Submit"})]})})]})},sn=e=>{let{open:t,onClose:a}=e;const[n,s]=(0,g.useState)(new Map);return(0,G.jsxs)(V.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,G.jsx)(r.A,{className:"fw-36",sx:{mt:4},children:" Job ID - JB18769827629102"}),(0,G.jsx)(r.A,{className:"fw-24",children:"Detail"}),(0,G.jsxs)(l.A,{children:[(0,G.jsx)(r.A,{className:"fw-24",children:"1. Detail 1"}),(0,G.jsx)(r.A,{className:"fw-24",children:"2. Detail 2"})]})]})};var ln=a(7759);const rn=e=>{let{open:t,onClose:a}=e;(0,k.Zp)();const[n,s]=(0,g.useState)(new Map),[i,o]=(0,g.useState)(!0);return(0,G.jsx)(V.A,{open:t,width:"50vw",top:"20vh",wrapperClasses:"px-5",children:i?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(l.A,{sx:{alignItems:"center",mt:4},children:[(0,G.jsx)(r.A,{className:"fw-24",children:"Please Scan the machine barcode to proceed"}),(0,G.jsx)("img",{className:"mt-2",src:ln.A,width:"160px",height:"160px",style:{objectFit:"contain"}}),(0,G.jsx)(r.A,{className:"fw-24",children:"or"}),(0,G.jsx)(r.A,{className:"fw-24",children:"Enter Machine Code"}),(0,G.jsx)(l.A,{children:(0,G.jsx)(z.A,{})})]}),(0,G.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,G.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Clear All"}),(0,G.jsx)(Z.A,{color:"light_green",onClick:a,children:(0,G.jsx)(r.A,{color:"black",children:"Confirm"})})]})]}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(r.A,{className:"fw-24",sx:{mt:4},children:"As we are going to start the process, Please check the machine and confirm"}),(0,G.jsxs)(l.A,{children:[(0,G.jsx)(r.A,{className:"fw-24",children:"1. Instruction 1"}),(0,G.jsx)(r.A,{className:"fw-24",children:"2. Instruction 2"}),(0,G.jsx)(r.A,{className:"fw-24",children:"3. Instruction 3"})]}),(0,G.jsx)(r.A,{className:"fw-24",sx:{mt:4},children:"Quantity is distributed in 5 batches, 5 barcodes will be printed, Please apply on each batch"}),(0,G.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,G.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,G.jsx)(Z.A,{color:"light_green",onClick:()=>o(!0),children:(0,G.jsx)(r.A,{color:"black",children:"Start"})})]})]})})},on=()=>{const e=(0,k.zy)(),t=(0,k.Zp)(),[a,n]=(e.state,(0,g.useState)([{jobid:"JOB_123",client:"unx@32",operations:5,qty:200}])),[s,i]=(0,g.useState)(),[o,c]=(0,g.useState)(0),[d,u]=(0,g.useState)(!1),[h,m]=(0,g.useState)("start"),[p,x]=(0,g.useState)(0),[f,j]=(0,g.useState)({name:"",metadata:{}});(0,g.useEffect)((()=>{console.log("num.toString(16).toUpperCase()",34..toString(16))}),[]);const y=async()=>{u(!1)},w=[{id:1,title:"Job ID",render:e=>(0,G.jsx)(r.A,{sx:{cursor:"pointer",fontWeight:"bold"},onClick:()=>m("detail"),children:e.jobid})},{id:2,title:"Client ",render:e=>e.client},{id:6,title:"Operation",render:e=>null===e||void 0===e?void 0:e.operations},{id:66,title:"Oty",render:e=>null===e||void 0===e?void 0:e.qty},{id:5,title:"Actions",render:e=>(0,G.jsx)(Z.A,{color:"light_green",onClick:()=>t("/myjob"),children:(0,G.jsx)(r.A,{color:"black",children:"Start"})})}];return(0,G.jsxs)("div",{className:"mx-3 my-2",children:[(0,G.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,G.jsx)("h1",{className:"mt-4",children:"Job List"}),(0,G.jsxs)(l.A,{sx:{flexDirection:"row",gap:2},children:[(0,G.jsxs)(l.A,{sx:{backgroundColor:q.lm.LG_GREEN,width:240,height:80,borderRadius:2,flexDirection:"row",justifyContent:"space-between"},children:[(0,G.jsxs)(r.A,{sx:{p:2,fontSize:20,fontWeight:500},children:["Today",(0,G.jsx)("br",{})," Jobs"]}),(0,G.jsx)(r.A,{sx:{p:2,fontSize:36,fontWeight:700},children:"38"})]}),(0,G.jsxs)(l.A,{sx:{backgroundColor:q.lm.LG_PINK,width:240,height:80,borderRadius:2,flexDirection:"row",justifyContent:"space-between"},children:[(0,G.jsxs)(r.A,{sx:{p:2,fontSize:20,fontWeight:500},children:["Remaining ",(0,G.jsx)("br",{}),"Jobs"]}),(0,G.jsx)(r.A,{sx:{p:2,fontSize:36,fontWeight:700},children:"38"})]}),(0,G.jsxs)(l.A,{sx:{backgroundColor:"#C4D7FC",width:240,height:80,borderRadius:2,flexDirection:"row",justifyContent:"space-between"},children:[(0,G.jsxs)(r.A,{sx:{p:2,fontSize:20,fontWeight:500},children:["Issued ",(0,G.jsx)("br",{}),"Jobs"]}),(0,G.jsx)(r.A,{sx:{p:2,fontSize:36,fontWeight:700},children:"38"})]})]})]}),(0,G.jsx)(B,{columns:w,rows:a,rowsPerPage:5,loading:"fetch"===s,titleCellClasses:"c-gray fw-700",page:p,setPage:x,paginator:!0,serialize:!0,total:o}),(0,G.jsx)(sn,{open:"detail"===h,onClose:()=>{m(!1),u(!1)},data:f,edit:d,setData:j,onSubmit:y}),(0,G.jsx)(rn,{open:"start"===h,onClose:()=>{m(!1),u(!1)},data:f,edit:d,setData:j,onSubmit:y}),(0,G.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,G.jsx)(Z.A,{bordered:!0,gray:!0,children:"Cancel"}),(0,G.jsx)(Z.A,{color:"gray",children:(0,G.jsx)(r.A,{color:q.lm.TEXT_GRAY,children:"Next"})})]})]})},cn=e=>{let{open:t,onClose:a}=e;const[n,s]=(0,g.useState)(new Map);return(0,G.jsx)(V.A,{open:t,onClose:a,width:"50vw",top:"20vh",wrapperClasses:"px-5",hideCloseIcon:ee.A,children:(0,G.jsxs)(l.A,{sx:{justifyContent:"center",alignItems:"center",mt:4},children:[(0,G.jsx)(Je.A,{sx:{color:q.lm.LIGHT_GREEN,width:100,height:100}}),(0,G.jsxs)(r.A,{textAlign:"center",className:"fw-24",sx:{py:4},children:["All Material successfully scanned,",(0,G.jsx)("br",{}),"Next Step - Tool Scan"]})]})})};const dn=a.p+"static/media/warning_amber.bffc0687d9fa87c562989614b31a56ea.svg",un=e=>{let{open:t,onClose:a}=e;const[n,s]=(0,g.useState)(new Map),[i,o]=(0,g.useState)(!1),[c,d]=(0,g.useState)({});q.wN.RADIO,q.wY.REQUIRED;return(0,G.jsxs)(V.A,{open:t,onClose:a,width:"50vw",top:"20vh",wrapperClasses:"px-5",hideCloseIcon:ee.A,children:[(0,G.jsx)(l.A,{sx:{justifyContent:"center",alignItems:"center"},children:(0,G.jsx)("img",{src:dn,style:{width:"100px",height:"100px"},alt:"warning Icon"})}),(0,G.jsxs)(r.A,{className:"fw-24",sx:{pl:4},children:["Issue reported on this machine.",(0,G.jsx)("br",{}),"Machine not working since"]}),(0,G.jsxs)(l.A,{sx:{justifyContent:"space-between",flexDirection:"row",alignItems:"center",mt:2,px:10,pb:2},children:[(0,G.jsx)(r.A,{className:"fw-36",sx:{color:q.lm.LG_RED},children:"02 hrs"}),(0,G.jsx)(r.A,{className:"fw-36",sx:{color:q.lm.LG_RED},children:"30 mins"}),(0,G.jsx)(r.A,{className:"fw-36",sx:{color:q.lm.LG_RED},children:"02 sec"})]}),(0,G.jsxs)(l.A,{sx:{px:4},children:[(0,G.jsxs)(Xe.A,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[(0,G.jsx)(r.A,{children:"Barcode Missing"}),(0,G.jsx)(Ke.A,{control:(0,G.jsx)(Ze.A,{defaultChecked:!0})})]}),(0,G.jsxs)(Xe.A,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[(0,G.jsx)(r.A,{children:"Material not available"}),(0,G.jsx)(Ke.A,{control:(0,G.jsx)(Ze.A,{defaultChecked:!0})})]}),(0,G.jsxs)(Xe.A,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[(0,G.jsx)(r.A,{children:"Barcode available but material missing or less qty"}),(0,G.jsx)(Ke.A,{control:(0,G.jsx)(Ze.A,{defaultChecked:!0})})]}),(0,G.jsxs)(Xe.A,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[(0,G.jsx)(r.A,{children:"Other"}),(0,G.jsx)(Ke.A,{control:(0,G.jsx)(Ze.A,{defaultChecked:!0})})]})]}),(0,G.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:2,children:[(0,G.jsx)(Z.A,{bordered:!0,gray:!0,children:"Cancel"}),(0,G.jsx)(Z.A,{color:"gray",onClick:a,children:(0,G.jsx)(r.A,{color:q.lm.TEXT_GRAY,children:"Confirm"})})]})]})},hn=()=>{const e=(0,k.zy)(),[t,a]=((0,k.Zp)(),e.state,(0,g.useState)([{jobid:"JOB_123",client:"unx@32",operations:5,qty:200,scan:!0},{jobid:"JOB_1234",client:"unx_32",operations:5,qty:200,scan:!1}])),[n,s]=(0,g.useState)(),[i,o]=(0,g.useState)(0),[c,d]=(0,g.useState)(!1),[u,h]=(0,g.useState)(!1),[m,p]=(0,g.useState)(0),[x,f]=(0,g.useState)({name:"",metadata:{}}),j=async()=>{d(!1)},y=[{id:2,title:"Material",render:e=>e.client},{id:66,title:"Oty",render:e=>null===e||void 0===e?void 0:e.qty},{id:5,title:"Actions",render:e=>(0,G.jsx)(Z.A,{color:"LG_PINK",onClick:()=>h("start"),children:(0,G.jsx)(r.A,{color:"black",children:"Report Issue"})})},{id:2,title:"Status",render:e=>e.scan?"To Scan":(0,G.jsx)(Je.A,{fontSize:"large",sx:{color:q.lm.LIGHT_GREEN}})}];return(0,G.jsxs)("div",{className:"mx-3 my-2",children:[(0,G.jsxs)("div",{className:" items-center mb-2",children:[(0,G.jsx)("h1",{className:"mt-4",children:"My Job > JOB_132425"}),(0,G.jsx)("h1",{className:"fw-24 mt-4",children:"Please scan the material and confirm"})]}),(0,G.jsx)(B,{columns:y,rows:t,rowsPerPage:5,loading:"fetch"===n,titleCellClasses:"c-gray fw-700",page:m,setPage:p,paginator:!0,serialize:!0,total:i}),(0,G.jsx)(cn,{open:"detail"===u,onClose:()=>{h(!1),d(!1)},data:x,edit:c,setData:f,onSubmit:j}),(0,G.jsx)(un,{open:"start"===u,onClose:()=>{h(!1),d(!1)},data:x,edit:c,setData:f,onSubmit:j}),(0,G.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,G.jsx)(Z.A,{bordered:!0,gray:!0,children:"Cancel"}),(0,G.jsx)(Z.A,{color:"gray",onClick:()=>h("detail"),children:(0,G.jsx)(r.A,{color:q.lm.TEXT_GRAY,children:"Confirm"})})]})]})},mn=a.p+"static/media/image.7df633c24c17b3ea3125.png",pn=()=>{const e=(0,k.Zp)();return(0,G.jsx)("div",{children:(0,G.jsxs)("div",{className:"content-container",children:[(0,G.jsx)("p",{className:"detail-heading",children:"Please Scan the part QR Code to start"}),(0,G.jsx)("div",{className:"barcode",children:(0,G.jsx)("img",{src:mn,alt:"qrscanner",width:160})}),(0,G.jsxs)("div",{className:"sub-headings",children:[(0,G.jsx)("p",{children:"Or"}),(0,G.jsx)("p",{className:"detail-heading2",children:"Enter Code printed on QR Code"})]}),(0,G.jsx)("input",{type:"text",placeholder:"",className:"inputbar"}),(0,G.jsxs)("div",{className:"buttons",children:[(0,G.jsx)("button",{children:"Clear All"}),(0,G.jsx)("button",{onClick:()=>e("/product-details"),children:"Confirm"})]})]})})},xn=()=>(0,G.jsxs)("div",{className:"report-container",children:[(0,G.jsx)("div",{className:"report-details-t",children:(0,G.jsxs)("div",{className:"grid-container",children:[(0,G.jsx)("div",{className:"font-medium",children:"Part Name"}),(0,G.jsx)("div",{className:"font-semibold",children:"SSKSKK2"}),(0,G.jsx)("div",{className:"font-medium",children:"Customer"}),(0,G.jsx)("div",{className:"font-semibold",children:"Mars Motors"}),(0,G.jsx)("div",{className:"font-medium",children:"Date of Manufacture"}),(0,G.jsx)("div",{className:"font-semibold",children:"12 Aug 2024"}),(0,G.jsx)("div",{className:"font-medium",children:"Plant"}),(0,G.jsx)("div",{className:"font-semibold",children:"Plant no-32"})]})}),(0,G.jsxs)("div",{className:"report-actions",children:[(0,G.jsx)("button",{className:"action-button",children:"Print Report"}),(0,G.jsx)("button",{className:"action-button",children:"Share Report"})]})]}),gn=()=>{const[e,t]=(0,g.useState)(0),[a,n]=(0,g.useState)(10),[s,l]=(0,g.useState)(1),i=[{id:1,title:"Part Name",render:e=>e.name},{id:2,title:"Part Code",render:e=>e.code},{id:3,title:"Oty",render:e=>e.qty},{id:3,title:"Vendor",render:e=>e.vendor},{id:112,title:"Issue",render:e=>(0,G.jsx)(r.A,{color:"#1535DB",children:"Report Issue"})}],o=[{id:1,title:"Machine Name",render:e=>e.name},{id:2,title:"Machine Code",render:e=>e.code},{id:3,title:"Finish Time",render:e=>e.qty},{id:3,title:"Process",render:e=>"Crimping"},{id:112,title:"Issue",render:e=>(0,G.jsx)(r.A,{color:"#1535DB",children:"Report Issue"})}],c=[{id:1,title:"Operator Name",render:e=>e.name},{id:2,title:"Machine Code",render:e=>e.code},{id:3,title:"Finish Time",render:e=>"-"},{id:3,title:"Process",render:e=>"Wirecutting"},{id:112,title:"Issue",render:e=>(0,G.jsx)(r.A,{color:"#1535DB",children:"Report Issue"})}];return(0,G.jsxs)("div",{className:"mx-3 my-2",children:[(0,G.jsx)(r.A,{className:"fw-20-500-36",children:"Details"}),(0,G.jsx)(xn,{}),(0,G.jsx)("div",{className:"details-cards-container",children:[{label:"Number of Parts",value:"12",variant:"green"},{label:"Machining",value:"2",variant:"pink"},{label:"Operator",value:"2",variant:"blue"},{label:"Rework",value:"2",variant:"purple"}].map(((a,n)=>(0,G.jsx)(fn,{label:a.label,value:a.value,variant:a.variant,isActive:e===n,onClick:()=>t(n)},a.label)))}),(0,G.jsx)("div",{className:"table mt-2",children:(0,G.jsx)(B,{columns:0==e?i:1==e?o:2==e?c:o,rows:[{id:1,name:"LED 1",code:"QTYPW112",qty:1,vendor:"Sameera Enterprises"},{id:2,name:"Wire 6",code:"QTI99012",qty:1,vendor:"Mayfair Enterprises"},{id:3,name:"Wire12",code:"QTI9911",qty:1,vendor:"Axar Industries"},{id:4,name:"Wire11",code:"QTI99726",qty:1,vendor:"Axar Industries"},{id:5,name:"Wire9",code:"QTI90011",qty:1,vendor:"Axar Industries"},{id:6,name:"Wire3",code:"QTI91423",qty:1,vendor:"Axar Industries"}],rowsPerPage:10,titleCellClasses:"fw-700",page:s,setPage:l,paginator:!0,serialize:!0,total:a,headColor:0==e?q.lm.LG_GREEN:1==e?q.lm.LG_PINK:2==e?q.lm.LG_BG_BLUE:q.lm.LG_PURPLE,tableBodyColor:q.lm.LG_GRAY})})]})};function fn(e){let{label:t,value:a,variant:n,isActive:s,onClick:l}=e;return(0,G.jsx)("div",{className:"metric-card ".concat(n," ").concat(s?"active":""),onClick:l,children:(0,G.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[(0,G.jsx)("p",{className:"metric-label",children:t}),(0,G.jsx)("p",{className:"metric-value",children:a})]})})}const jn=()=>{var e,t;const a=(0,j.wA)(),[n,s]=(0,g.useState)(!1),l=(0,j.d4)((e=>e[X.X.AUTH])),[r,i]=(null===l||void 0===l||null===(e=l.user)||void 0===e||null===(t=e.data)||void 0===t||t.role,(0,g.useState)(new Set));(0,g.useEffect)((()=>{const e=localStorage.getItem("menu");if(e){const t=JSON.parse(e);i(new Set(t))}(0,Q.A)(a,l),s(!0)}),[a,l]);const o=[{name:"Pending Items",path:"/store-pending-items",element:(0,G.jsx)(na,{})},{name:"Failure Reasons",path:"/material-planner/addfailureReasonPage",element:(0,G.jsx)(Ca,{})},{name:"Store",path:"/material-planner",element:(0,G.jsx)(wa,{})},{name:"test result",path:"/test-users",element:(0,G.jsx)(zt,{})},{name:"performance",path:"/report",element:(0,G.jsx)(Rt,{})},{name:"plan training",path:"/plan-training",element:(0,G.jsx)(Et,{})},{name:"test portal",path:"/test-portal",element:(0,G.jsx)(_t,{})},{name:"skill matrix",path:"/skill-matrix",element:(0,G.jsx)(Ct,{})},{name:"test master",path:"/test-upload",element:(0,G.jsx)(ut,{})},{name:"skill page",path:"/skill-page",element:(0,G.jsx)(gt,{})},{name:"question bank",path:"/question-bank",element:(0,G.jsx)(ft,{})},{name:"groups",path:"/group",element:(0,G.jsx)(He,{})},{name:"users",path:"/users",element:(0,G.jsx)(Le,{})},{name:"test portal",path:"/test",element:(0,G.jsx)(rt,{})},{name:"test portal",path:"/TestDetail",element:(0,G.jsx)(Ve,{})},{name:"test result",path:"/result-page",element:(0,G.jsx)(Ht,{})},{path:"/error",element:(0,G.jsx)(Fe,{})}],c=[{path:"/profile",element:(0,G.jsx)(We,{})},{path:"/change-password",element:(0,G.jsx)(Ft,{})},{path:"/change-language",element:(0,G.jsx)(Mt,{})},{path:"/machine-monitoring",element:(0,G.jsx)(Kt,{})},{path:"/child-machine",element:(0,G.jsx)(Jt,{})},{path:"/material-planner-plan",element:(0,G.jsx)(_a,{})},{path:"/material-planner-plan/scanning",element:(0,G.jsx)(Ma,{})},{path:"/planning-material",element:(0,G.jsx)(za,{})},{path:"/planning-material-plan",element:(0,G.jsx)(Ba,{})},{path:"/job",element:(0,G.jsx)(on,{})},{path:"/myjob",element:(0,G.jsx)(hn,{})},{path:"/traceablity",element:(0,G.jsx)(pn,{})},{path:"/product-details",element:(0,G.jsx)(gn,{})},{path:"/open-issues",element:(0,G.jsx)(Ya,{})},{path:"/add-issue",element:(0,G.jsx)(nn,{})}],d=o.map((e=>r.has(e.name)?e:{...e,element:(0,G.jsx)(Fe,{})}));return n?(0,G.jsxs)(k.BV,{children:[d.map((e=>{let{path:t,element:a}=e;return(0,G.jsx)(k.qh,{element:a,path:t},t)})),c.map((e=>{let{path:t,element:a}=e;return(0,G.jsx)(k.qh,{element:a,path:t},t)}))]}):null};var yn=a(2177),wn=a(4717),vn=a(3235),An=a(1006),Sn=a(6472);const bn=parseInt(localStorage.getItem("draweWidth")),Cn=(0,_.A)(n.Ay,{shouldForwardProp:e=>"open"!==e})((e=>{let{open:t}=e;return{width:bn,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",...t&&{width:bn,overflowX:"hidden","& .MuiDrawer-paper":{width:bn,overflowX:"hidden",backgroundColor:q.lm.BG_GRAY}},...!t&&{overflowX:"hidden",width:"50px","& .MuiDrawer-paper":{overflowX:"hidden",width:"50px"}}}})),_n=()=>{const e=localStorage.getItem("t_token"),{t:t,i18n:a}=(0,y.Bd)(),[n,_]=(0,g.useState)([]),E=((0,j.d4)((e=>e[X.X.AUTH])),(0,j.d4)((e=>{var t;return null===(t=e[X.X.AUTH].user)||void 0===t?void 0:t.data}))),{logout:I,profile2:T}=(0,Pe.A)(),[R,D]=(0,g.useState)(!0),P=(0,k.Zp)(),{pathname:O}=(0,k.zy)(),[L,F]=(0,g.useState)(null),M=Boolean(L),U=[{name:"users",title:t("users"),icon:w.A,path:"/users"},{name:"groups",title:t("groups"),icon:v.A,path:"/group"},{name:"skill matrix",title:t("skillMatrix"),icon:A.A,path:"/skill-matrix"},{name:"plan training",title:t("planTraining"),icon:A.A,path:"/plan-training"},{name:"skill page",title:t("skillPage"),icon:A.A,path:"/skill-page"},{name:"performance",title:t("performance"),icon:A.A,path:"/report"},{name:"test portal",title:t("testPortal"),icon:A.A,path:"/test-portal"},{name:"question bank",title:t("questionBank"),icon:A.A,path:"/question-bank"},{name:"test master",title:t("testMaster"),icon:A.A,path:"/test-upload"},{name:"test result",title:t("testResult"),icon:A.A,path:"/test-users"},{name:"Store",title:"Store",icon:A.A,path:"/material-planner"},{name:"Pending Items",title:"Pending Items",icon:A.A,path:"/store-pending-items"},{name:"Failure Reasons",title:"Failure Reasons",icon:C.A,path:"material-planner/addfailureReasonPage"},{name:"Failure Reasons",title:"Planning",path:"/planning-material"},{name:"Failure Reasons",title:"Machine Monitoring",path:"/machine-monitoring"},{name:"Failure Reasons",title:"Operator Portal",path:"/job"},{name:"Failure Reasons",title:"Traceablity",path:"/traceablity"},{name:"Failure Reasons",title:"Rework Issues",path:"/open-issues"},{name:"Failure Reasons",title:"Add Issues",path:"/add-issue"}];(0,g.useEffect)((()=>{if(e){const e=localStorage.getItem("menu"),t=JSON.parse(e);if(console.log("navigation menu item ----\x3e>",t),null!==t){const e=U.filter((e=>t.some((t=>t===e.name))));_(e)}}else N.oR.error("Please login!"),P("/")}),[e,P]);const z=()=>{F(null)};return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(s.A,{variant:"outlined",sx:{zIndex:e=>e.zIndex.drawer+1,width:"100%",position:"fixed",backgroundColor:q.lm.WHITE},children:(0,G.jsxs)(l.A,{sx:{flexDirection:"row",px:1,py:.5,justifyContent:"space-between"},children:[(0,G.jsxs)(l.A,{sx:{flexDirection:"row",gap:2,alignItems:"center"},children:[(0,G.jsx)("img",{src:An,width:"80px",height:"43px",style:{objectFit:"contain"}}),(0,G.jsx)("img",{src:St,width:"180px",height:"45px",style:{objectFit:"contain"}})]}),0!==bn&&(0,G.jsxs)(l.A,{sx:{flexDirection:"row",gap:2,justifyContent:"flex-end",alignItems:"center"},children:[(0,G.jsxs)(r.A,{className:"fw-14",sx:{width:"100%",pr:2,mt:1,color:q.lm.TEXT_GRAY},children:[t("welcome")," ",null===E||void 0===E?void 0:E.username]}),(0,G.jsx)(i.A,{sx:{maxWidth:"calc(100vw - ".concat(R?180:50,"px)")},disableGutters:!0,className:"h-50 minh-50",children:(0,G.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,G.jsx)(o.A,{id:"basic-button","aria-controls":M?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":M?"true":void 0,onClick:e=>{console.log("popup",e.currentTarget),F(e.currentTarget)},children:(0,G.jsx)(vn.A,{fontSize:"large"})}),(0,G.jsxs)(c.A,{id:"basic-menu",anchorEl:L,open:M,onClose:z,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,G.jsxs)(d.A,{sx:{py:0},onClick:()=>{z()},children:[(0,G.jsx)(u.A,{children:(0,G.jsx)(yn.A,{fontSize:"small"})}),(0,G.jsx)(h.A,{children:null===E||void 0===E?void 0:E.username})]}),(0,G.jsx)(f.A,{}),(0,G.jsxs)(d.A,{sx:{py:0},onClick:()=>{z()},children:[(0,G.jsx)(u.A,{children:(0,G.jsx)(b.A,{fontSize:"small"})}),(0,G.jsx)(h.A,{children:null===E||void 0===E?void 0:E.email})]}),(0,G.jsx)(f.A,{}),(0,G.jsxs)(d.A,{sx:{py:0},onClick:()=>{z(),P("/change-password")},children:[(0,G.jsx)(u.A,{children:(0,G.jsx)(wn.A,{fontSize:"small"})}),(0,G.jsx)(h.A,{children:t("changePassword")})]}),(0,G.jsx)(f.A,{}),(0,G.jsxs)(d.A,{sx:{py:0},onClick:()=>{z(),P("/change-language")},children:[(0,G.jsx)(u.A,{children:(0,G.jsx)(Sn.A,{fontSize:"small"})}),(0,G.jsx)(h.A,{children:t("changeLanguage")})]}),(0,G.jsx)(f.A,{}),(0,G.jsxs)(d.A,{sx:{py:0},onClick:()=>{z(),I()},children:[(0,G.jsx)(u.A,{children:(0,G.jsx)(S.A,{fontSize:"small"})}),(0,G.jsx)(h.A,{children:t("logout")})]})]})]})})]})]})}),(0,G.jsx)(Cn,{open:R,variant:"permanent",onClose:()=>D((e=>!e)),sx:{},children:(0,G.jsx)(m.A,{sx:{width:bn,backgroundColor:q.lm.BG_GRAY,mt:7},role:"presentation",children:(0,G.jsx)(p.A,{dense:!0,children:n.map((e=>{let{title:t,path:a,icon:n}=e;return(0,G.jsx)(x.Ay,{sx:{ml:1},button:!0,onClick:()=>P(a),children:(0,G.jsx)(h.A,{sx:{"& .MuiListItemText-primary":{fontSize:"16px",fontWeight:"".concat(O===a?"700":"500")}},primary:t,className:"".concat("fw-700")})},a)}))})})}),(0,G.jsx)(m.A,{sx:{mt:8,position:"relative",left:R?bn:"50px",overflow:"hidden"},children:(0,G.jsx)(m.A,{sx:{maxWidth:"calc(100vw - ".concat(R?bn:50,"px)")},children:(0,G.jsx)(jn,{})})})]})}}}]);
//# sourceMappingURL=789.127b9108.chunk.js.map