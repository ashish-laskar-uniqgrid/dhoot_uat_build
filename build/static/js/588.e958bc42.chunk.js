"use strict";(self.webpackChunktraceability=self.webpackChunktraceability||[]).push([[588],{1797:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ns});var n=a(4109),s=a(2314),l=a(7642),i=a(5865),o=a(7392),r=a(5263),c=a(378),d=a(2143),u=a(2050),h=a(8734),p=a(6446),m=a(5721),x=a(1322),v=a(5043),A=a(9336),y=a(3003),w=a(9237),g=a(9193),j=a(5084),f=a(9906),S=a(7402),C=a(6710),b=a(5374),N=a(5415),E=a(5459),k=a(5903),I=a(3216),T=a(1036),_=a(1806),D=a(3460),R=a(9652),P=a(7502),O=a(9650),U=a(4882),L=a(8076),H=a(207),z=a(9090),F=a(7423),M=a(8057),Q=a(8426),Y=a(6467),B=a(579);const G=e=>{let{rows:t=[],columns:a=[],minWidth:n=650,tableClasses:s="",titleCellClasses:i="",rowClassesMethod:o=(()=>{}),rowClasses:r="",rowCellClasses:c="",rowsPerPage:d=10,paginator:u=!1,loading:h,dense:p,hideBorder:m=!1,onRowClick:x=Function.prototype,serialize:v=!1,page:A=0,setPage:y=Function.prototype,total:w}=e;return(0,B.jsx)(O.A,{children:(0,B.jsxs)(_.A,{sx:{minWidth:n},className:"".concat(s),size:p&&"small",children:[(0,B.jsx)(U.A,{sx:{backgroundColor:Y.lm.BG_GRAY},children:(0,B.jsxs)(L.A,{children:[v&&(0,B.jsx)(R.A,{className:"".concat(i," text-nowrap h3"),sx:{color:"black"},children:"S No."}),a.map(((e,t)=>(0,B.jsx)(R.A,{style:{width:e.width&&e.width,color:"black"},className:"".concat(i," text-nowrap"),children:e.title},t)))]})}),(0,B.jsx)(l.A,{sx:{p:.3}}),(0,B.jsx)(D.A,{children:h?(0,B.jsx)(L.A,{children:(0,B.jsx)(R.A,{colSpan:12,className:"flex h-300 text-center",children:(0,B.jsx)(F.A,{big:!0,blue:!0})})}):t&&t.length?t.map(((e,t)=>(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(L.A,{sx:{backgroundColor:Y.lm.LG_GRAY,["& .".concat(P.A.root)]:{borderBottom:m?"none":"true",mt:10},...o(t,e)},className:"".concat(r),onClick:()=>x(e.id),children:[v&&(0,B.jsx)(R.A,{sx:{color:"black"},className:"".concat(c," fw-500 "),align:"left",children:t+1}),a.map(((t,a)=>(0,B.jsx)(R.A,{sx:{width:t.width&&t.width,color:"black"},className:"".concat(c," fw-500"),align:"left",children:t.render(e)},a)))]},t),(0,B.jsx)(l.A,{sx:{p:.3}})]}))):(0,B.jsx)(L.A,{children:(0,B.jsxs)(R.A,{colSpan:12,className:"text-center h-300 flex items-center opacity-60 w-full",children:[(0,B.jsx)("img",{src:M,alt:"leaf",height:100,className:"w-full object-contain"}),(0,B.jsx)("p",{className:"text-center",children:"No Records found!"})]})})}),u&&(0,B.jsx)(H.A,{children:(0,B.jsx)(L.A,{children:(0,B.jsx)(z.A,{rowsPerPageOptions:[],count:w||t.length,rowsPerPage:d,onPageChange:(e,t)=>y(t),page:A})})})]})})};var q=a(1136),W=a(3549),V=a(2359),J=a(2670);const X=()=>{const{token:e}=(0,y.d4)((e=>e[J.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new W.Ay,n=await a.get("".concat(V.H.TENANTS,"/?page=").concat(e),{},t,q.So);var s,l;return null!==n&&void 0!==n&&n.data?[null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.results,null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.count]:[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("".concat(V.H.TENANTS,"/"),e,t,(e=>(0,q.So)(e,null,"Tenant created successfully!")));return null===n||void 0===n?void 0:n.data},remove:async e=>{if(!e)return;const a=new W.Ay,n=await a.delete("".concat(V.H.TENANT,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Tenant deleted successfully!")));return null===n||void 0===n?void 0:n.data}}};var Z=a(949),K=a(7810);const $=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o}=e;return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"CREATE NEW TENANT"}),(0,B.jsx)(Q.A,{title:"Tenant name",placeholder:"Enter tenant name",width:"99%",name:"name",onChange:s,value:n.name}),(0,B.jsx)(Q.A,{title:"Secret Key",placeholder:"Enter secret key",width:"99%",name:"secret_key",onChange:s,value:n.secret_key}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:i,loading:o,children:"Create"})]})]})};var ee=a(3768),te=a(3159);const ae=()=>{const e=(0,I.Zp)(),[t,a]=(0,v.useState)([]),[n,s]=(0,v.useState)(),[r,c]=(0,v.useState)(0),[d,u]=(0,v.useState)(!1),[h,p]=(0,v.useState)(0),[m,x]=(0,v.useState)({name:"",secret_key:""}),{list:A,create:y,remove:w}=X();(0,v.useEffect)((()=>{g()}),[h]);const g=async()=>{s("fetch");const[e,t]=await A(h+1);a(e),c(t),s(!1)},j=[{id:2,title:"ID",render:e=>e.id},{id:3,title:"Tenant Name",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/tenant-Users",{state:t.id}),children:t.name})},{id:4,title:"Secret Code",render:e=>e.secret_key},{id:5,title:"Actions",render:e=>(0,B.jsxs)(l.A,{flexDirection:"row",children:[(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>(async e=>{s("fetch"),await w(e),await g(),s(!1)})(null===e||void 0===e?void 0:e.id),children:(0,B.jsx)(ee.A,{color:"error",fontSize:"small"})}),(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{u("edit"),x(e)},children:(0,B.jsx)(te.A,{color:"primary",fontSize:"small"})})]})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("h1",{className:"mt-4",children:["Tenants",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",r,")"]})]}),(0,B.jsx)(Z.A,{onClick:()=>u(!0),children:"Create Tenant"})]}),(0,B.jsx)(G,{columns:j,rows:t,rowsPerPage:5,loading:"fetch"===n,titleCellClasses:"c-gray fw-700",page:h,setPage:p,paginator:!0,serialize:!0,total:r}),(0,B.jsx)($,{open:d,onClose:()=>u(!1),data:m,setData:e=>x((t=>({...t,[e.target.name]:e.target.value}))),onSubmit:async()=>{let e;if(null!==m&&void 0!==m&&m.name||(e="Please enter the tenant name!"),null!==m&&void 0!==m&&m.secret_key||(e="Please enter the secret key!"),e)return void T.oR.error(e);s("add");const t=await y(m);null!==t&&void 0!==t&&t.id&&(x({}),u(!1),g()),s(!1)},loading:"add"===n})]})},ne=()=>{const{token:e}=(0,y.d4)((e=>e[J.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){const e=new W.Ay,a=await e.get("".concat(V.H.USERS,"/"),{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("".concat(V.H.USERS,"/"),e,t,(e=>(0,q.So)(e,null,"User created successfully!")));return null===n||void 0===n?void 0:n.data},userProfile:async e=>{const a=new W.Ay,n=await a.get("".concat(V.H.USER,"-").concat(V.H.PROFILE,"/").concat(e,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?null===n||void 0===n?void 0:n.data:[[],0]},updateProfile:async(e,a)=>{const n=new W.Ay,s=await n.put("".concat(V.H.USER,"-").concat(V.H.PROFILE,"/").concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"User Updated successfully!")));return null===s||void 0===s?void 0:s.data},update:async(e,a)=>{const n=new W.Ay,s=await n.put("".concat(V.H.USER,"/").concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"User Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{if(!e)return;const a=new W.Ay,n=await a.delete("".concat(V.H.USER,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"User deleted successfully!")));return null===n||void 0===n?void 0:n.data},opratorList:async function(){var e;const a=new W.Ay,n=await a.get("".concat(V.H.OPERATORS,"/"),{},t,q.So);return(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.results.length)>0?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data.results,n.data.count]):[[],0]},createOperator:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("".concat(V.H.OPERATORS,"/"),e,t,(e=>(0,q.So)(e,null,"User created successfully!")));return null===n||void 0===n?void 0:n.data},updateOperator:async(e,a)=>{const n=new W.Ay,s=await n.put("".concat(V.H.OPERATOR,"/").concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"Operator Updated successfully!")));return null===s||void 0===s?void 0:s.data},removeOperator:async e=>{if(!e)return;const a=new W.Ay,n=await a.delete("".concat(V.H.OPERATOR,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Operator deleted successfully!")));return null===n||void 0===n?void 0:n.data},listByUserName:async e=>{const a={username:e},n=new W.Ay,s=await n.post("search-by-username/",a,t,(e=>(0,q.So)(e,null)));return null!==s&&void 0!==s&&s.data?null===s||void 0===s?void 0:s.data:[[]]},listByAadhar:async e=>{const a={aadhar_number:e},n=new W.Ay,s=await n.post("search-by-aadhar/",a,t,(e=>(0,q.So)(e,null)));return null!==s&&void 0!==s&&s.data?null===s||void 0===s?void 0:s.data:[[]]},listByAadhar2:async e=>{const a=new W.Ay,n=await a.get("".concat(V.H.USERS,"/"),{},t,q.So);if(null!==n&&void 0!==n&&n.data){return n.data.filter((e=>e.is_operator)).map((e=>({value:e.username,key:e.id})))}return[[],0]},updateOpSkill:async(e,a)=>{const n=new W.Ay,s=await n.post("training/update-skill/".concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"Skill Updated successfully!")));return null===s||void 0===s?void 0:s.data}}};var se=a(6335),le=a(8595);const ie=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,handleAdd2:o,loading:r,tab:c}=e;const d=[{title:"User Name",placeholder:"Enter User Name",type:Y.wN.INPUT,name:"username",validator:Y.wY.REQUIRED},{title:"Email",placeholder:"Enter Email",type:Y.wN.INPUT,name:"email"},{title:"Full Name",placeholder:"Enter Full Name",type:Y.wN.INPUT,name:"fullname"}],u=[{title:"Aadhar Number",placeholder:"Aadhar Number",type:Y.wN.INPUT,name:"aadhar_no",inputType:"number",validator:Y.wY.REQUIRED},{title:"Full Name",placeholder:"Enter Full Name",type:Y.wN.INPUT,name:"fullname"}],h=[{title:"Phone Number",placeholder:"Phone Number",type:Y.wN.INPUT,name:"phone_number",inputType:"number"},{title:"Employee Id",placeholder:"employee_id",type:Y.wN.INPUT,name:"employee_id"},"Users"===c&&{title:"Aadhar Number",placeholder:"Aadhar Number",type:Y.wN.INPUT,name:"aadhar_number",inputType:"number"},{title:"Employee Type",placeholder:"Employee Type",type:Y.wN.INPUT,name:"employee_type"},{title:"Date of Joining",placeholder:"date_of_joining",type:Y.wN.DATE,name:"date_of_joining"}],[p,m]=(0,v.useState)(new Map),[x,A]=(0,v.useState)(0);return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:["ADD ",c]}),(0,B.jsx)(se.A,{data:n,errors:p,onChange:e=>{const{name:t,value:a}=e.target;m((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:0===x?"Users"===c?d:u:h}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:async()=>{if(0===x){const e=(0,le.bG)("Users"===c?d:u,n);if(m(e),e.size)return;return await i(),void A((e=>e+1))}if(1===x){const e=(0,le.bG)(h,n);if(m(e),e.size)return;return await o(),void A(0)}},loading:r,children:"Next"})]})]})};var oe=a(8903);const re=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:o,loading:r,tab:c}=e;return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"ADD REPORT"}),(0,B.jsxs)(oe.Ay,{display:"grid",sx:{pt:1,gap:1},gridTemplateColumns:{sm:"repeat(4, 1fr)",xs:"repeat(4, 1fr)"},children:[(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"S no"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"Item Name"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"Plan"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"Actual"}),[{itemName:"item 1",plan:1e3},{itemName:"item 2",plan:800},{itemName:"item 3",plan:1e3}].map(((e,t)=>(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(i.A,{children:t+1}),(0,B.jsx)(i.A,{sx:{textTransform:"capitalize"},children:e.itemName}),(0,B.jsx)(i.A,{children:e.plan}),(0,B.jsx)("input",{type:"text"})]})))]}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:o,loading:r,children:"Create"})]})]})};var ce=a(9869),de=a(4056),ue=a(3845);const he=e=>{let{title:t="N/A",color:a}=e;return t?(0,B.jsx)(ue.A,{label:t,variant:"filled",sx:{backgroundColor:a||"#C1FFB6",fontSize:"10px","& .MuiChip-label":{fontSize:"13px"}},size:"small"}):(0,B.jsx)("p",{className:"c-gray fs-12 ml-1",children:"N/A"})};var pe=a(3374),me=a(3875),xe=a(4973),ve=a(5766),Ae=a.n(ve);const ye=a.p+"static/media/SampleSheet.2da2e90959e1d87dfed0.csv",we=a.p+"static/media/userCsv.eaefb67338841526a91a.csv",ge=a.p+"static/media/operatorCsv.4bfcfd2de35c2736e438.csv",je=a.p+"static/media/mcq.62bd97559875ee5253f1.csv",fe=(0,k.A)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),Se=e=>{let{file:t,setFile:a,loading:n,open:s,onClose:i,onSubmit:o,setCsvData:r,tab:c}=e;const[d,u]=(0,v.useState)(!1);return(0,B.jsxs)(K.A,{open:s,onClose:i,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"UPLOAD CSV"}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",my:3,children:[(0,B.jsx)("p",{className:"c-gray",children:"Need assistance?"}),(0,B.jsx)(Z.A,{bordered:!0,color:"orange",height:"30px",onClick:()=>{window.open("Users"===c?we:"Operators"===c?ge:"question"===c?je:ye,"_blank")},children:"Download sample CSV"})]}),(0,B.jsxs)(p.A,{className:"h-400 w-full rounded-10 flex flex-col items-center justify-center",sx:{border:"2px dotted ".concat(Y.lm.GRAY)},children:[(0,B.jsx)(pe.A,{fontSize:"large",color:"disabled"}),(0,B.jsx)("h3",{className:"opacity-80",children:"Drop your file here to upload"}),!!t&&(0,B.jsxs)("p",{className:"".concat(d?"c-red":"c-primary"," flex items-center"),children:[(0,B.jsx)(me.A,{fontSize:"small"})," ",null===t||void 0===t?void 0:t.name]}),(0,B.jsxs)(Z.A,{onClick:e=>document.getElementById("file").click(),children:[(0,B.jsx)(xe.A,{})," Upload File"]}),(0,B.jsx)(fe,{type:"file",id:"file",onChange:async e=>{var t,n;const s=e.target.files[0];console.log("file-----",s),s&&(null!==s&&void 0!==s&&null!==(t=s.type)&&void 0!==t&&null!==(n=t.toLowerCase())&&void 0!==n&&n.includes("csv")?(u(!1),Ae().parse(s,{header:!1,complete:function(e){console.log("csv res-----------",null===e||void 0===e?void 0:e.data),r(null===e||void 0===e?void 0:e.data)}}),a(s)):u("The selected file is not a csv file!"))}})]}),!!d&&(0,B.jsx)("p",{className:"fw-500 c-red text-center",children:d}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",my:2,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:i,children:"Cancel"}),(0,B.jsx)(Z.A,{disabled:d||!t,onClick:o,loading:n,children:"Create"})]})]})};var Ce=a(630),be=a(7739),Ne=a(6178),Ee=a.n(Ne),ke=a(7201);const Ie=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,users:r,skill:c,edit:d}=e;const[u,h]=(0,v.useState)(new Map),p=[{title:"Supervisor",placeholder:"Select Supervisor",type:Y.wN.SELECT,name:"supervisor",validator:Y.wY.REQUIRED,keyValues:r},{title:"Skill",placeholder:"Select Skill",type:Y.wN.SELECT,name:"skill",validator:Y.wY.REQUIRED,keyValues:c}];return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[d?"Edit":"Add"," Supervisor"]}),(0,B.jsx)(se.A,{data:n,errors:u,onChange:e=>{const{name:t,value:a}=e.target;h((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:p}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:async()=>{const e=(0,le.bG)(p,n);h(e),e.size||await i()},loading:o,children:"Submit"})]})]})},Te=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,users:r,testList:c}=e;const[d,u]=(0,v.useState)(new Map),[h,p]=(0,v.useState)(0),[m,x]=(0,v.useState)([]),A=[{title:"Skill",placeholder:"Select Skill",type:Y.wN.SELECT,name:"skill",validator:Y.wY.REQUIRED,keyValues:r}];return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"Add Skill"}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:A}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:async()=>{const e=(0,le.bG)(A,n);u(e),e.size||await i()},loading:o,children:"Submit"})]})]})},_e=()=>{const{token:e}=(0,y.d4)((e=>e[J.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){const e=new W.Ay,a=await e.get("training/skills/",{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("training/skills/",e,t,(e=>(0,q.So)(e,null,"Skill created successfully!")));return null===n||void 0===n?void 0:n.data},updateProfile:async(e,a)=>{const n=new W.Ay,s=await n.put("".concat(V.H.USER,"-").concat(V.H.PROFILE,"/").concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"User Updated successfully!")));return null===s||void 0===s?void 0:s.data},update:async(e,a)=>{const n=new W.Ay,s=await n.put("".concat(V.H.USER,"/").concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"User Updated successfully!")));return null===s||void 0===s?void 0:s.data},addSupervisor:async(e,a)=>{const n=new W.Ay,s=await n.put("training/skill/".concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"Supervisor Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{if(!e)return;const a=new W.Ay,n=await a.delete("training/skills/".concat(e,"/"),t,(e=>(0,q.So)(e,null,"Skill deleted successfully!")));return null===n||void 0===n?void 0:n.data},opratorList:async function(){var e;const a=new W.Ay,n=await a.get("".concat(V.H.OPERATORS,"/"),{},t,q.So);return(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.results.length)>0?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data.results,n.data.count]):[[],0]},createOperator:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("".concat(V.H.OPERATORS,"/"),e,t,(e=>(0,q.So)(e,null,"User created successfully!")));return null===n||void 0===n?void 0:n.data},updateOperator:async(e,a)=>{const n=new W.Ay,s=await n.put("".concat(V.H.OPERATOR,"/").concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"Operator Updated successfully!")));return null===s||void 0===s?void 0:s.data},removeOperator:async e=>{if(!e)return;const a=new W.Ay,n=await a.delete("".concat(V.H.OPERATOR,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Operator deleted successfully!")));return null===n||void 0===n?void 0:n.data},updateSkill:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;const n=new W.Ay,s=await n.put("training/skill/".concat(a,"/"),e,t,(e=>(0,q.So)(e,null,"Skill created successfully!")));return null===s||void 0===s?void 0:s.data}}},De=()=>{const[e,t]=(0,v.useState)("Users"),[a,n]=(0,v.useState)([]),[s,r]=(0,v.useState)([]),[c,d]=(0,v.useState)(),[u,h]=(0,v.useState)(0),[p,m]=(0,v.useState)(!1),[x,A]=(0,v.useState)([]),[y,w]=(0,v.useState)(0),[g,j]=(0,v.useState)(null),[f,S]=(0,v.useState)({}),[C,b]=(0,v.useState)([]),[N,E]=(0,v.useState)(""),[k,I]=(0,v.useState)([]),[T,_]=(0,v.useState)(""),[D,R]=(0,v.useState)(""),[P,O]=(0,v.useState)(!1),{list:U,create:L,updateProfile:H,update:z,userProfile:F,remove:M,listByUserName:Y,listByAadhar:q,updateOpSkill:W}=ne(),{list:V}=_e();(0,v.useEffect)((()=>{n([]),X()}),[y,e]),(0,v.useEffect)((()=>{J()}),[]);const J=async()=>{const[e]=await V(y+1),t=e.results.map((e=>({value:e.skill_name,key:e.id})));b((e=>[...e,...t]))},X=async()=>{d("fetch");try{const[e,t]=await U(y+1),a=e.filter((e=>e.is_operator)),s=e.filter((e=>!e.is_operator)),l=s.map((e=>({value:e.username,key:e.id})));I(l),n(s),h(t);const i=await Promise.all(a.map((e=>F(e.id))));r(i)}catch(xt){console.error("Error fetching users:",xt)}finally{d(!1)}},K=async()=>{const t={...f};localStorage.setItem("op_ad_no",f.aadhar_no),t.is_operator="Users"!==e,"Operators"===e&&(t.username="op_".concat(f.aadhar_no)),console.log("id response--------",t),d("fetch");const a=await L(t);E(a.id),S({}),d(!1)},$=async(t,a,n)=>{d("fetch");const s={is_admin:!0!==a},l={status:!0!==a};"Users"===e?await z(t,"status"===n?l:s):z(t,"status"===n?l:s),await X(),d(!1)},ae=[{id:1,title:"Email",render:e=>e.email},{id:2,title:"User Name",render:e=>e.username},{id:3,title:"Full Name",render:e=>e.fullname},{id:4,title:"Employee Id",render:e=>e.employee_id},{id:5,title:"Role",render:e=>(0,B.jsx)(he,{title:e.is_admin?"admin":"Na"})},{id:6,title:"Actions",render:t=>(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(l.A,{flexDirection:"row",sx:{gap:1},children:[(0,B.jsx)(Z.A,{width:"10%",color:t.status?"green":"red",onClick:()=>$(null===t||void 0===t?void 0:t.id,null===t||void 0===t?void 0:t.status,"status"),children:t.status?"Active":"Inactive"}),(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>(async e=>{d("fetch"),await M(e),await X(),d(!1)})(null===t||void 0===t?void 0:t.id),children:(0,B.jsx)(ee.A,{color:"error",fontSize:"small"})}),"Users"===e&&!1===(null===t||void 0===t?void 0:t.is_admin)?(0,B.jsx)(be.A,{title:"Make Admin",children:(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>$(null===t||void 0===t?void 0:t.id,null===t||void 0===t?void 0:t.is_admin,"delete"),children:(0,B.jsx)(Ce.A,{color:t.is_admin?"error":"success",fontSize:"small"})})}):null]})})}],se=[{id:4,title:"Aadhar Number",render:e=>e.aadhar_number},{id:1,title:"Date of Joining",render:e=>Ee()(e.date_of_joining).format("ll")},{id:11,title:"Supervisor",render:t=>{var a;return(0,B.jsxs)(l.A,{sx:{flexDirection:"row",alignItems:"center"},children:[t.passed_induction&&(0,B.jsx)(i.A,{children:null===(a=t.supervisor)||void 0===a?void 0:a.username}),"Users"!==e&&(t.passed_induction?(0,B.jsx)(be.A,{title:t.supervisor?"Edit Supervisor":"Add Supervisor",children:(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{t.supervisor?O(!0):O(!1),E(t.id),R(t.user.id),m("addSupervisor")},children:t.supervisor?(0,B.jsx)(te.A,{fontSize:"small",color:"primary"}):(0,B.jsx)(ke.A,{})})}):(0,B.jsx)(i.A,{children:"Induction not passed"}))]})}},{id:6,title:"Actions",render:t=>(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(l.A,{flexDirection:"row",sx:{gap:1,alignItems:"center"},children:[(0,B.jsx)(Z.A,{width:"10%",color:t.user.status?"green":"red",onClick:()=>$(null===t||void 0===t?void 0:t.user.id,null===t||void 0===t?void 0:t.user.status,"status"),children:!0===t.user.status?"Active":"Inactive"}),"Users"===e&&!1===(null===t||void 0===t?void 0:t.is_admin)?(0,B.jsx)(be.A,{title:"Make Admin",children:(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>$(null===t||void 0===t?void 0:t.id,null===t||void 0===t?void 0:t.is_admin,"delete"),children:(0,B.jsx)(Ce.A,{color:t.is_admin?"error":"success"})})}):null]})})}],le=async()=>{d("fetch");const e={skill:f.skill,supervisor:f.supervisor};W(D,e),m(!1),await X(),d(!1)};return(0,B.jsxs)("div",{className:"mx-3 my-2 fw-500",children:[(0,B.jsx)(ce.A,{value:e,onChange:(e,a)=>{t(a),w(0),_("")},className:"mb-2 fw-500",children:["Users","Operators"].map(((e,t)=>(0,B.jsx)(de.A,{label:e,className:"fw-500",value:e})))}),(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsx)(l.A,{children:(0,B.jsx)(Q.A,{height:"37px",value:T,placeholder:"Users"===e?"Search By username":"Search by Aadhar Number",onChange:t=>{_(t.target.value),"Users"===e?(async e=>{d("fetch");const[t]=await Y(e);void 0!==t&&n([t]),d(!1)})(t.target.value):(async e=>{const[t,a]=await q(e);void 0!==t&&r([t])})(t.target.value)}})}),(0,B.jsxs)(l.A,{justifyContent:"flex-end",direction:"row",sx:{mb:1},children:[(0,B.jsx)(Z.A,{onClick:()=>m("csvUser"),bordered:!0,classes:"mr-1",children:"Upload CSV"}),(0,B.jsxs)(Z.A,{onClick:()=>m("add"),children:["Create ",e]})]})]}),(0,B.jsx)(G,{columns:"Users"===e?ae:se,rows:"Users"===e?a:s,rowsPerPage:10,loading:"fetch"===c,titleCellClasses:"c-gray fw-700",page:y,setPage:w,paginator:!0,serialize:!0,total:u}),(0,B.jsx)(ie,{open:"add"===p,onClose:()=>m(!1),data:f,setData:S,onSubmit:K,loading:"add"===c,tab:e,handleAdd2:async()=>{const t={...f};"Operators"===e&&(t.aadhar_number=localStorage.getItem("op_ad_no")),t.is_operator="Users"!==e,d("fetch");let a=await F(N);await H(a.id,t),m(!1),await X(),d(!1)}}),(0,B.jsx)(re,{open:"Report"===p,onClose:()=>m(!1),onSubmit:K}),(0,B.jsx)(Ie,{data:f,setData:S,open:"addSupervisor"===p,onClose:()=>m(!1),onSubmit:async()=>{d("fetch");const e={add_supervisor:f.supervisor};H(N,e),le(),m(!1),d(!1)},users:k,skill:C,edit:P}),(0,B.jsx)(Te,{data:f,setData:S,open:"addSkill"===p,onClose:()=>m(!1),onSubmit:le,users:C}),(0,B.jsx)(Se,{onClose:()=>m(!1),open:"csvUser"===p,onSubmit:async()=>{x.slice(1).map((async t=>{if("Users"===e){if(""===t[0])return;{const e={username:t[0],fullname:t[1],email:t[2]},a=await L(e),n=null===a||void 0===a?void 0:a.id,s={phone_number:t[3],aadhar_number:t[4],employee_id:t[5],employee_type:t[6],date_of_joining:t[7]};let l=await F(n);await H(l.id,s)}}else{if(""===t[4]||""===t[0])return;{const e={aadhar_number:t[4],username:t[0],fullname:t[1],is_operator:!0},a=await L(e),n=null===a||void 0===a?void 0:a.id,s={is_operator:!0,phone_number:t[3],employee_id:t[5],employee_type:t[6],date_of_joining:t[7]};let l=await F(n);await H(l.id,s)}}})),m(!1),await X()},file:g,setFile:j,setCsvData:A,tab:e})]})},Re=()=>{const{token:e}=(0,y.d4)((e=>e[J.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new W.Ay,n=await a.get("".concat(V.H.TOOLS,"/?page=").concat(e,"&page_size=",10),{},t,Function.prototype);var s,l;return null!==n&&void 0!==n&&n.data?[null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.results,null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.count]:[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("".concat(V.H.TOOLS,"/"),e,t,(e=>(0,q.So)(e,null,"Tool created successfully!")));return null===n||void 0===n?void 0:n.data},remove:async e=>{if(!e)return;const a=new W.Ay,n=await a.delete("".concat(V.H.TOOLS,"/").concat(V.H.DETAIL,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Tool deleted successfully!")));return null===n||void 0===n?void 0:n.data},createInbound:async(e,a)=>{if(!a)return;const n=new W.Ay,s=await n.post("".concat(V.H.TOOLS,"/").concat(a,"/").concat(V.H.ALL_INBOUND,"/"),e,t,Function.prototype);return null===s||void 0===s?void 0:s.data},listInbound:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new W.Ay,n=await a.get("".concat(V.H.TOOLS,"/").concat(V.H.LIST_INBOUND,"/?page=").concat(e),{},t,Function.prototype);var s,l;return null!==n&&void 0!==n&&n.data?[null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.results,null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.count]:[[],0]},listIssued:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new W.Ay,n=await a.get("".concat(V.H.TOOLS,"/").concat(V.H.ALL_ISSUED,"/?page=").concat(e),{},t,Function.prototype);var s,l;return null!==n&&void 0!==n&&n.data?[null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.results,null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.count]:[[],0]},genBarCode:async(e,a)=>{const n=new W.Ay,s=await n.post("".concat(V.H.TOOLS,"/").concat(V.H.GENERATEBARCODE,"/").concat(a,"/"),e,t,(e=>(0,q.So)(e,null,"Barcode Generated!")));var l;return null!==s&&void 0!==s&&s.data?[null===s||void 0===s||null===(l=s.data)||void 0===l?void 0:l.serial_number_list]:[[],0]},update:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.put("".concat(V.H.TOOLS,"/").concat(V.H.DETAIL,"/").concat(e.id,"/"),e,t,(e=>(0,q.So)(e,null,"Material created successfully!")));return null===n||void 0===n?void 0:n.data},searchList:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const s=new W.Ay,l=await s.get("".concat(V.H.TOOLS,"/?search_field=").concat(a,"&search_value=").concat(n,"&page=").concat(e,"&page_size=",10),{},t,Function.prototype);var i,o;return null!==l&&void 0!==l&&l.data?[null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.results,null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.count]:[[],0]},getBarInfo:async e=>{const a={barcode:e},n=new W.Ay,s=await n.post("".concat(V.H.TOOLS,"/").concat(V.H.SEARCH,"/"),a,t);return null!==s&&void 0!==s&&s.data?[null===s||void 0===s?void 0:s.data]:0},outBoundItem:async(e,a)=>{const n={serial_number:e.barcode,internal_id:a,quantity:e.quantity},s=new W.Ay,l=await s.post("".concat(V.H.TOOLS,"/").concat(e.id,"/").concat(V.H.ALL_ISSUED,"/"),n,t);return null===l||void 0===l?void 0:l.data},historyList:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new W.Ay,n=await a.get("".concat(V.H.TOOLS,"/").concat(V.H.OUTBOUNDLIST,"/?page=").concat(e,"&page_size=",10),{},t,Function.prototype);var s,l;return null!==n&&void 0!==n&&n.data?[null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.results,null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.count]:[[],0]},searchOutbound:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const s=new W.Ay,l=await s.get("".concat(V.H.TOOLS,"/").concat(V.H.OUTBOUNDLIST,"/?search_field=").concat(a,"&search_value=").concat(n,"&page=").concat(e,"&page_size=",10),{},t,Function.prototype);var i,o;return null!==l&&void 0!==l&&l.data?[null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.results,null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.count]:[[],0]}}};var Pe=a(9254),Oe=a(7289),Ue=a(9484);const Le=e=>{var t;let{json:a={},icon:n}=e;return null!==(t=Object.values(a||{}))&&void 0!==t&&t.length?(0,B.jsx)(m.A,{dense:!0,disablePadding:!0,children:Object.entries(a).map((e=>{var t;let[a,s]=e;return(0,B.jsxs)(x.Ay,{dense:!0,disablePadding:!0,disableGutters:!0,alignItems:"center",className:"h-45",children:[(0,B.jsx)(o.A,{className:"h-25 w-25 mr-1 fs-10 c-gray",children:n}),(0,B.jsx)(h.A,{className:"capitalize",primary:null===a||void 0===a||null===(t=a.split("_"))||void 0===t?void 0:t.join(" "),secondary:s})]})}))}):(0,B.jsx)("p",{className:"c-gray fs-12 ml-1",children:"N/A"})},He=()=>{const{token:e}=(0,y.d4)((e=>e[J.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new W.Ay,n=await a.get("".concat(V.H.MATERIALS,"/?page=").concat(e),{},t,Function.prototype);var s,l;return null!==n&&void 0!==n&&n.data?[null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.results,null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.count]:[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("".concat(V.H.MATERIALS,"/"),e,t,(e=>(0,q.So)(e,null,"Material created successfully!")));return null===n||void 0===n?void 0:n.data},remove:async e=>{if(!e)return;const a=new W.Ay,n=await a.delete("".concat(V.H.MATERIALS,"/").concat(V.H.DETAIL,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Material deleted successfully!")));return null===n||void 0===n?void 0:n.data},createInbound:async(e,a)=>{if(!a)return;const n=new W.Ay,s=await n.post("".concat(V.H.MATERIALS,"/").concat(a,"/").concat(V.H.ALL_INBOUND,"/"),e,t,Function.prototype);return null===s||void 0===s?void 0:s.data},listInbound:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new W.Ay,n=await a.get("".concat(V.H.MATERIALS,"/").concat(V.H.LIST_INBOUND,"/?page=").concat(e),{},t,Function.prototype);var s,l;return null!==n&&void 0!==n&&n.data?[null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.results,null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.count]:[[],0]},listIssued:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new W.Ay,n=await a.get("".concat(V.H.MATERIALS,"/").concat(V.H.ALL_ISSUED,"/?page=").concat(e),{},t,Function.prototype);var s,l;return null!==n&&void 0!==n&&n.data?[null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.results,null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.count]:[[],0]},update:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.put("".concat(V.H.MATERIALS,"/").concat(V.H.DETAIL,"/").concat(e.id,"/"),e,t,(e=>(0,q.So)(e,null,"Material created successfully!")));return null===n||void 0===n?void 0:n.data},searchlistMat:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const s=new W.Ay,l=await s.get("".concat(V.H.MATERIALS,"/?search_field=").concat(a,"&search_value=").concat(n,"&page=").concat(e,"&page_size=",10),{},t,Function.prototype);var i,o;return null!==l&&void 0!==l&&l.data?[null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.results,null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.count]:[[],0]},matOutBoundItem:async(e,a)=>{const n={serial_number:e.barcode,internal_id:a,quantity:e.quantity},s=new W.Ay,l=await s.post("".concat(V.H.MATERIALS,"/").concat(e.id,"/").concat(V.H.ALL_ISSUED,"/"),n,t);return null===l||void 0===l?void 0:l.data},historyList:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const a=new W.Ay,n=await a.get("".concat(V.H.MATERIALS,"/").concat(V.H.OUTBOUNDLIST,"/?page=").concat(e),{},t,Function.prototype);var s,l;return null!==n&&void 0!==n&&n.data?[null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.results,null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.count]:[[],0]},getBarInfo:async e=>{const a={barcode:e},n=new W.Ay,s=await n.post("".concat(V.H.MATERIALS,"/").concat(V.H.SEARCH,"/"),a,t);return null!==s&&void 0!==s&&s.data?[null===s||void 0===s?void 0:s.data]:0},searchOutbound:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const s=new W.Ay,l=await s.get("".concat(V.H.MATERIALS,"/").concat(V.H.OUTBOUNDLIST,"/?search_field=").concat(a,"&search_value=").concat(n,"&page=").concat(e,"&page_size=",10),{},t,Function.prototype);var i,o;return null!==l&&void 0!==l&&l.data?[null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.results,null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.count]:[[],0]}}};var ze=a(2432),Fe=a(1497),Me=a(4726),Qe=a(3985);const Ye=()=>{const{token:e}=(0,y.d4)((e=>e[J.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{categories:async()=>{var e;const a=new W.Ay,n=await a.get("".concat(V.H.CATEGORIES,"/"),{},t,Function.prototype);var s,l;return null!==n&&void 0!==n&&null!==(e=n.data)&&void 0!==e&&e.results?null===n||void 0===n||null===(s=n.data)||void 0===s||null===(l=s.results)||void 0===l?void 0:l.map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.name}))):[]},createCategory:async e=>{if(!e)return;const a=new W.Ay,n=await a.post("".concat(V.H.CATEGORIES,"/"),{name:e},t,Function.prototype);return null!==n&&void 0!==n&&n.data?null===n||void 0===n?void 0:n.data:void 0}}},Be=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,isTool:o}=e;const[r,c]=(0,v.useState)(0),[d,u]=(0,v.useState)(new Map),[h,p]=(0,v.useState)(!1),{categories:m}=Ye(),x=[{title:"Name",placeholder:"Enter name",type:Y.wN.INPUT,name:"name",validator:Y.wY.REQUIRED},{title:"SAP Id",placeholder:"Enter SAP Id",type:Y.wN.INPUT,name:"sap_id"},{title:"HSN CODE",placeholder:"HSN CODE",type:Y.wN.INPUT,name:"hsn_code"},{title:"Vendor part ID",placeholder:"vendor part id",type:Y.wN.INPUT,name:"vendor_part_id"},{title:"Category",placeholder:"Select Category",type:Y.wN.MASTER,name:"category",validator:Y.wY.REQUIRED,fetch:[m],noSearch:!0},{title:"Unit",placeholder:"",type:Y.wN.SELECT,name:"unit",validator:Y.wY.REQUIRED,keyValues:Y.QN},{title:"Cost",placeholder:"cost",type:Y.wN.INPUT,name:"cost",validator:Y.wY.REQUIRED},{title:"Expected Life",placeholder:"",type:Y.wN.INPUT,name:"expected_life"},{title:"Serialization",placeholder:"Select the serialization type",type:Y.wN.SELECT,name:"serialization_method",validator:Y.wY.NUMBER,keyValues:Y.QO}],A=()=>{u(new Map),s({location:{},specification:{}}),c(0),a()};return(0,v.useEffect)((()=>{o||A()}),[o]),(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,80vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:["CREATE NEW ",o?"TOOL":"MATERIAL"]}),(0,B.jsx)(ze.A,{activeStep:r,alternativeLabel:!0,children:["Info","Specifications","Location"].map((e=>(0,B.jsx)(Fe.A,{children:(0,B.jsx)(Me.A,{children:e})},e)))}),0===r&&(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:x}),1===r&&(0,B.jsx)(Qe.A,{setItemss:null===n||void 0===n?void 0:n.specification,setJson:e=>s((t=>({...t,specification:e}))),title:"Specification"}),2===r&&(0,B.jsx)(Qe.A,{setItemss:null===n||void 0===n?void 0:n.location,setJson:e=>s((t=>({...t,location:e}))),title:"Location"}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:()=>{0===r?A():c((e=>e-1))},children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:async()=>{if(0!==r)1!==r?2===r&&(p(!0),await i(),p(!1),c(0)):c((e=>e+1));else{const e=(0,le.bG)(x,n);if(u(e),e.size)return;c((e=>e+1))}},loading:h,children:2===r?"Create":"Next"})]})]})},Ge=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,isTool:o}=e;const[r,c]=(0,v.useState)(0),[d,u]=(0,v.useState)(new Map),[h,p]=(0,v.useState)(!1),{categories:m}=Ye(),x=[{title:"Name",placeholder:"Enter name",type:Y.wN.INPUT,name:"name",validator:Y.wY.REQUIRED},{title:"SAP Id",placeholder:"Enter SAP Id",type:Y.wN.INPUT,name:"sap_id"},{title:"HSN CODE",placeholder:"HSN CODE",type:Y.wN.INPUT,name:"hsn_code"},{title:"Vendor part ID",placeholder:"vendor part id",type:Y.wN.INPUT,name:"vendor_part_id"},{title:"Category",placeholder:"Select Category",type:Y.wN.MASTER,name:"category",validator:Y.wY.REQUIRED,fetch:[m],noSearch:!0},{title:"Unit",placeholder:"",type:Y.wN.SELECT,name:"unit",validator:Y.wY.REQUIRED,keyValues:Y.QN},{title:"Cost",placeholder:"cost",type:Y.wN.INPUT,name:"cost",validator:Y.wY.REQUIRED},{title:"Expected Life",placeholder:"",type:Y.wN.INPUT,name:"expected_life",validator:Y.wY.REQUIRED},{title:"Serialization",placeholder:"Select the serialization type",type:Y.wN.SELECT,name:"serialization_method",validator:Y.wY.NUMBER,keyValues:Y.QO}],A=()=>{u(new Map),s({location:{},specification:{}}),c(0),a()};return(0,v.useEffect)((()=>{o||A()}),[o]),(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,80vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:["EDIT ",o?"TOOL":"MATERIAL"]}),(0,B.jsx)(ze.A,{activeStep:r,alternativeLabel:!0,children:["Info","Specifications","Location"].map((e=>(0,B.jsx)(Fe.A,{children:(0,B.jsx)(Me.A,{children:e})},e)))}),0===r&&(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:x}),1===r&&(0,B.jsx)(Qe.A,{setItemss:null===n||void 0===n?void 0:n.specification,setJson:e=>s((t=>({...t,specification:e}))),title:"Specification"}),2===r&&(0,B.jsx)(Qe.A,{setItemss:null===n||void 0===n?void 0:n.location,setJson:e=>s((t=>({...t,location:e}))),title:"Location"}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:()=>{0===r?A():c((e=>e-1))},children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:async()=>{if(0!==r)1!==r?2===r&&(p(!0),await i(),p(!1),c(0)):c((e=>e+1));else{const e=(0,le.bG)(x,n);if(u(e),e.size)return;c((e=>e+1))}},loading:h,children:2===r?"Edit":"Next"})]})]})};var qe=a(6012);const We=()=>{const[e,t]=(0,v.useState)([]),[a,n]=(0,v.useState)(),[s,i]=(0,v.useState)(0),[r,c]=(0,v.useState)(!1),[d,u]=(0,v.useState)(0),[h,p]=(0,v.useState)(null),[m,x]=(0,v.useState)([]),[A,y]=(0,v.useState)(0),[w,g]=(0,v.useState)(""),[j,f]=(0,v.useState)(""),[S,C]=(0,v.useState)(!1),[b,N]=(0,v.useState)({specification:{},location:{}}),{list:E,create:k,remove:I,createInbound:_,update:D,searchList:R}=Re(),{list:P,create:O,remove:U,update:L,createInbound:H,searchlistMat:z}=He(),{createCategory:F,categories:M}=Ye();(0,v.useEffect)((()=>{Y()}),[d,A]);const Y=async()=>{n("fetch");const[e,a]=1===A?await P(d+1):await E(d+1);t(e),i(a),n(!1)},q=async e=>{""!==w?(n("fetch"),setTimeout((async()=>{const[a,n]=1===A?await z(d+1,w,e):await R(d+1,w,e);t(a),i(n)}),1e3),n(!1)):T.oR.warn("Please Select Search by Option")},W=[{id:42,title:"Name",render:e=>e.name},{id:1,title:"SAP ID",render:e=>e.sap_id},{id:2,title:"HSN CODE",render:e=>e.hsn_code},{id:3,title:"Serialization",render:e=>1===e.serialization_method?"No Serialization":2===e.serialization_method?"Use Pre-Generated ID":3===e.serialization_method?"Use Own ID":"-"},{id:4,title:"Vendor Part ID",render:e=>e.vendor_part_id},{id:5,title:"Category",render:e=>(0,B.jsx)(he,{title:null===e||void 0===e?void 0:e.category})},{id:6,title:"Specifications",render:e=>(0,B.jsx)(Le,{icon:(0,B.jsx)(Pe.A,{fontSize:"small"}),json:null===e||void 0===e?void 0:e.specification})},{id:8,title:"Location",render:e=>(0,B.jsx)(Le,{icon:(0,B.jsx)(Oe.A,{fontSize:"small"}),json:null===e||void 0===e?void 0:e.location})},{id:9,title:"Actions",render:e=>(0,B.jsxs)(l.A,{sx:{flexDirection:"row"},children:[(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>(async e=>{n("fetch"),1===A?await U(e):await I(e),await Y(),n(!1)})(null===e||void 0===e?void 0:e.id),children:(0,B.jsx)(ee.A,{color:"error",fontSize:"small"})}),(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{c("edit"),N(e),N((t=>({...t,category:{value:e.category}})))},children:(0,B.jsx)(te.A,{color:"primary",fontSize:"small"})})]})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("h1",{className:"mt-4",children:["Master",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",s,")"]})]}),(0,B.jsxs)(l.A,{justifyContent:"flex-end",direction:"row",children:[(0,B.jsx)(Z.A,{onClick:()=>c("csv"),bordered:!0,classes:"mr-1",children:"Upload CSV"}),(0,B.jsx)(Z.A,{onClick:()=>c("add"),children:"Create"})]})]}),(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsx)(ce.A,{value:A,onChange:(e,t)=>{y(t),u(0)},className:"mb-2",children:["Tools","Materials"].map(((e,t)=>(0,B.jsx)(de.A,{label:e,className:"fw-500",value:t})))}),(0,B.jsxs)(l.A,{direction:"row",justifyContent:"flex-end",children:[(0,B.jsx)(qe.A,{keyValues:[{id:"name",title:"Name"},{id:"sap_id",title:"SAP ID"},{id:"hsn_code",title:"HSN CODE"},{id:"internal_id",title:"Internal ID"},{id:"serialization",title:"Serialization"},{id:"category",title:"Category"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1",value:w,onChange:e=>g(e.target.value)}),(0,B.jsx)(Q.A,{height:"37px",placeholder:"Universal Search",onChange:e=>{f(e.target.value),q(e.target.value)},icon:(0,B.jsx)(Ue.A,{sx:{cursor:"pointer"},onClick:()=>q()})})]})]}),(0,B.jsx)(G,{edit:S,columns:W,rows:e,rowsPerPage:5,loading:"fetch"===a,titleCellClasses:"c-gray fw-700",page:d,setPage:u,paginator:!0,serialize:!0,total:s}),(0,B.jsx)(Be,{onClose:()=>c(!1),open:"add"===r,data:b,onSubmit:async()=>{var e,t;let a=null===b||void 0===b||null===(e=b.category)||void 0===e?void 0:e.key;if(null!==b&&void 0!==b&&null!==(t=b.category)&&void 0!==t&&t.isNew){const e=await F(a);a=null===e||void 0===e?void 0:e.id}const n={...b,category:a},s=1===A?await O(n):await k(n);null!==s&&void 0!==s&&s.id&&(N({specification:{},location:{}}),c(!1),await Y())},setData:N,isTool:0===A}),(0,B.jsx)(Se,{onClose:()=>c(!1),open:"csv"===r,onSubmit:async()=>{const e=await M();var t="";m.map((async a=>{if(e.map((async e=>{a.category===e.value&&(t=e.key)})),console.log("pre catID",t),""===t&&void 0===t){const e=await F(a.category);t=null===e||void 0===e?void 0:e.id}a.category=t,console.log(" final item",a),1===A?await O(a):await k(a)})),c(!1),setTimeout((async()=>{await Y()}),500)},file:h,setFile:p,setCsvData:x}),(0,B.jsx)(Ge,{onClose:()=>c(!1),open:"edit"===r,data:b,onSubmit:async e=>{const t={...b};n("fetch"),1===A?await L(t):await D(t),c(!1),await Y(),n(!1)},setData:N,isTool:0===A})]})};Y.wN.INPUT,Y.wY.REQUIRED,Y.wN.INPUT,Y.wN.INPUT,Y.wN.INPUT,Y.wY.REQUIRED,Y.wN.INPUT,Y.wY.REQUIRED,Y.wN.SELECT,Y.wY.NUMBER,Y.QO;var Ve=a(3141),Je=a(3092),Xe=a.n(Je),Ze=a(1867);const Ke=[],$e=(0,v.forwardRef)(((e,t)=>{let{open:a,onClose:n,data:s,setData:o,onSubmit:r,isTool:c,onGenerate:d,codes:u}=e;const h=(0,y.d4)((e=>{var t;return null===e||void 0===e||null===(t=e.InboundItem)||void 0===t?void 0:t.data})),p=(0,v.useRef)(null),m=(0,v.useRef)(null),[x,w]=(0,v.useState)(0),[g,j]=(0,v.useState)(new Map),[f,S]=(0,v.useState)(!1),[C,b]=(0,v.useState)([]),[N,E]=(0,v.useState)(""),[k,I]=(0,v.useState)(""),T=()=>{j(new Map),o({}),w(0),n()};function _(){setTimeout((()=>{p.current.focus()}),500)}(0,v.useImperativeHandle)(t,(()=>({handleFocus:_,handlePrintq:D}))),(0,v.useEffect)((()=>{c||T()}),[c]);const D=(0,Ve.useReactToPrint)({content:()=>m.current,onPrintError:()=>console.log("error------"),removeAfterPrint:!0});return(0,B.jsxs)(K.A,{open:a,onClose:n,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)(i.A,{sx:{mt:2},children:[null===h||void 0===h?void 0:h.sap_id," / ",null===h||void 0===h?void 0:h.hsn_code," ",">"," ",null===h||void 0===h?void 0:h.category," ",">"," ",null===h||void 0===h?void 0:h.name]}),(0,B.jsx)(A.A,{}),(0,B.jsx)(l.A,{sx:{flexDirection:"row"},children:(0,B.jsx)(i.A,{children:"Location"})}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row"},children:[(0,B.jsxs)(l.A,{sx:{width:"40%"},children:[(0,B.jsxs)("p",{className:Ze.A.title,style:{marginBottom:0},children:["Unit : ",null===h||void 0===h?void 0:h.unit]}),2===(null===h||void 0===h?void 0:h.serialization_method)&&(0,B.jsxs)("p",{className:Ze.A.title,style:{marginBottom:0},children:["New Quantity :\xa0",2===(null===h||void 0===h?void 0:h.serialization_method)&&C.length]})]}),(0,B.jsxs)(l.A,{sx:{width:"60%"},children:[(0,B.jsxs)("p",{className:Ze.A.title,style:{marginBottom:0},children:["Present Quanitity : ",null===h||void 0===h?void 0:h.remaining_stock]}),2===(null===h||void 0===h?void 0:h.serialization_method)&&(0,B.jsxs)(l.A,{sx:{flexDirection:"row",width:"100%",alignItems:"center",gap:1,mt:1.5},children:[(0,B.jsx)("label",{className:Ze.A.title,style:{marginBottom:0},children:"Scan Code :"}),(0,B.jsx)("input",{ref:p,type:"text",value:N,onKeyUp:e=>{"Enter"===e.code&&(C.includes(N)||b([...C,N]),E(""),console.log("count---",s[0]))},onChange:e=>E(e.target.value)})]})]})]}),2!==(null===h||void 0===h?void 0:h.serialization_method)&&(0,B.jsxs)(l.A,{sx:{flexDirection:"row",width:"100%",alignItems:"center",gap:1,mt:1},children:[(0,B.jsx)("label",{className:Ze.A.title,children:"New Quanitity :"}),(0,B.jsx)("input",{onChange:e=>I(e.target.value)})]}),(0,B.jsx)(se.A,{data:s,errors:g,onChange:e=>{const{name:t,value:a}=e.target;j((e=>(e.delete(t),e))),o((e=>({...e,[t]:a})))},schema:Ke,handleCounter:e=>{"add"===e?o((e=>({...e,[Object.keys(s)[0]]:Number(s.newQuanitity)+1}))):s.newQuanitity>0&&o((e=>({...e,[Object.keys(s)[0]]:Number(s.newQuanitity)-1})))}}),2===(null===h||void 0===h?void 0:h.serialization_method)&&(0,B.jsx)(l.A,{sx:{mt:2},children:(0,B.jsx)(i.A,{variant:"h4",sx:{alignSelf:"center",letterSpacing:4},children:N})}),3===(null===h||void 0===h?void 0:h.serialization_method)&&(0,B.jsxs)(l.A,{sx:{mt:1},children:[(0,B.jsx)(Z.A,{onClick:async()=>{const e={quantity:Number(k)};await d(e,null===h||void 0===h?void 0:h.id)},loading:f,children:"Print Barcode"}),3===(null===h||void 0===h?void 0:h.serialization_method)&&u&&u.length&&(0,B.jsx)(l.A,{sx:{overflow:"scroll",height:70,overflowX:"hidden"},children:(0,B.jsx)(l.A,{ref:m,gap:1,sx:{justifyItems:"center",alignItems:"center"},children:u&&u[0].map(((e,t)=>(0,B.jsx)(Xe(),{value:e,width:1,height:40,fontSize:16,margin:5},t)))})})]}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:()=>{0===x?T():w((e=>e-1))},children:"Cancel"}),3===(null===h||void 0===h?void 0:h.serialization_method)?(0,B.jsx)(Z.A,{onClick:()=>(()=>{const e={quantity:u[0].length,serial_numbers:u[0]};r(null===h||void 0===h?void 0:h.id,e)})(),loading:f,children:"Save"}):(0,B.jsx)(Z.A,{onClick:()=>{const e={quantity:1===(null===h||void 0===h?void 0:h.serialization_method)?k:C.length,serial_numbers:C};r(null===h||void 0===h?void 0:h.id,e)},loading:f,children:"Save"})]})]})})),et=$e;var tt=a(1282);const at=()=>{const e=(0,y.wA)(),t=(0,v.useRef)(),[a,n]=(0,v.useState)([]),[s,i]=(0,v.useState)(),[r,c]=(0,v.useState)(),[d,u]=(0,v.useState)(0),[h,p]=(0,v.useState)(!1),[m,x]=(0,v.useState)(0),[A,w]=(0,v.useState)(0),[g,j]=(0,v.useState)({}),[f,S]=(0,v.useState)(""),[C,b]=(0,v.useState)(""),{list:N,create:E,createInbound:k,genBarCode:I,searchList:_}=Re(),{list:D,create:R,createInbound:P,searchlistMat:O}=He(),[U,L]=(0,v.useState)({});(0,v.useEffect)((()=>{H()}),[m,A]);const H=async(e,t)=>{c("fetch");const[a,s]=1===A?await D(m+1):await N(m+1);n(a),u(s),c(!1)},z=async e=>{""!==f?(c("fetch"),setTimeout((async()=>{const[t,a]=1===A?await O(m+1,f,e):await _(m+1,f,e);n(t),u(a)}),1e3),c(!1)):T.oR.warn("Please Select Search by Option")},F=[{id:3,title:"Name",render:e=>e.name},{id:4,title:"HSN Code",render:e=>e.hsn_code},{id:5,title:"Vendor Part ID",render:e=>e.vendor_part_id},{id:"cat",title:"Category",render:e=>e.category},{id:6,title:"Serialization",render:e=>1===e.serialization_method?"No Serialization":2===e.serialization_method?"Use Pre-Generated ID":3===e.serialization_method?"Use Own ID":"-"},{id:7,title:"Details",render:e=>e.details},{id:9,title:"Cost",render:e=>e.cost},{id:10,title:"Quantity",render:e=>e.remaining_stock},{id:10,title:"Expected Life",render:e=>e.expected_life},{id:11,title:"Actions",render:a=>(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{var n;(p("add"),2===a.serialization_method)&&(null===(n=t.current)||void 0===n||n.handleFocus());e((0,tt.S)(a))},children:(0,B.jsx)(ke.A,{color:"primary",fontSize:"small"})})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsxs)("h1",{className:"mt-4",children:["Inbound",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",d,")"]})]})}),(0,B.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,B.jsx)(ce.A,{value:A,onChange:(e,t)=>{w(t),x(0)},children:["Tools","Materials"].map(((e,t)=>(0,B.jsx)(de.A,{className:"fw-500",label:e,value:t},t)))}),(0,B.jsxs)(l.A,{direction:"row",justifyContent:"flex-end",children:[(0,B.jsx)(qe.A,{keyValues:[{id:"name",title:"Name"},{id:"sap_id",title:"SAP ID"},{id:"hsn_code",title:"HSN CODE"},{id:"internal_id",title:"Internal ID"},{id:"serialization",title:"Serialization"},{id:"category",title:"Category"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1",value:f,onChange:e=>{S(e.target.value)}}),(0,B.jsx)(Q.A,{height:"37px",placeholder:"Universal Search",onChange:e=>{b(e.target.value),z(e.target.value)},icon:(0,B.jsx)(Ue.A,{onClick:()=>z(),sx:{cursor:"pointer"}})})]})]}),(0,B.jsx)(G,{columns:F,rows:a,rowsPerPage:5,loading:"fetch"===r,titleCellClasses:"c-gray fw-700",page:m,setPage:x,paginator:!0,serialize:!0,total:d}),(0,B.jsx)(et,{row:U,onClose:()=>p(!1),open:"add"===h,data:g,onSubmit:async(e,t)=>{1===A?await P(t,e):await k(t,e),await H(),j({}),p(!1)},setData:j,isTool:0===A,ref:t,onGenerate:async(e,a)=>{const n=await I(e,a);i(n),n.length&&setTimeout((()=>{var e;null===(e=t.current)||void 0===e||e.handlePrintq()}),1e3)},codes:s})]})},nt=()=>{const{token:e}=(0,y.d4)((e=>e[J.X.AUTH])),t=(0,y.d4)((e=>{var t;return null===e||void 0===e||null===(t=e.SelectSearch)||void 0===t?void 0:t.data})),a={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=new W.Ay,n=await t.get("".concat(V.H.MATERIALS,"/?page=").concat(e),{},a,Function.prototype);var s,l;return null!==n&&void 0!==n&&n.data?[null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.results,null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.count]:[[],0]},searchlistMat:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const s=new W.Ay,l=await s.get("".concat(V.H.MATERIALS,"/?search_field=").concat(t,"&search_value=").concat(n,"&page=").concat(e,"&page_size=",10),{},a,Function.prototype);var i,o;return null!==l&&void 0!==l&&l.data?[null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.results,null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.count]:[[],0]},matOutBoundItem:async(e,t)=>{const n={serial_number:e.barcode,internal_id:t},s=new W.Ay,l=await s.post("".concat(V.H.MATERIALS,"/").concat(e.id,"/").concat(V.H.ALL_ISSUED,"/"),n,a);return null===l||void 0===l?void 0:l.data},historyList:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=new W.Ay,n=await t.get("".concat(V.H.MATERIALS,"/").concat(V.H.OUTBOUNDLIST,"/?page=").concat(e),{},a,Function.prototype);var s,l;return null!==n&&void 0!==n&&n.data?[null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.results,null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.count]:[[],0]},getBarInfo:async e=>{const t={barcode:e},n=new W.Ay,s=await n.post("".concat(V.H.MATERIALS,"/").concat(V.H.SEARCH,"/"),t,a);return null!==s&&void 0!==s&&s.data?[null===s||void 0===s?void 0:s.data]:0},searchOutbound:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const s=new W.Ay,l=await s.get("".concat(V.H.MATERIALS,"/").concat(V.H.OUTBOUNDLIST,"/?search_field=").concat(t,"&search_value=").concat(n,"&page=").concat(e,"&page_size=",10),{},a,Function.prototype);var i,o;return null!==l&&void 0!==l&&l.data?[null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.results,null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.count]:[[],0]},fetchToolInbound:async(e,t)=>{const n=new W.Ay,s=await n.get("".concat(V.H.TOOLS,"/?serialization=1&search_field=").concat(e,"&search_value=").concat(t),{},a,Function.prototype);var l,i;return null!==s&&void 0!==s&&s.data?[null===s||void 0===s||null===(l=s.data)||void 0===l?void 0:l.results,null===s||void 0===s||null===(i=s.data)||void 0===i?void 0:i.count]:[]},fetchMaterialInbound:async(e,n)=>{const s=new W.Ay,l=await s.get("".concat(V.H.MATERIALS,"/?serialization=1&search_field=").concat(t,"&search_value=").concat(e),{},a,Function.prototype);var i,o;return null!==l&&void 0!==l&&l.data?[null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.results,null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.count]:[]}}};a(8943),a(6638);const st=()=>{(0,y.wA)();const e=(0,v.useRef)(),[t,a]=(0,v.useState)([]),[n,s]=(0,v.useState)(),[o,r]=(0,v.useState)(0),[c,d]=(0,v.useState)(0),[u,h]=(0,v.useState)(0),[p,m]=(0,v.useState)("Serialization"),[x,A]=(0,v.useState)(""),[w,g]=(0,v.useState)(""),[j,f]=(0,v.useState)(""),{list:S,create:C,createInbound:b,genBarCode:N,searchList:E,getBarInfo:k,outBoundItem:I}=Re(),{list:_,create:D,createInbound:R,searchlistMat:P,matOutBoundItem:O,getBarInfo:U}=He(),{fetchToolInbound:L,fetchMaterialInbound:H}=nt(),[z,F]=(0,v.useState)(""),[M,Y]=(0,v.useState)([]),[q,W]=(0,v.useState)([]);(0,v.useEffect)((()=>{"Serialization"===p&&e.current.focus()}),[c,u]);const V=[{id:2,title:"Inbound Date",render:e=>(0,B.jsx)(i.A,{children:Ee()(e.created).format("LL")})},{id:3,title:"Name",render:e=>e.name},{id:1,title:"Barcode",render:e=>e.barcode},{id:4,title:"Expected Life",render:e=>e.expected_life},{id:6,title:"Total Stock",render:e=>"No Serialization"===p?e.remaining_stock:1},{id:5,title:"Quantity ",render:e=>"No Serialization"===p?(0,B.jsx)(Q.A,{width:"15%",onChange:t=>J(t,e.id)}):1}],J=(e,t)=>{const{value:a}=e.target,n=q.map((e=>e.id===t?{...e,quantity:a}:e));W(n)};return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsx)("h1",{className:"mt-4",children:"Outbound"})}),(0,B.jsx)("div",{className:" items-center  mb-3 fw-500",children:(0,B.jsx)(ce.A,{value:u,onChange:(e,t)=>{h(t),d(0)},children:["Tools","Materials"].map(((e,t)=>(0,B.jsx)(de.A,{label:e,className:"fw-500",value:t},t)))})}),(0,B.jsxs)("div",{className:"flex items-center  mb-3",children:[(0,B.jsx)(ce.A,{value:p,onChange:(e,t)=>{m(t)},children:["Serialization","No Serialization"].map(((e,t)=>(0,B.jsx)(de.A,{label:e,value:e},t)))}),"No Serialization"===p?(0,B.jsxs)(l.A,{direction:"row",justifyContent:"flex-end",ml:5,children:[(0,B.jsx)(qe.A,{keyValues:[{id:"name",title:"Name"},{id:"sap_id",title:"SAP ID"},{id:"hsn_code",title:"HSN CODE"},{id:"internal_id",title:"Internal ID"},{id:"serialization",title:"Serialization"},{id:"category",title:"Category"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1",value:w,onChange:e=>{g(e.target.value)}}),(0,B.jsx)(Q.A,{height:"37px",placeholder:"Universal Search",onChange:e=>{f(e.target.value),(async(e,t)=>{s("fetch");const[a,n]=1===u?await H(e,t):await L(e,t);W(a),s(!1)})(w,e.target.value)}})]}):(0,B.jsx)("input",{style:{marginLeft:50},className:Ze.A.input,ref:e,height:"17px",placeholder:"Scan Code",value:z,onKeyUp:e=>async function(e){if("Enter"===e.code){if(!M.includes(z)){Y([...M,z]);const e=1===u?await U(z):await k(z);if(e[0]){const t=1===u?{created:e[0].material_lot.created,name:e[0].material_type.name,id:e[0].material_type.id,expected_life:e[0].material_type.expected_life,barcode:e[0].barcode}:{created:e[0].tool_lot.created,name:e[0].tool_type.name,id:e[0].tool_type.id,expected_life:e[0].tool_type.expected_life,barcode:e[0].barcode};W([...q,t])}}F("")}}(e),onChange:e=>F(e.target.value)})]}),q.length>0&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(G,{columns:V,rows:q,rowsPerPage:10,loading:"fetch"===n,titleCellClasses:"c-gray fw-700"}),(0,B.jsx)(l.A,{sx:{mt:1,alignItems:"flex-end"},children:(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:1},children:[(0,B.jsx)(Q.A,{placeholder:"Internal Id",value:x,onChange:e=>{A(e.target.value)}}),(0,B.jsx)(Z.A,{width:"fit-content",onClick:async()=>{""!==x?(q.map((async(e,t)=>{if("No Serialization"===p){if(!e.quantity)return;0===u?await I(e,x):O(e,x)}else 0===u?await I(e,x):O(e,x)})),W([]),Y([]),A("")):T.oR.warn("Please Fill Internal Id")},loading:n,children:"Save"})]})})]})]})},lt=()=>{(0,y.wA)(),(0,v.useRef)();const[e,t]=(0,v.useState)([]),[a,n]=(0,v.useState)(),[s,i]=(0,v.useState)(),[o,r]=(0,v.useState)(0),[c,d]=(0,v.useState)(!1),[u,h]=(0,v.useState)(0),[p,m]=(0,v.useState)(0),[x,A]=(0,v.useState)({}),[w,g]=(0,v.useState)(""),[j,f]=(0,v.useState)(""),{historyList:S,searchOutbound:C}=Re(),{historyList:b,searchOutbound:N}=He(),[E,k]=(0,v.useState)({});(0,v.useEffect)((()=>{I()}),[u,p]);const I=async(e,a)=>{i("fetch");const[n,s]=1===p?await b(u+1):await S(u+1);t(n),r(s),i(!1)},_=async e=>{""!==w?(i("fetch"),setTimeout((async()=>{const[a,n]=1===p?await N(u+1,w,e):await C(u+1,w,e);t(a),r(n)}),1e3),i(!1)):T.oR.warn("Please Select Search by Option")},D=[{id:3,title:"Name",render:e=>{var t,a;return(null===(t=e.tool_type)||void 0===t?void 0:t.name)||(null===(a=e.material_type)||void 0===a?void 0:a.name)}},{id:4,title:"Bar Code",render:e=>e.serial_number},{id:5,title:"Internal ID",render:e=>e.internal_id},{id:6,title:"Category",render:e=>{var t,a;return(null===(t=e.tool_type)||void 0===t?void 0:t.category)||(null===(a=e.material_type)||void 0===a?void 0:a.category)}},{id:1,title:"Inbound Date",render:e=>{var t,a;return null!==(t=e.tool_lot)&&void 0!==t&&t.created?Ee()(e.tool_lot.created).format("lll"):Ee()(null===(a=e.material_lot)||void 0===a?void 0:a.created).format("lll")}},{id:2,title:"Outbound Date",render:e=>Ee()(e.created).format("lll")}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsxs)("h1",{className:"mt-4",children:["Outbound History",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",o,")"]})]})}),(0,B.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,B.jsx)(ce.A,{value:p,onChange:(e,t)=>{m(t),h(0)},children:["Tools","Materials"].map(((e,t)=>(0,B.jsx)(de.A,{label:e,className:"fw-500",value:t},t)))}),(0,B.jsxs)(l.A,{direction:"row",justifyContent:"flex-end",children:[(0,B.jsx)(qe.A,{keyValues:[{id:"name",title:"Name"},{id:"internal_id",title:"Internal ID"},{id:"category",title:"Category"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1",value:w,onChange:e=>{g(e.target.value)}}),(0,B.jsx)(Q.A,{height:"37px",placeholder:"Universal Search",onChange:e=>{f(e.target.value),_(e.target.value)},icon:(0,B.jsx)(Ue.A,{onClick:()=>_(),sx:{cursor:"pointer"}})})]})]}),(0,B.jsx)(G,{columns:D,rows:e,rowsPerPage:5,loading:"fetch"===s,titleCellClasses:"c-gray fw-700",page:u,setPage:h,paginator:!0,serialize:!0,total:o})]})},it=()=>{(0,y.wA)();const e=(0,v.useRef)(),[t,a]=(0,v.useState)([]),[n,s]=(0,v.useState)(),[l,i]=(0,v.useState)(),[o,r]=(0,v.useState)(0),[c,d]=(0,v.useState)(!1),[u,h]=(0,v.useState)(0),[p,m]=(0,v.useState)(0),[x,A]=(0,v.useState)({}),[w,g]=(0,v.useState)(),{list:j,create:f,createInbound:S,genBarCode:C}=Re(),{list:b,create:N,createInbound:E}=He(),[k,I]=(0,v.useState)({});(0,v.useEffect)((()=>{T()}),[u,p]);const T=async()=>{i("fetch");const[e,t]=1===p?await b(u+1):await j(u+1);a(e),r(t),i(!1)};return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsxs)("h1",{className:"mt-4",children:["Store Order",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",o,")"]})]})}),(0,B.jsx)("div",{className:"flex items-center justify-between mb-3"}),(0,B.jsx)(et,{row:k,onClose:()=>d(!1),open:"add"===c,data:x,onSubmit:async(e,t)=>{1===p?await E:await S(t,e),await T(),A({}),d(!1)},setData:A,isTool:0===p,ref:e,onGenerate:async(t,a)=>{const n=await C(t,a);s(n),n.length&&setTimeout((()=>{var t;null===(t=e.current)||void 0===t||t.handlePrintq()}),1e3)},codes:n})]})};var ot=a(2559),rt=a(9593),ct=a(9704),dt=a(2019);function ut(e){let{label:t,colorCode:a,chart:n,...s}=e;const{colors:l,series:i,options:o}=n,r=i.map((e=>e.value)),c={chart:{type:"radialBar",sparkline:{enabled:!0}},plotOptions:{radialBar:{startAngle:-90,endAngle:90,track:{background:"#e7e7e7",strokeWidth:"97%",dropShadow:{enabled:!0,left:0,color:"#999",opacity:1,blur:2}},dataLabels:{name:{show:!0,fontSize:"18px",fontWeight:600,color:a,offsetY:5},value:{show:!0,fontSize:"24px",fontFamily:"Helvetica, Arial",fontWeight:400,color:a,offsetY:-30,formatter:function(e){return e+"%"}}}}},grid:{padding:{top:1}},fill:{type:"solid",colors:[a]},labels:[t]};return(0,B.jsx)(p.A,{sx:{display:"flex",justifyContent:"center"},children:(0,B.jsx)(dt.A,{type:"radialBar",series:r,options:c})})}function ht(e){let{title:t,colorCode:a,chart:n,...s}=e;const{series:i,options:o}=n,r=i.map((e=>e.value)),c={chart:{type:"radialBar",sparkline:{enabled:!0}},plotOptions:{radialBar:{track:{color:a,background:"#e7e7e7",strokeWidth:"85%",margin:5,dropShadow:{enabled:!0,left:0,color:"#999",opacity:1,blur:1}},hollow:{size:"50%"},dataLabels:{show:!0,name:{show:!1},value:{show:!0,fontSize:"14px",color:a,offsetY:5}}}},grid:{padding:{top:1}},stroke:{lineCap:"round"},fill:{type:"solid",colors:[a]}};return(0,B.jsx)(l.A,{sx:{},dir:"ltr",children:(0,B.jsx)(dt.A,{type:"radialBar",series:r,options:c})})}const pt=e=>{let{cCode:t,mState:a}=e;const n=(0,I.Zp)();return(0,B.jsxs)(l.A,{sx:{overflow:"hidden",boxShadow:3,borderRadius:2},children:[(0,B.jsxs)(l.A,{sx:{backgroundColor:t,p:1},children:[(0,B.jsxs)(l.A,{sx:{flexDirection:"row"},children:["on"===a&&(0,B.jsx)(rt.A,{style:{color:Y.lm.WHITE}}),"off"===a&&(0,B.jsx)(ot.A,{style:{color:Y.lm.WHITE}}),"downtime"===a&&(0,B.jsx)(ct.A,{style:{color:Y.lm.WHITE}}),(0,B.jsx)(i.A,{sx:{ml:1},children:"Line 1"})]}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[(0,B.jsx)(i.A,{variant:"subtitle2",sx:{},children:"Running"}),(0,B.jsx)(i.A,{variant:"subtitle2",sx:{alignSelf:"flex-end"},children:"Last update: July 29, 2024, 11:34 a.m."})]})]}),(0,B.jsx)(l.A,{sx:{mb:1},children:(0,B.jsx)(ut,{label:"OEE",colorCode:t,chart:{series:[{label:"OEE",value:37.77}]}})}),(0,B.jsx)(A.A,{}),(0,B.jsxs)(l.A,{sx:{p:1},children:[(0,B.jsx)(i.A,{children:"Key Metrics"}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:1},children:[(0,B.jsxs)(l.A,{sx:{justifyContent:"center",alignItems:"center",width:"33%"},children:[(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"Availablity"}),(0,B.jsx)(ht,{chart:{series:[{label:"America",value:70}]},colorCode:t})]}),(0,B.jsxs)(l.A,{sx:{justifyContent:"center",alignItems:"center",width:"33%"},children:[(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"Performance"}),(0,B.jsx)(ht,{chart:{series:[{label:"America",value:80}]},colorCode:t})]}),(0,B.jsxs)(l.A,{sx:{justifyContent:"center",alignItems:"center",width:"33%"},children:[(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"Quantity"}),(0,B.jsx)(ht,{chart:{series:[{label:"America",value:90}]},colorCode:t})]})]})]}),(0,B.jsx)(A.A,{}),(0,B.jsxs)(l.A,{sx:{p:1},children:[(0,B.jsx)(i.A,{children:"Product Metrics"}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between",p:1},children:[(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"Total"}),(0,B.jsx)(i.A,{children:"10000"})]}),(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"Good"}),(0,B.jsx)(i.A,{children:"10000"})]}),(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"NG"}),(0,B.jsx)(i.A,{children:"23"})]}),(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"Pass"}),(0,B.jsx)(i.A,{children:"10000"})]}),(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"Fail"}),(0,B.jsx)(i.A,{children:"333"})]})]})]}),(0,B.jsx)(A.A,{}),(0,B.jsxs)(l.A,{sx:{p:1},children:[(0,B.jsx)(i.A,{children:"Packet Per Second"}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between",p:1},children:[(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"Best"}),(0,B.jsx)(i.A,{children:"10000"})]}),(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"Worst"}),(0,B.jsx)(i.A,{children:"10000"})]}),(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"Average"}),(0,B.jsx)(i.A,{children:"23"})]})]})]}),(0,B.jsx)(A.A,{}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold",textDecoration:"underline",p:1,cursor:"pointer"},onClick:()=>n("/operator-portal"),children:"Operator Portal"})]})};var mt=a(1750);const xt=()=>{const[e,t]=(0,v.useState)(0),[a,n]=(0,v.useState)(""),[s,o]=(0,v.useState)(""),[r,c]=(0,v.useState)({company:"",location:"",division:"",line:""});return(0,B.jsx)(l.A,{children:(0,B.jsx)(i.A,{variant:"h1",children:"404"})})},vt=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o}=e;const r=[{title:"Name",placeholder:"Enter Name",type:Y.wN.INPUT,name:"username",validator:Y.wY.REQUIRED},{title:"Description",placeholder:"Enter description",type:Y.wN.INPUT,name:"email",validator:Y.wY.REQUIRED},{title:"Product Division",placeholder:"",type:Y.wN.SELECT,name:"fullname",validator:Y.wY.REQUIRED}],[c,d]=(0,v.useState)(new Map);return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"ADD NEW LINE"}),(0,B.jsx)(se.A,{data:n,errors:c,onChange:e=>{const{name:t,value:a}=e.target;d((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:r}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:i,loading:o,children:"Create"})]})]})};var At=a(4256),yt=a(8492),wt=a(4605),gt=a(3193),jt=a(1292);const ft=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,edit:r}=e;const c=[{title:"Alias",placeholder:"Enter Name",type:Y.wN.INPUT,name:"alias",validator:Y.wY.REQUIRED},{title:"Model",placeholder:"Enter model",type:Y.wN.INPUT,name:"model",validator:Y.wY.REQUIRED},{title:"Machine ID",placeholder:"Enter machine ID",type:Y.wN.INPUT,name:"machineID",validator:Y.wY.REQUIRED},{title:"Serial Number",placeholder:"Enter serial number",type:Y.wN.INPUT,name:"snumber",validator:Y.wY.REQUIRED},{title:"Supplier",placeholder:"Enter supplier",type:Y.wN.INPUT,name:"supplier",validator:Y.wY.REQUIRED},{title:"Purchase Date",type:Y.wN.DATE,name:"purchase_date",validator:Y.wY.REQUIRED},{title:"Warranty Expiration",type:Y.wN.DATE,name:"warranty",validator:Y.wY.REQUIRED},{title:"API Endpoint",placeholder:"Enter API Endpoint",type:Y.wN.INPUT,name:"api_endpoint",validator:Y.wY.REQUIRED},{title:"Ideal Cycle Time (seconds)",placeholder:"",type:Y.wN.INPUT,name:"api_endpoint",validator:Y.wY.REQUIRED}],[d,u]=(0,v.useState)(new Map),[h,p]=(0,v.useState)("Yes"),[m,x]=(0,v.useState)("Job/Part based"),[A,y]=(0,v.useState)("Yes");return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===r?"EDIT":"ADD"," Station"]}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:c}),(0,B.jsxs)(l.A,{mt:1,children:[(0,B.jsxs)(gt.A,{children:[(0,B.jsx)(jt.A,{sx:{color:"black"},id:"demo-row-radio-buttons-group-label",children:"Is end of line"}),(0,B.jsxs)(yt.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:h,onChange:e=>p(e.target.value),children:[(0,B.jsx)(wt.A,{value:"Yes",control:(0,B.jsx)(At.A,{}),label:"Yes"}),(0,B.jsx)(wt.A,{value:"No",control:(0,B.jsx)(At.A,{}),label:"No"})]})]}),(0,B.jsxs)(gt.A,{children:[(0,B.jsx)(jt.A,{sx:{color:"black"},id:"demo-row-radio-buttons-group-label",children:"Performance Calculation"}),(0,B.jsxs)(yt.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:m,onChange:e=>x(e.target.value),children:[(0,B.jsx)(wt.A,{value:"Job/Part based",control:(0,B.jsx)(At.A,{}),label:"Job/Part based"}),(0,B.jsx)(wt.A,{value:"Output based",control:(0,B.jsx)(At.A,{}),label:"Output based"})]})]}),(0,B.jsxs)(gt.A,{children:[(0,B.jsx)(jt.A,{sx:{color:"black"},id:"demo-row-radio-buttons-group-label",children:"Fixed Cycle Time"}),(0,B.jsxs)(yt.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:A,onChange:e=>y(e.target.value),children:[(0,B.jsx)(wt.A,{value:"Yes",control:(0,B.jsx)(At.A,{}),label:"Yes"}),(0,B.jsx)(wt.A,{value:"No",control:(0,B.jsx)(At.A,{}),label:"No"})]})]})]}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:i,loading:o,children:"Create"})]})]})};var St=a(1337),Ct=a(3968);const bt=()=>{const[e,t]=(0,v.useState)([]),[a,n]=(0,v.useState)(),[s,o]=(0,v.useState)(0),[r,c]=(0,v.useState)(!1),[d,u]=(0,v.useState)(!1),[h,p]=(0,v.useState)(0),[m,x]=(0,v.useState)(!1),[A,y]=(0,v.useState)({name:"",metadata:""}),{list:w,create:g,update:j,remove:f}=ne();(0,v.useEffect)((()=>{S()}),[h]);const S=async()=>{n("fetch");const[e,a]=await w(h+1);t(e),o(a),n(!1)},C=async()=>{const e={...A};n("fetch");let t=e.id;await j(t,e),y({}),u(!1),await S(),n(!1)};return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("h1",{className:"mt-4",children:["Machine Master",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",e.length,")"]})]}),(0,B.jsx)(Z.A,{onClick:()=>u("add"),children:"Create New Line"})]}),(0,B.jsx)(i.A,{children:"Company 1 / Plant 1 / SMT"}),(0,B.jsxs)(l.A,{sx:{backgroundColor:Y.lm.BLUE_OPAQUE,flexDirection:"row",mt:2,p:.5,borderRadius:1},children:[m?(0,B.jsx)(St.A,{sx:{cursor:"pointer"},onClick:()=>x(!1)}):(0,B.jsx)(Ct.A,{sx:{cursor:"pointer"},onClick:()=>x(!0)}),(0,B.jsx)(i.A,{children:"Demo"})]}),m&&(0,B.jsx)(l.A,{sx:{mx:1},children:(0,B.jsxs)(oe.Ay,{sx:{pt:1,gap:1},container:!0,direction:"row",children:[(0,B.jsx)(l.A,{sx:{backgroundColor:Y.lm.BG_GRAY,borderRadius:1,width:"fit-content",p:1,px:2},onClick:()=>{u("addstation"),c(!0)},children:(0,B.jsx)(i.A,{sx:{width:"fit-content"},children:"Wire Cut"})}),(0,B.jsx)(l.A,{sx:{backgroundColor:Y.lm.BG_GRAY,borderRadius:1,width:"fit-content",p:1,px:2},children:(0,B.jsx)(i.A,{sx:{width:"fit-content"},children:"CNC"})}),(0,B.jsx)(l.A,{sx:{width:"fit-content",p:1},children:(0,B.jsx)(ke.A,{color:"primary",onClick:()=>u("addstation")})})]})}),(0,B.jsx)(vt,{open:"add"===d,onClose:()=>{u(!1),c(!1)},data:A,setData:y,onSubmit:C}),(0,B.jsx)(ft,{edit:r,open:"addstation"===d,onClose:()=>{u(!1),c(!1)},data:A,setData:y,onSubmit:C})]})},Nt=()=>{const{token:e}=(0,y.d4)((e=>e[J.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){const e=new W.Ay,a=await e.get("".concat(V.H.ASSET,"/").concat(V.H.COMPANIES,"/"),{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("".concat(V.H.ASSET,"/").concat(V.H.COMPANIES,"/"),e,t,(e=>(0,q.So)(e,null,"Company created successfully!")));return null===n||void 0===n?void 0:n.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new W.Ay,s=await n.put("".concat(V.H.ASSET,"/").concat(V.H.COMPANY,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Company Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{const a=new W.Ay,n=await a.delete("".concat(V.H.ASSET,"/").concat(V.H.COMPANY,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Company deleted successfully!")));return null===n||void 0===n?void 0:n.data}}},Et=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,edit:r}=e;const c=[{title:"Company Name",placeholder:"Enter Company Name",type:Y.wN.INPUT,name:"name",validator:Y.wY.REQUIRED}],[d,u]=(0,v.useState)(new Map);return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===r?"EDIT":"ADD"," NEW COMPANY"]}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:c}),(0,B.jsx)(Qe.A,{setItemss:null===n||void 0===n?void 0:n.metadata,setJson:e=>{s((t=>({...t,metadata:e}))),console.log("data------",e)},title:"Details"}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:i,loading:o,children:"Create"})]})]})},kt=()=>{const e=(0,I.Zp)(),[t,a]=(0,v.useState)([]),[n,s]=(0,v.useState)(),[r,c]=(0,v.useState)(0),[d,u]=(0,v.useState)(!1),[h,p]=(0,v.useState)(!1),[m,x]=(0,v.useState)(0),[A,y]=(0,v.useState)({name:"",metadata:{}}),{list:w,create:g,update:j,remove:f}=Nt();(0,v.useEffect)((()=>{S()}),[m]);const S=async()=>{s("fetch");const[e,t]=await w(m+1);a(e),c(t),s(!1)},C=[{id:2,title:"Company Name",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer",fontSize:20},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:6,title:"Details",render:e=>(0,B.jsx)(Le,{icon:(0,B.jsx)(Pe.A,{fontSize:"small"}),json:null===e||void 0===e?void 0:e.metadata})},{id:5,title:"Actions",render:e=>(0,B.jsxs)(l.A,{flexDirection:"row",children:[(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{y(e),u(!0),p("add")},children:(0,B.jsx)(te.A,{color:"primary",fontSize:"small"})}),(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>(async e=>{s("fetch"),await f(e),await S(),s(!1)})(null===e||void 0===e?void 0:e.id),children:(0,B.jsx)(ee.A,{color:"error",fontSize:"small"})})]})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("h1",{className:"mt-4",children:["Companies",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",t.length,")"]})]}),(0,B.jsx)(Z.A,{onClick:()=>p("add"),children:"Create Company"})]}),(0,B.jsx)(G,{columns:C,rows:t,rowsPerPage:5,loading:"fetch"===n,titleCellClasses:"c-gray fw-700",page:m,setPage:x,paginator:!0,serialize:!0,total:r}),(0,B.jsx)(Et,{open:"add"===h,onClose:()=>{p(!1),u(!1)},data:A,edit:d,setData:y,onSubmit:async()=>{const e={...A};console.log("payload",e),s("fetch"),!0===d?await j(e):await g(e),y({}),p(!1),await S(),s(!1),u(!1)}})]})},It=()=>{const{token:e}=(0,y.d4)((e=>e[J.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>1?arguments[1]:void 0;const a=new W.Ay,n=await a.get("".concat(V.H.ASSET,"/").concat(e,"/").concat(V.H.PLANTS,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;const n=new W.Ay,s=await n.post("".concat(V.H.ASSET,"/").concat(a,"/").concat(V.H.PLANTS,"/"),e,t,(e=>(0,q.So)(e,null,"Plant created successfully!")));return null===s||void 0===s?void 0:s.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new W.Ay,s=await n.put("".concat(V.H.ASSET,"/").concat(V.H.PLANT,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Plant Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{const a=new W.Ay,n=await a.delete("".concat(V.H.ASSET,"/").concat(V.H.PLANT,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Plant deleted successfully!")));return null===n||void 0===n?void 0:n.data}}},Tt=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,edit:r}=e;const c=[{title:"Plant Name",placeholder:"Enter Plant Name",type:Y.wN.INPUT,name:"name",validator:Y.wY.REQUIRED}],[d,u]=(0,v.useState)(new Map);return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===r?"EDIT":"ADD"," NEW PLANT"]}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:c}),(0,B.jsx)(Qe.A,{setItemss:n.metadata,setJson:e=>s((t=>({...t,metadata:e}))),title:"Details"}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:i,loading:o,children:"Create"})]})]})};var _t=a(9120);const Dt=()=>{const e=(0,I.zy)(),t=(0,I.Zp)(),a=e.state,[n,s]=(0,v.useState)([]),[r,c]=(0,v.useState)(),[d,u]=(0,v.useState)(0),[h,p]=(0,v.useState)(!1),[m,x]=(0,v.useState)(!1),[A,y]=(0,v.useState)(0),[w,g]=(0,v.useState)({name:"",metadata:{}}),{list:j,create:f,update:S,remove:C}=It();(0,v.useEffect)((()=>{b()}),[A]);const b=async()=>{c("fetch");const[e,t]=await j(A+1,a);s(e),u(t),c(!1)},N=[{id:1,title:"Plant Name",render:e=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>t("/divisionpage",{state:e.id}),children:e.name})},{id:2,title:"Company Name",render:e=>e.company},{id:3,title:"Details",render:e=>(0,B.jsx)(Le,{icon:(0,B.jsx)(Pe.A,{fontSize:"small"}),json:null===e||void 0===e?void 0:e.metadata})},{id:5,title:"Actions",render:e=>(0,B.jsxs)(l.A,{flexDirection:"row",children:[(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{p(!0),x("add"),g(e)},children:(0,B.jsx)(te.A,{color:"primary",fontSize:"small"})}),(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>(async e=>{c("fetch"),await C(e),await b(),c(!1)})(null===e||void 0===e?void 0:e.id),children:(0,B.jsx)(ee.A,{color:"error",fontSize:"small"})})]})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)(l.A,{sx:{flexDirection:"row",alignItems:"center"},children:[(0,B.jsx)(_t.A,{color:"primary",sx:{mr:1,cursor:"pointer"},onClick:()=>t(-1)}),(0,B.jsxs)("h1",{className:"mt-4",children:["Plant's",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",n.length,")"]})]})]}),(0,B.jsx)(Z.A,{onClick:()=>x("add"),children:"Add Plant"})]}),(0,B.jsx)(G,{columns:N,rows:n,rowsPerPage:5,loading:"fetch"===r,titleCellClasses:"c-gray fw-700",page:A,setPage:y,paginator:!0,serialize:!0,total:d}),(0,B.jsx)(Tt,{open:"add"===m,onClose:()=>{x(!1),p(!1)},data:w,edit:h,setData:g,onSubmit:async()=>{const e={...w};c("fetch"),!0===h?await S(e):await f(e,a),g({}),x(!1),await b(),c(!1),p(!1)}})]})},Rt=()=>{const{token:e}=(0,y.d4)((e=>e[J.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>1?arguments[1]:void 0;const a=new W.Ay,n=await a.get("".concat(V.H.ASSET,"/").concat(e,"/").concat(V.H.DIVISIONS,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;const n=new W.Ay,s=await n.post("".concat(V.H.ASSET,"/").concat(a,"/").concat(V.H.DIVISIONS,"/"),e,t,(e=>(0,q.So)(e,null,"Division created successfully!")));return null===s||void 0===s?void 0:s.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new W.Ay,s=await n.put("".concat(V.H.ASSET,"/").concat(V.H.DIVISION,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Division Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{const a=new W.Ay,n=await a.delete("".concat(V.H.ASSET,"/").concat(V.H.DIVISION,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Division deleted successfully!")));return null===n||void 0===n?void 0:n.data}}},Pt=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,edit:r}=e;const c=[{title:"Division Name",placeholder:"Enter Division Name",type:Y.wN.INPUT,name:"name",validator:Y.wY.REQUIRED}],[d,u]=(0,v.useState)(new Map);return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===r?"EDIT":"ADD"," NEW DIVISION"]}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:c}),(0,B.jsx)(Qe.A,{setItemss:n.metadata,setJson:e=>s((t=>({...t,metadata:e}))),title:"Details"}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:i,loading:o,children:"Create"})]})]})},Ot=()=>{const e=(0,I.zy)(),t=(0,I.Zp)(),a=e.state,[n,s]=(0,v.useState)([]),[r,c]=(0,v.useState)(),[d,u]=(0,v.useState)(0),[h,p]=(0,v.useState)(!1),[m,x]=(0,v.useState)(!1),[A,y]=(0,v.useState)(0),[w,g]=(0,v.useState)({name:"",metadata:{}}),{list:j,create:f,update:S,remove:C}=Rt();(0,v.useEffect)((()=>{b()}),[A]);const b=async()=>{c("fetch");const[e,t]=await j(A+1,a);s(e),u(t),c(!1)},N=[{id:1,title:"Division Name",render:e=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>t("/line",{state:e.id}),children:e.name})},{id:2,title:"Plant Name",render:e=>e.plant},{id:6,title:"Details",render:e=>(0,B.jsx)(Le,{icon:(0,B.jsx)(Pe.A,{fontSize:"small"}),json:null===e||void 0===e?void 0:e.metadata})},{id:5,title:"Actions",render:e=>(0,B.jsxs)(l.A,{flexDirection:"row",children:[(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{p(!0),x("add"),g(e)},children:(0,B.jsx)(te.A,{color:"primary",fontSize:"small"})}),(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>(async e=>{c("fetch"),await C(e),await b(),c(!1)})(null===e||void 0===e?void 0:e.id),children:(0,B.jsx)(ee.A,{color:"error",fontSize:"small"})})]})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)(l.A,{sx:{flexDirection:"row",alignItems:"center"},children:[(0,B.jsx)(_t.A,{color:"primary",sx:{mr:1,cursor:"pointer"},onClick:()=>t(-1)}),(0,B.jsxs)("h1",{className:"mt-4",children:["Division's",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",n.length,")"]})]})]}),(0,B.jsx)(Z.A,{onClick:()=>x("add"),children:"Add Division"})]}),(0,B.jsx)(G,{columns:N,rows:n,rowsPerPage:5,loading:"fetch"===r,titleCellClasses:"c-gray fw-700",page:A,setPage:y,paginator:!0,serialize:!0,total:d}),(0,B.jsx)(Pt,{open:"add"===m,onClose:()=>{x(!1),p(!1)},data:w,edit:h,setData:g,onSubmit:async()=>{const e={...w};c("fetch"),!0===h?await S(e):await f(e,a),g({}),x(!1),await b(),c(!1),p(!1)}})]})},Ut=()=>{const{token:e}=(0,y.d4)((e=>e[J.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>1?arguments[1]:void 0;const a=new W.Ay,n=await a.get("".concat(V.H.ASSET,"/").concat(e,"/").concat(V.H.LINES,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;const n=new W.Ay,s=await n.post("".concat(V.H.ASSET,"/").concat(a,"/").concat(V.H.LINES,"/"),e,t,(e=>(0,q.So)(e,null,"Line created successfully!")));return null===s||void 0===s?void 0:s.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new W.Ay,s=await n.put("".concat(V.H.ASSET,"/").concat(V.H.LINE,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Line Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{const a=new W.Ay,n=await a.delete("".concat(V.H.ASSET,"/").concat(V.H.LINE,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Line deleted successfully!")));return null===n||void 0===n?void 0:n.data}}},Lt=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,edit:r}=e;const c=[{title:"Line Name",placeholder:"Enter Line Name",type:Y.wN.INPUT,name:"name",validator:Y.wY.REQUIRED}],[d,u]=(0,v.useState)(new Map);return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===r?"EDIT":"ADD"," NEW LINE"]}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:c}),(0,B.jsx)(Qe.A,{setItemss:n.metadata,setJson:e=>s((t=>({...t,metadata:e}))),title:"Details"}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:i,loading:o,children:"Create"})]})]})},Ht=()=>{const e=(0,I.zy)(),t=(0,I.Zp)(),a=e.state,[n,s]=(0,v.useState)([]),[r,c]=(0,v.useState)(),[d,u]=(0,v.useState)(0),[h,p]=(0,v.useState)(!1),[m,x]=(0,v.useState)(!1),[A,y]=(0,v.useState)(0),[w,g]=(0,v.useState)({name:"",metadata:{}}),{list:j,create:f,update:S,remove:C}=Ut();(0,v.useEffect)((()=>{b()}),[A]);const b=async()=>{c("fetch");const[e,t]=await j(A+1,a);s(e),u(t),c(!1)},N=[{id:1,title:"Line Name",render:e=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>t("/asset",{state:e.id}),children:e.name})},{id:2,title:"Division Name",render:e=>e.division},{id:3,title:"Details",render:e=>(0,B.jsx)(Le,{icon:(0,B.jsx)(Pe.A,{fontSize:"small"}),json:null===e||void 0===e?void 0:e.metadata})},{id:5,title:"Actions",render:e=>(0,B.jsxs)(l.A,{flexDirection:"row",children:[(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{p(!0),x("add"),g(e)},children:(0,B.jsx)(te.A,{color:"primary",fontSize:"small"})}),(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>(async e=>{c("fetch"),await C(e),await b(),c(!1)})(null===e||void 0===e?void 0:e.id),children:(0,B.jsx)(ee.A,{color:"error",fontSize:"small"})})]})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)(l.A,{sx:{flexDirection:"row",alignItems:"center"},children:[(0,B.jsx)(_t.A,{color:"primary",sx:{mr:1,cursor:"pointer"},onClick:()=>t(-1)}),(0,B.jsxs)("h1",{className:"mt-4",children:["Line's",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",n.length,")"]})]})]}),(0,B.jsx)(Z.A,{onClick:()=>x("add"),children:"Add Line"})]}),(0,B.jsx)(G,{columns:N,rows:n,rowsPerPage:5,loading:"fetch"===r,titleCellClasses:"c-gray fw-700",page:A,setPage:y,paginator:!0,serialize:!0,total:d}),(0,B.jsx)(Lt,{open:"add"===m,onClose:()=>{x(!1),p(!1)},data:w,edit:h,setData:g,onSubmit:async()=>{const e={...w};c("fetch"),!0===h?await S(e):await f(e,a),g({}),x(!1),await b(),c(!1),p(!1)}})]})},zt=()=>{const{token:e}=(0,y.d4)((e=>e[J.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>1?arguments[1]:void 0;const a=new W.Ay,n=await a.get("".concat(V.H.ASSET,"/").concat(e,"/").concat(V.H.ASSETS,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;const n=new W.Ay,s=await n.post("".concat(V.H.ASSET,"/").concat(a,"/").concat(V.H.ASSETS,"/"),e,t,(e=>(0,q.So)(e,null,"Asset created successfully!")));return null===s||void 0===s?void 0:s.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new W.Ay,s=await n.put("".concat(V.H.ASSET,"/").concat(V.H.ASSET,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Asset Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{const a=new W.Ay,n=await a.delete("".concat(V.H.ASSET,"/").concat(V.H.ASSET,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Asset deleted successfully!")));return null===n||void 0===n?void 0:n.data}}},Ft=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,edit:r}=e;const c=[{title:"Asset Name",placeholder:"Enter asset Name",type:Y.wN.INPUT,name:"name",validator:Y.wY.REQUIRED}],[d,u]=(0,v.useState)(new Map);return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===r?"EDIT":"ADD"," NEW LINE"]}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:c}),(0,B.jsx)(Qe.A,{setItemss:n.metadata,setJson:e=>s((t=>({...t,metadata:e}))),title:"Details"}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:i,loading:o,children:"Create"})]})]})},Mt=()=>{const e=(0,I.zy)(),t=(0,I.Zp)(),a=e.state,[n,s]=(0,v.useState)([]),[i,r]=(0,v.useState)(),[c,d]=(0,v.useState)(0),[u,h]=(0,v.useState)(!1),[p,m]=(0,v.useState)(!1),[x,A]=(0,v.useState)(0),[y,w]=(0,v.useState)({name:"",metadata:{}}),{list:g,create:j,update:f,remove:S}=zt();(0,v.useEffect)((()=>{C()}),[x]);const C=async()=>{r("fetch");const[e,t]=await g(x+1,a);s(e),d(t),r(!1)},b=[{id:1,title:"Asset Name",render:e=>e.name},{id:2,title:"Line Name",render:e=>e.line},{id:6,title:"Details",render:e=>(0,B.jsx)(Le,{icon:(0,B.jsx)(Pe.A,{fontSize:"small"}),json:null===e||void 0===e?void 0:e.metadata})},{id:5,title:"Actions",render:e=>(0,B.jsxs)(l.A,{flexDirection:"row",children:[(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{h(!0),m("add"),w(e)},children:(0,B.jsx)(te.A,{color:"primary",fontSize:"small"})}),(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>(async e=>{r("fetch"),await S(e),await C(),r(!1)})(null===e||void 0===e?void 0:e.id),children:(0,B.jsx)(ee.A,{color:"error",fontSize:"small"})})]})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)(l.A,{sx:{flexDirection:"row",alignItems:"center"},children:[(0,B.jsx)(_t.A,{color:"primary",sx:{mr:1,cursor:"pointer"},onClick:()=>t(-1)}),(0,B.jsxs)("h1",{className:"mt-4",children:["Asset's",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",n.length,")"]})]})]}),(0,B.jsx)(Z.A,{onClick:()=>m("add"),children:"Add Asset"})]}),(0,B.jsx)(G,{columns:b,rows:n,rowsPerPage:5,loading:"fetch"===i,titleCellClasses:"c-gray fw-700",page:x,setPage:A,paginator:!0,serialize:!0,total:c}),(0,B.jsx)(Ft,{open:"add"===p,onClose:()=>{m(!1),h(!1)},data:y,edit:u,setData:w,onSubmit:async()=>{const e={...y};r("fetch"),!0===u?await f(e):await j(e,a),w({}),m(!1),await C(),r(!1),h(!1)}})]})},Qt=()=>{const{token:e}=(0,y.d4)((e=>e[J.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){const e=new W.Ay,a=await e.get("".concat(V.H.ASSET,"/").concat(V.H.GROUPS,"/"),{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("".concat(V.H.ASSET,"/").concat(V.H.GROUPS,"/"),e,t,(e=>(0,q.So)(e,null,"Group created successfully!")));return null===n||void 0===n?void 0:n.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new W.Ay,s=await n.put("".concat(V.H.ASSET,"/").concat(V.H.GROUP,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Group Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{const a=new W.Ay,n=await a.delete("".concat(V.H.ASSET,"/").concat(V.H.GROUP,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Group deleted successfully!")));return null===n||void 0===n?void 0:n.data},allAssets:async function(){const e=new W.Ay,a=await e.get("".concat(V.H.ASSET,"/").concat(V.H.ALLASSETS,"/"),{},t);return null!==a&&void 0!==a&&a.data?[null===a||void 0===a?void 0:a.data]:[[],0]},groupAsset:async e=>{const a=new W.Ay,n=await a.get("".concat(V.H.ASSET,"/").concat(V.H.GROUP,"/").concat(e,"/"),{},t);return null===n||void 0===n?void 0:n.data},updateAssets:async(e,a)=>{const n=new W.Ay,s=await n.put("".concat(V.H.ASSET,"/").concat(V.H.GROUP,"/").concat(a,"/"),e,t);return null===s||void 0===s?void 0:s.data}}},Yt=()=>{const{token:e}=(0,y.d4)((e=>e[J.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){const e=new W.Ay,a=await e.get("".concat(V.H.OPERATOR,"-").concat(V.H.GROUPS,"/"),{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("".concat(V.H.OPERATOR,"-").concat(V.H.GROUPS,"/"),e,t,(e=>(0,q.So)(e,null,"Group created successfully!")));return null===n||void 0===n?void 0:n.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new W.Ay,s=await n.put("".concat(V.H.OPERATOR,"-").concat(V.H.GROUP,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Group Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{const a=new W.Ay,n=await a.delete("".concat(V.H.OPERATOR,"-").concat(V.H.GROUP,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Group deleted successfully!")));return null===n||void 0===n?void 0:n.data},allOperator:async function(){const e=new W.Ay,a=await e.get("".concat(V.H.OPERATORS,"/"),{},t);var n;return null!==a&&void 0!==a&&a.data?[null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.results]:[[],0]},groupOp:async e=>{const a=new W.Ay,n=await a.get("".concat(V.H.OPERATOR,"-").concat(V.H.GROUP,"/").concat(e,"/"),{},t);return null===n||void 0===n?void 0:n.data},updateAssets:async(e,a)=>{const n=new W.Ay,s=await n.put("".concat(V.H.OPERATOR,"-").concat(V.H.GROUP,"/").concat(a,"/"),e,t);return null===s||void 0===s?void 0:s.data}}},Bt=()=>{const{token:e}=(0,y.d4)((e=>e[J.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){const e=new W.Ay,a=await e.get("".concat(V.H.USER,"-").concat(V.H.GROUPS,"/"),{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("".concat(V.H.USER,"-").concat(V.H.GROUPS,"/"),e,t,(e=>(0,q.So)(e,null,"Group created successfully!")));return null===n||void 0===n?void 0:n.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new W.Ay,s=await n.put("".concat(V.H.USER,"-").concat(V.H.GROUP,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Group Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{const a=new W.Ay,n=await a.delete("".concat(V.H.USER,"-").concat(V.H.GROUP,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Group deleted successfully!")));return null===n||void 0===n?void 0:n.data},allUser:async function(){const e=new W.Ay,a=await e.get("".concat(V.H.USERS,"/"),{},t);return null!==a&&void 0!==a&&a.data?[null===a||void 0===a?void 0:a.data]:[[],0]},updateAssets:async(e,a)=>{const n=new W.Ay,s=await n.put("".concat(V.H.USER,"-").concat(V.H.GROUP,"/").concat(a,"/"),e,t);return null===s||void 0===s?void 0:s.data},groupUser:async e=>{const a=new W.Ay,n=await a.get("".concat(V.H.USER,"-").concat(V.H.GROUP,"/").concat(e,"/"),{},t);return null===n||void 0===n?void 0:n.data}}};var Gt=a(5502);const qt=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:o,loading:r,edit:c,tab:d}=e;const{allAssets:u,groupAsset:h,updateAssets:p}=Qt(),{allOperator:m,groupOp:x,updateAssets:A}=Yt(),{allUser:w,groupUser:g,updateAssets:j}=Bt(),[f,S]=(0,v.useState)(new Map),[C,b]=(0,v.useState)([]),[N,E]=(0,v.useState)([]),[k,I]=(0,v.useState)([]),T=(0,y.d4)((e=>{var t,a;return null===e||void 0===e||null===(t=e.SelectedId)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.id})),_=(0,y.d4)((e=>{var t,a;return null===e||void 0===e||null===(t=e.SelectedId)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.name}));(0,v.useLayoutEffect)((()=>{R()}),[""!==T]);const D=async(e,t)=>{let a=t;e.map((e=>{a.map(((t,n)=>{if(t.id===e.id){a.indexOf(t);a.splice(n,1)}}))})),b(a)},R=async()=>{if("Machines"===d){var e;const[t]=await u(),a=await h(T);D(a.assets,t),(null===(e=a.assets)||void 0===e?void 0:e.length)>0&&E(a.assets)}else if("Operators"===d){var t;const[e]=await m(),a=await x(T);D(a.operators,e),(null===(t=a.operators)||void 0===t?void 0:t.length)>0&&E(a.operators)}else if("Users"===d){var a;const[e]=await w(),t=await g(T);D(t.users,e),(null===(a=t.users)||void 0===a?void 0:a.length)>0&&E(t.users)}},P=async(e,t)=>{const a={remove:[e]},n={add:[e]};"Machines"===d?await p("add"===t?n:a,T):"Operators"===d?await A("add"===t?n:a,T):"Users"===d&&await j("add"===t?n:a,T),R()};return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(800px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",style:{textTransform:"capitalize"},children:["(",_,") ",d," Management"]}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between",mb:1,gap:1,height:400},children:[(0,B.jsxs)(l.A,{sx:{width:"49%",border:1,borderRadius:2,borderColor:Y.lm.PRIMARY,p:1,overflow:"scroll",scrollbarWidth:"none"},children:[(0,B.jsxs)(i.A,{sx:{px:1},children:[d," in Group"]}),N.map(((e,t)=>(0,B.jsxs)(l.A,{sx:{flexDirection:"row",backgroundColor:Y.lm.GREEN_OPAQUE,mt:.5,borderRadius:2,width:"fit-content",px:.5},children:[(0,B.jsxs)(i.A,{variant:"h6",sx:{textTransform:"capitalize"},children:[t+1,". ",e.name||e.fullname||e.username]},e.name),(0,B.jsx)(Gt.A,{fontSize:"small",sx:{color:Y.lm.DARK_RED,m:.2,cursor:"pointer"},onClick:()=>P(e.id,"remove")})]},t)))]}),(0,B.jsxs)(l.A,{sx:{width:"49%",border:1,borderRadius:2,borderColor:Y.lm.PRIMARY,p:1,overflow:"scroll",scrollbarWidth:"none"},children:[(0,B.jsxs)(i.A,{sx:{px:1},children:["All ",d]}),C.map(((e,t)=>(0,B.jsxs)(l.A,{sx:{flexDirection:"row",backgroundColor:Y.lm.GREEN_OPAQUE,mt:.5,borderRadius:2,width:"fit-content",px:.5},children:[(0,B.jsxs)(i.A,{variant:"h6",sx:{textTransform:"capitalize"},children:[t+1,". ",e.name||e.fullname||e.username]},e.name),(0,B.jsx)(ke.A,{fontSize:"small",sx:{color:Y.lm.DARK_GREEN,m:.2,cursor:"pointer"},onClick:()=>P(e.id,"add")})]},t)))]})]})]})},Wt=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,edit:r}=e;const c=[{title:"Group Name",placeholder:"Enter Group Name",type:Y.wN.INPUT,name:"name",validator:Y.wY.REQUIRED}],[d,u]=(0,v.useState)(new Map);return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===r?"EDIT":"ADD"," NEW GROUP"]}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:c}),(0,B.jsx)(Qe.A,{setItemss:n.metadata,setJson:e=>s((t=>({...t,metadata:e}))),title:"Details"}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:i,loading:o,children:"Create"})]})]})};var Vt=a(7404);const Jt=()=>{const e=(0,y.wA)(),[t,a]=((0,I.zy)(),(0,I.Zp)(),(0,v.useState)("Users")),[n,s]=(0,v.useState)([]),[r,c]=(0,v.useState)(),[d,u]=(0,v.useState)(0),[h,p]=(0,v.useState)(!1),[m,x]=(0,v.useState)(!1),[A,w]=(0,v.useState)(0),[g,j]=(0,v.useState)({name:"",metadata:{}}),{list:f,create:S,update:C,remove:b}=Qt(),{list:N,create:E,update:k,remove:T}=Yt(),{list:_,create:D,update:R,remove:P}=Bt();(0,v.useEffect)((()=>{O()}),[A,t]);const O=async()=>{c("fetch");const[e,a]="Machines"===t?await f(A+1):await _(A+1);s(e),u(a),c(!1)},U=async()=>{const e={...g};c("fetch"),!0===h?"Machines"===t?await C(e):"Operators"===t?await k(e):await R(e):"Machines"===t?await S(e):"Operators"===t?await E(e):await D(e),j({name:"",metadata:{}}),x(!1),await O(),c(!1),p(!1)},L=[{id:1,title:"Group Name",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer",fontSize:20},onClick:()=>{e((0,Vt.z)({id:t.id,name:t.name})),x("addremove")},children:t.name})},{id:3,title:"Details",render:e=>(0,B.jsx)(Le,{icon:(0,B.jsx)(Pe.A,{fontSize:"small"}),json:null===e||void 0===e?void 0:e.metadata})},{id:5,title:"Actions",render:e=>(0,B.jsxs)(l.A,{flexDirection:"row",children:[(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{p(!0),x("add"),j(e)},children:(0,B.jsx)(te.A,{color:"primary",fontSize:"small"})}),(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>(async e=>{c("fetch"),"Machines"===t?await b(e):"Operators"===t?await T(e):await P(e),await O(),c(!1)})(null===e||void 0===e?void 0:e.id),children:(0,B.jsx)(ee.A,{color:"error",fontSize:"small"})})]})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)(ce.A,{value:t,onChange:(e,t)=>{a(t),w(0)},className:"mb-2 fw-500",children:["Users","Machines"].map(((e,t)=>(0,B.jsx)(de.A,{label:e,className:"fw-500",value:e})))}),(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsx)(l.A,{sx:{flexDirection:"row",alignItems:"center"},children:(0,B.jsxs)("h1",{className:"mt-4",children:[t," Group's",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",n.length,")"]})]})}),(0,B.jsxs)(Z.A,{onClick:()=>x("add"),children:["Add ",t," Group"]})]}),(0,B.jsx)(G,{columns:L,rows:n,rowsPerPage:5,loading:"fetch"===r,titleCellClasses:"c-gray fw-700",page:A,setPage:w,paginator:!0,serialize:!0,total:d}),(0,B.jsx)(Wt,{open:"add"===m,onClose:()=>{x(!1),p(!1)},data:g,edit:h,setData:j,onSubmit:U}),"addremove"===m&&(0,B.jsx)(qt,{open:"addremove"===m,onClose:()=>{x(!1)},data:g,setData:j,onSubmit:U,tab:t})]})},Xt=()=>{const{token:e}=(0,y.d4)((e=>e[J.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>1?arguments[1]:void 0;const a=new W.Ay,n=await a.get("".concat(e,"/").concat(V.H.USERS,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},create:async(e,a)=>{const n=new W.Ay,s=await n.post("".concat(a,"/").concat(V.H.USERS,"/"),e,t,(e=>(0,q.So)(e,null,"User created successfully!")));return null===s||void 0===s?void 0:s.data},update:async(e,a,n)=>{const s=new W.Ay,l=await s.put("".concat(e,"/").concat(V.H.USER,"/").concat(a,"/"),n,t,(e=>(0,q.So)(e,null,"User Updated successfully!")));return null===l||void 0===l?void 0:l.data},remove:async e=>{if(!e)return;const a=new W.Ay,n=await a.delete("".concat(V.H.USER,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"User deleted successfully!")));return null===n||void 0===n?void 0:n.data},opratorList:async function(){let e=arguments.length>1?arguments[1]:void 0;const a=new W.Ay,n=await a.get("".concat(e,"/").concat(V.H.OPERATORS,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},createOperator:async(e,a)=>{const n=new W.Ay,s=await n.post("".concat(a,"/").concat(V.H.OPERATORS,"/"),e,t,(e=>(0,q.So)(e,null,"Operator created successfully!")));return null===s||void 0===s?void 0:s.data},updateOperator:async(e,a)=>{const n=new W.Ay,s=await n.put("".concat(V.H.OPERATOR,"/").concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"Operator Updated successfully!")));return null===s||void 0===s?void 0:s.data},removeOperator:async e=>{if(!e)return;const a=new W.Ay,n=await a.delete("".concat(V.H.OPERATOR,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Operator deleted successfully!")));return null===n||void 0===n?void 0:n.data}}},Zt=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,tab:r}=e;const c=[{title:"User Name",placeholder:"Enter User Name",type:Y.wN.INPUT,name:"username",validator:Y.wY.REQUIRED},{title:"Email",placeholder:"Enter Email",type:Y.wN.INPUT,name:"email"},{title:"Full Name",placeholder:"Enter Full Name",type:Y.wN.INPUT,name:"fullname"}],d=[{title:"Employee Id",placeholder:"Employee Id",type:Y.wN.INPUT,name:"employee_id",validator:Y.wY.REQUIRED},{title:"Full Name",placeholder:"Enter Full Name",type:Y.wN.INPUT,name:"fullname"}],[u,h]=(0,v.useState)(new Map);return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:["ADD ",r]}),(0,B.jsx)(se.A,{data:n,errors:u,onChange:e=>{const{name:t,value:a}=e.target;h((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:"Users"===r?c:d}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:async()=>{const e=(0,le.bG)(c,n);h(e),e.size||i()},loading:o,children:"Create"})]})]})},Kt=()=>{const e=(0,I.zy)(),t=((0,I.Zp)(),null===e||void 0===e?void 0:e.state),{list:a,opratorList:n,create:s,createOperator:l,update:i}=Xt(),[r,c]=(0,v.useState)("Users"),[d,u]=(0,v.useState)([]),[h,p]=(0,v.useState)(),[m,x]=(0,v.useState)(0),[A,y]=(0,v.useState)(0),[w,g]=(0,v.useState)(!1),[j,f]=(0,v.useState)({});(0,v.useEffect)((()=>{S()}),[A,r]);const S=async()=>{p("fetch");const[e,n]=await a(A+1,t);u(e),x(n),p(!1)},C=[{id:1,title:"Email",render:e=>e.email},{id:2,title:"User Name",render:e=>e.username},{id:3,title:"Full Name",render:e=>e.fullname},{id:4,title:"Employee Id",render:e=>e.employee_id},{id:5,title:"Role",render:e=>(0,B.jsx)(he,{title:e.is_admin?"admin":"Na"})},{id:6,title:"Action",render:e=>(0,B.jsx)(be.A,{title:e.is_admin?"Remove Admin":"Make Admin",children:(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>b(null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.is_admin),children:(0,B.jsx)(Ce.A,{color:e.is_admin?"error":"success",fontSize:"small"})})})}],b=async(e,a)=>{p("fetch");const n={is_admin:!0!==a};await i(t,e,n),await S(),p(!1)};return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("h1",{className:"mt-4",children:[r,(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",d.length,")"]})]}),(0,B.jsxs)(Z.A,{onClick:()=>g(!0),children:["Create ",r]})]}),(0,B.jsx)(G,{columns:C,rows:d,rowsPerPage:10,loading:"fetch"===h,titleCellClasses:"c-gray fw-700",page:A,setPage:y,paginator:!0,serialize:!0,total:m}),(0,B.jsx)(Zt,{open:w,onClose:()=>g(!1),data:j,setData:f,onSubmit:async()=>{const e={...j};p("fetch"),"Users"===r?await s(e,t):await l(e,t),f({}),g(!1),await S(),p(!1)},loading:"add"===h,tab:r})]})},$t=()=>{const[e,t]=(0,v.useState)(0),[a,n]=(0,v.useState)(""),[s,i]=(0,v.useState)(""),[o,r]=(0,v.useState)({company:"",location:"",division:"",line:""});return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(l.A,{sx:{p:2,justifyContent:"space-between",flexDirection:"row"},children:[(0,B.jsx)(ce.A,{value:e,onChange:(e,a)=>{t(a)},children:["Kanban View","Table View"].map(((e,t)=>(0,B.jsx)(de.A,{label:e,className:"fw-500",value:t})))}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row"},children:[(0,B.jsx)(qe.A,{keyValues:[{id:"All",title:"All"},{id:"company list",title:"company list"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Company",classes:"mr-1",value:o.company,onChange:e=>r({...o,company:e.target.value})}),(0,B.jsx)(qe.A,{keyValues:[{id:"All",title:"All"},{id:"location list",title:"location list"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Location",classes:"mr-1",value:o.location,onChange:e=>r({...o,location:e.target.value})}),(0,B.jsx)(qe.A,{keyValues:[{id:"All",title:"All"},{id:"division list",title:"division list"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Division",classes:"mr-1",value:o.division,onChange:e=>r({...o,division:e.target.value})}),(0,B.jsx)(qe.A,{keyValues:[{id:"All",title:"All"},{id:"line list",title:"line list"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Line/Cell",classes:"mr-1",value:o.line,onChange:e=>r({...o,line:e.target.value})}),(0,B.jsx)(mt.A,{width:"fit-content"})]})]}),0===e?(0,B.jsxs)(oe.Ay,{display:"grid",sx:{gap:1,p:2},gridTemplateColumns:{sm:"repeat(3, 1fr)",xs:"repeat(3, 1fr)"},children:[(0,B.jsx)(pt,{cCode:Y.lm.RED,mState:"off"}),(0,B.jsx)(pt,{cCode:Y.lm.YELLOW,mState:"downtime"}),(0,B.jsx)(pt,{cCode:Y.lm.GREEN,mState:"on"})]}):(0,B.jsxs)(l.A,{sx:{p:2},children:[(0,B.jsxs)(l.A,{direction:"row",justifyContent:"flex-end",sx:{mb:1},children:[(0,B.jsx)(qe.A,{keyValues:[{id:"Division",title:"Division"},{id:"Line",title:"Line"},{id:"OEE",title:"OEE"},{id:"Availability",title:"Availability"},{id:"Performance",title:"Performance"},{id:"Quality",title:"Quality"},{id:"Total Cycle Time",title:"Total Cycle Time"},{id:"Total Downtime",title:"Total Downtime"},{id:"Total Available Time",title:"Total Available Time"},{id:"Pass",title:"Pass"},{id:"Fail",title:"Fail"},{id:"Status",title:"Status"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1",value:a,onChange:e=>n(e.target.value)}),(0,B.jsx)(Q.A,{height:"37px",placeholder:"Universal Search",value:s,onChange:e=>{i(e.target.value)}})]}),(0,B.jsx)(G,{columns:[{id:42,title:"Division",render:e=>e.name},{id:1,title:"Line",render:e=>e.sap_id},{id:2,title:"OEE",render:e=>e.hsn_code},{id:3,title:"Availability",render:e=>1===e.serialization_method?"No Serialization":2===e.serialization_method?"Use Pre-Generated ID":3===e.serialization_method?"Use Own ID":"-"},{id:4,title:"Performance",render:e=>e.vendor_part_id},{id:5,title:"Quality",render:e=>null===e||void 0===e?void 0:e.category},{id:6,title:"Total Cycle Time",render:e=>e.hsn_code},{id:7,title:"Total Downtime",render:e=>e.hsn_code},{id:8,title:"Total Available Time",render:e=>e.hsn_code},{id:9,title:"Pass",render:e=>e.hsn_code},{id:10,title:"Fail",render:e=>e.hsn_code},{id:11,title:"Status",render:e=>e.hsn_code},{id:12,title:"Last Event Received At",render:e=>e.hsn_code},{id:13,title:"Details",render:e=>e.hsn_code}],rowsPerPage:5,titleCellClasses:"c-gray fw-700 text text-nowrap",paginator:!0,serialize:!0})]})]})},ea=()=>{const[e,t]=(0,v.useState)([]),[a,n]=(0,v.useState)(!1),s={chart:{height:350,type:"rangeBar"},plotOptions:{bar:{horizontal:!0,barHeight:"50%",rangeBarGroupRows:!0}},colors:["#008000","#ff0000","#ffff00"],fill:{type:"solid"},xaxis:{type:"datetime",labels:{formatter:e=>Ee()(e).format("LT")}},tooltip:{custom:function(e){const t=new Date(e.y1).getFullYear(),a=new Date(e.y2).getFullYear(),n=e.ctx.w;let s=n.globals.labels[e.dataPointIndex],l=n.config.series[e.seriesIndex].name?n.config.series[e.seriesIndex].name:"";return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+n.globals.colors[e.seriesIndex]+'">'+(l||"")+'</span></div><div> <span class="category">'+s+' </span> <span class="value start-value">'+t+'</span> <span class="separator">-</span> <span class="value end-value">'+a+"</span></div></div>"}}},i=[{startTime:1722495760,endTime:1722495794},{startTime:1722495848,endTime:1722495919},{startTime:1722495986,endTime:1722496049},{startTime:1722496049,endTime:1722496092}];(0,v.useLayoutEffect)((()=>{!async function(){const e=[];(e=>{for(let t=0;t<e.length-1;t++){const a=e[t].endTime,n=e[t+1].startTime;300>Math.abs(a-n)&&(e[t+1].startTime=a)}return e})(i).map((t=>{let a={x:"State",y:[t.startTime,t.endTime]};e.push(a)})),t(e),n(!0)}()}),[]);const o=[{name:"Online",data:e}];return console.log("new obj",e),(0,B.jsx)(l.A,{sx:{width:"95%"},children:a&&(0,B.jsx)(dt.A,{options:s,series:o,type:"rangeBar",height:200})})};a(4951);const ta=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,edit:r}=e;const c=[{title:"Name",placeholder:"Enter Name",type:Y.wN.INPUT,name:"name",validator:Y.wY.REQUIRED},{title:"Lines",placeholder:"Enter Line",type:Y.wN.INPUT,name:"Line",validator:Y.wY.REQUIRED},{title:"Threshold (seconds)",placeholder:"Enter Name",type:Y.wN.INPUT,name:"name",validator:Y.wY.REQUIRED},{title:"Status",type:Y.wN.RADIO,name:"status",keyValues:[{value:"1",label:"Enable"},{value:"2",label:"Disable"}]}],[d,u]=(0,v.useState)(new Map);return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===r?"EDIT":"ADD"," DOWNTIME REASON"]}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:c}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:i,loading:o,children:"Create"})]})]})},aa=()=>{const e=(0,I.Zp)(),[t,a]=(0,v.useState)([]),[n,s]=(0,v.useState)(),[r,c]=(0,v.useState)(0),[d,u]=(0,v.useState)(!1),[h,p]=(0,v.useState)(!1),[m,x]=(0,v.useState)(0),[A,y]=(0,v.useState)({name:"",metadata:{}}),{list:w,create:g,update:j,remove:f}=Nt(),S=async()=>{s("fetch");const[e,t]=await w(m+1);a(e),c(t),s(!1)},C=[{id:1,title:"Name",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:2,title:"Effective Downtime",render:e=>e.name},{id:3,title:"Created By",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:4,title:"Created on",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:7,title:"Status",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:8,title:"Lines",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:2,title:"Threshold",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:5,title:"Action",render:e=>(0,B.jsx)(l.A,{flexDirection:"row",children:(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{y(e),u(!0),p("add")},children:(0,B.jsx)(te.A,{color:"primary",fontSize:"small"})})})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("h1",{className:"mt-4",children:["Downtime Master",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",t.length,")"]})]}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:1},children:[(0,B.jsx)(Z.A,{onClick:()=>p("add"),children:"Add Downtime Reason"}),(0,B.jsx)(Z.A,{children:"Default Downtime Reason"})]})]}),(0,B.jsxs)(l.A,{direction:"row",justifyContent:"flex-end",sx:{mb:1},children:[(0,B.jsx)(qe.A,{keyValues:[{id:"name",title:"Name"},{id:"sap_id",title:"SAP ID"},{id:"hsn_code",title:"HSN CODE"},{id:"internal_id",title:"Internal ID"},{id:"serialization",title:"Serialization"},{id:"category",title:"Category"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1"}),(0,B.jsx)(Q.A,{height:"37px",placeholder:"Universal Search"})]}),(0,B.jsx)(G,{columns:C,rows:t,rowsPerPage:5,loading:"fetch"===n,titleCellClasses:"c-gray fw-700",page:m,setPage:x,paginator:!0,serialize:!0,total:r}),(0,B.jsx)(ta,{open:"add"===h,onClose:()=>{p(!1),u(!1)},data:A,edit:d,setData:y,onSubmit:async()=>{const e={...A};console.log("payload",e),s("fetch"),!0===d?await j(e):await g(e),y({}),p(!1),await S(),s(!1),u(!1)}})]})},na=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,edit:r}=e;const c=[{title:"Model",placeholder:"Enter model",type:Y.wN.INPUT,name:"name",validator:Y.wY.REQUIRED},{title:"Material Code",placeholder:"Enter code",type:Y.wN.INPUT,name:"Line",validator:Y.wY.REQUIRED},{title:"Barcode Identifier",placeholder:"Enter identifier",type:Y.wN.INPUT,name:"name",validator:Y.wY.REQUIRED},{title:"Customer",placeholder:"Select customer",type:Y.wN.SELECT,name:"serialization_method",validator:Y.wY.REQUIRED,keyValues:[]},{title:"Description",placeholder:"Enter description",type:Y.wN.INPUT,name:"name",validator:Y.wY.REQUIRED},{title:"Fixed Cycle Time",type:Y.wN.RADIO,name:"cycle_time",validator:Y.wY.REQUIRED,keyValues:[{value:"yes",label:"Yes"},{value:"no",label:"No"}]}],[d,u]=(0,v.useState)(new Map);return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===r?"EDIT":"ADD"," MODEL"]}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:c}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:i,loading:o,children:"Create"})]})]})},sa=()=>{const e=(0,I.Zp)(),[t,a]=(0,v.useState)([]),[n,s]=(0,v.useState)(),[r,c]=(0,v.useState)(0),[d,u]=(0,v.useState)(!1),[h,p]=(0,v.useState)(!1),[m,x]=(0,v.useState)(0),[A,y]=(0,v.useState)({name:"",metadata:{}}),{list:w,create:g,update:j,remove:f}=Nt(),S=async()=>{s("fetch");const[e,t]=await w(m+1);a(e),c(t),s(!1)},C=[{id:1,title:"Name",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:2,title:"Effective Downtime",render:e=>e.name},{id:3,title:"Created By",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:4,title:"Created on",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:7,title:"Status",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:8,title:"Lines",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:2,title:"Threshold",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:5,title:"Action",render:e=>(0,B.jsx)(l.A,{flexDirection:"row",children:(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{y(e),u(!0),p("add")},children:(0,B.jsx)(te.A,{color:"primary",fontSize:"small"})})})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("h1",{className:"mt-4",children:["Model Master",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",t.length,")"]})]}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:1},children:[(0,B.jsx)(Z.A,{onClick:()=>p("add"),children:"Add Model"}),(0,B.jsx)(Z.A,{onClick:()=>p("bulkUpload"),bordered:!0,children:"Bulk Upload"})]})]}),(0,B.jsxs)(l.A,{direction:"row",justifyContent:"flex-end",sx:{mb:1},children:[(0,B.jsx)(qe.A,{keyValues:[{id:"name",title:"Name"},{id:"sap_id",title:"SAP ID"},{id:"hsn_code",title:"HSN CODE"},{id:"internal_id",title:"Internal ID"},{id:"serialization",title:"Serialization"},{id:"category",title:"Category"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1"}),(0,B.jsx)(Q.A,{height:"37px",placeholder:"Universal Search"})]}),(0,B.jsx)(G,{columns:C,rows:t,rowsPerPage:5,loading:"fetch"===n,titleCellClasses:"c-gray fw-700",page:m,setPage:x,paginator:!0,serialize:!0,total:r}),(0,B.jsx)(na,{open:"add"===h,onClose:()=>{p(!1),u(!1)},data:A,edit:d,setData:y,onSubmit:async()=>{const e={...A};console.log("payload",e),s("fetch"),!0===d?await j(e):await g(e),y({}),p(!1),await S(),s(!1),u(!1)}}),(0,B.jsx)(Se,{onClose:()=>p(!1),open:"bulkUpload"===h})]})},la=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,edit:r}=e;const c=[{title:"Name",placeholder:"Enter Name",type:Y.wN.INPUT,name:"name",validator:Y.wY.REQUIRED},{title:"Model",placeholder:"Select Model",type:Y.wN.SELECT,name:"Line",validator:Y.wY.REQUIRED,keyValues:[]},{title:"Status",type:Y.wN.RADIO,name:"status",validator:Y.wY.REQUIRED,keyValues:[{value:"enable",label:"Enable"},{value:"disable",label:"Disable"}]}],[d,u]=(0,v.useState)(new Map);return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"PARTS REJECTION MODE REASON"}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:c}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:i,loading:o,children:"Create"})]})]})},ia=()=>{const e=(0,I.Zp)(),[t,a]=(0,v.useState)([]),[n,s]=(0,v.useState)(),[r,c]=(0,v.useState)(0),[d,u]=(0,v.useState)(!1),[h,p]=(0,v.useState)(!1),[m,x]=(0,v.useState)(0),[A,y]=(0,v.useState)({name:"",metadata:{}}),{list:w,create:g,update:j,remove:f}=Nt(),S=async()=>{s("fetch");const[e,t]=await w(m+1);a(e),c(t),s(!1)},C=[{id:1,title:"Name",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:2,title:"Effective Downtime",render:e=>e.name},{id:3,title:"Created By",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:4,title:"Created on",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:7,title:"Status",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:8,title:"Lines",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:2,title:"Threshold",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:5,title:"Action",render:e=>(0,B.jsx)(l.A,{flexDirection:"row",children:(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{y(e),u(!0),p("add")},children:(0,B.jsx)(te.A,{color:"primary",fontSize:"small"})})})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("h1",{className:"mt-4",children:["Parts Rejection Mode",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",t.length,")"]})]}),(0,B.jsx)(l.A,{sx:{flexDirection:"row",gap:1},children:(0,B.jsx)(Z.A,{onClick:()=>p("add"),children:"Add NG"})})]}),(0,B.jsxs)(l.A,{direction:"row",justifyContent:"flex-end",sx:{mb:1},children:[(0,B.jsx)(qe.A,{keyValues:[{id:"name",title:"Name"},{id:"sap_id",title:"SAP ID"},{id:"hsn_code",title:"HSN CODE"},{id:"internal_id",title:"Internal ID"},{id:"serialization",title:"Serialization"},{id:"category",title:"Category"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1"}),(0,B.jsx)(Q.A,{height:"37px",placeholder:"Universal Search"})]}),(0,B.jsx)(G,{columns:C,rows:t,rowsPerPage:5,loading:"fetch"===n,titleCellClasses:"c-gray fw-700",page:m,setPage:x,paginator:!0,serialize:!0,total:r}),(0,B.jsx)(la,{open:"add"===h,onClose:()=>{p(!1),u(!1)},data:A,edit:d,setData:y,onSubmit:async()=>{const e={...A};console.log("payload",e),s("fetch"),!0===d?await j(e):await g(e),y({}),p(!1),await S(),s(!1),u(!1)}})]})};var oa=a(1962);const ra=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:o,loading:r,edit:c}=e;const d=[{title:"Name",placeholder:"Enter Name",type:Y.wN.INPUT,name:"name",validator:Y.wY.REQUIRED},{title:"Plant",placeholder:"Select Model",type:Y.wN.SELECT,name:"Line",validator:Y.wY.REQUIRED,keyValues:[]},{title:"Start Time",placeholder:"select time",type:Y.wN.TIME,name:"start_time",validator:Y.wY.REQUIRED},{title:"End Time",placeholder:"select time",type:Y.wN.TIME,name:"end_time",validator:Y.wY.REQUIRED},{title:"Overlap",placeholder:"Select Overlap",type:Y.wN.SELECT,name:"plant",validator:Y.wY.REQUIRED,keyValues:[]},{title:"Type",placeholder:"Select Plant",type:Y.wN.RADIO,name:"plant",validator:Y.wY.REQUIRED,keyValues:[{value:"working_shift",label:"Working Shift"},{value:"planned_break",label:"Planned Break"}]}],[u,h]=(0,v.useState)(new Map),p={inputProps:{"aria-label":"Checkbox demo"}};return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"Add Shift Schedule"}),(0,B.jsx)(se.A,{data:n,errors:u,onChange:e=>{const{name:t,value:a}=e.target;h((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:d}),(0,B.jsxs)(l.A,{sx:{mt:1},children:[(0,B.jsx)(i.A,{children:"Week Days"}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:1},children:[(0,B.jsx)(oa.A,{...p,icon:(0,B.jsx)(i.A,{children:"M"}),checkedIcon:(0,B.jsx)(i.A,{children:"M"})}),(0,B.jsx)(oa.A,{...p,icon:(0,B.jsx)(i.A,{children:"T"}),checkedIcon:(0,B.jsx)(i.A,{children:"T"})}),(0,B.jsx)(oa.A,{...p,icon:(0,B.jsx)(i.A,{children:"W"}),checkedIcon:(0,B.jsx)(i.A,{children:"W"})}),(0,B.jsx)(oa.A,{...p,icon:(0,B.jsx)(i.A,{children:"T"}),checkedIcon:(0,B.jsx)(i.A,{children:"T"})}),(0,B.jsx)(oa.A,{...p,icon:(0,B.jsx)(i.A,{children:"F"}),checkedIcon:(0,B.jsx)(i.A,{children:"F"})}),(0,B.jsx)(oa.A,{...p,icon:(0,B.jsx)(i.A,{children:"S"}),checkedIcon:(0,B.jsx)(i.A,{children:"S"})}),(0,B.jsx)(oa.A,{...p,icon:(0,B.jsx)(i.A,{children:"S"}),checkedIcon:(0,B.jsx)(i.A,{children:"S"})})]})]}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:o,loading:r,children:"Create"})]})]})},ca=()=>{const e=(0,I.Zp)(),[t,a]=(0,v.useState)([]),[n,s]=(0,v.useState)(),[r,c]=(0,v.useState)(0),[d,u]=(0,v.useState)(!1),[h,p]=(0,v.useState)(!1),[m,x]=(0,v.useState)(0),[A,y]=(0,v.useState)({name:"",metadata:{}}),{list:w,create:g,update:j,remove:f}=Nt();(0,v.useEffect)((()=>{S()}),[m]);const S=async()=>{s("fetch");const[e,t]=await w(m+1);a(e),c(t),s(!1)},C=[{id:1,title:"Plant",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:2,title:"Name",render:e=>e.name},{id:3,title:"Type",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:4,title:"Duration",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:5,title:"Start",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:6,title:"End",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:7,title:"Mon",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:8,title:"Tue",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:9,title:"Wed",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:10,title:"Thu",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:11,title:"Fri",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:12,title:"Sat",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:13,title:"Sun",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:14,title:"Action",render:e=>(0,B.jsx)(l.A,{flexDirection:"row",children:(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{y(e),u(!0),p("add")},children:(0,B.jsx)(te.A,{color:"primary",fontSize:"small"})})})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("h1",{className:"mt-4",children:["Shift Master",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",t.length,")"]})]}),(0,B.jsx)(l.A,{sx:{flexDirection:"row",gap:1},children:(0,B.jsx)(Z.A,{onClick:()=>p("add"),children:"Add Shift Schedule"})})]}),(0,B.jsxs)(l.A,{direction:"row",justifyContent:"flex-end",sx:{mb:1},children:[(0,B.jsx)(qe.A,{keyValues:[{id:"plant",title:"Plant"},{id:"name",title:"Name"},{id:"type",title:"Type"},{id:"duration",title:"Duration"},{id:"start",title:"Start"},{id:"end",title:"End"},{id:"mon",title:"Mon"},{id:"tue",title:"Tue"},{id:"wed",title:"Wed"},{id:"thu",title:"Thu"},{id:"fri",title:"Fri"},{id:"sat",title:"Sat"},{id:"sun",title:"Sun"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1"}),(0,B.jsx)(Q.A,{height:"37px",placeholder:"Universal Search"})]}),(0,B.jsx)(G,{columns:C,rows:t,rowsPerPage:5,loading:"fetch"===n,titleCellClasses:"c-gray fw-700",page:m,setPage:x,paginator:!0,serialize:!0,total:r}),(0,B.jsx)(ra,{open:"add"===h,onClose:()=>{p(!1),u(!1)},data:A,edit:d,setData:y,onSubmit:async()=>{const e={...A};console.log("payload",e),s("fetch"),!0===d?await j(e):await g(e),y({}),p(!1),await S(),s(!1),u(!1)}})]})},da=()=>{(0,I.Zp)();const[e,t]=(0,v.useState)([{assets:"machine1"}]),[a,n]=(0,v.useState)(),[s,i]=(0,v.useState)(0),[o,r]=(0,v.useState)(!1),[c,d]=(0,v.useState)(!1),[u,h]=(0,v.useState)(0),[p,m]=(0,v.useState)({name:"",metadata:{}}),{list:x,create:A,update:y,remove:w}=Nt(),g=[{id:1,title:"Assets",render:e=>e.assets},{id:2,title:"Online",render:e=>(0,B.jsx)(oa.A,{})},{id:3,title:"Offline",render:e=>(0,B.jsx)(oa.A,{})},{id:4,title:"Downtime",render:e=>(0,B.jsx)(oa.A,{})},{id:5,title:"Action",render:e=>(0,B.jsx)(Z.A,{children:"Confirm"})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsxs)("h1",{className:"mt-4",children:["Notification Settings",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",e.length,")"]})]})}),(0,B.jsxs)(l.A,{direction:"row",justifyContent:"flex-end",sx:{mb:1},children:[(0,B.jsx)(qe.A,{keyValues:[{id:"assets",title:"Assets"},{id:"online",title:"Online"},{id:"downtime",title:"Downtime"},{id:"offline",title:"Offline"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1"}),(0,B.jsx)(Q.A,{height:"37px",placeholder:"Universal Search"})]}),(0,B.jsx)(G,{columns:g,rows:e,rowsPerPage:5,loading:"fetch"===a,titleCellClasses:"c-gray fw-700",page:u,setPage:h,paginator:!0,serialize:!0,total:s})]})},ua=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,edit:r}=e;const c=[{title:"Name",placeholder:"Enter name",type:Y.wN.INPUT,name:"name",validator:Y.wY.REQUIRED},{title:"Unit",placeholder:"Enter unit",type:Y.wN.INPUT,name:"unit",validator:Y.wY.REQUIRED},{title:"Reorder Point",placeholder:"Enter identifier",type:Y.wN.INPUT,name:"reorder_point",validator:Y.wY.REQUIRED},{title:"Initial Stock",placeholder:"Enter Stock",type:Y.wN.INPUT,name:"stock",validator:Y.wY.REQUIRED},{title:"Vendor",placeholder:"Select Vendor",type:Y.wN.SELECT,name:"vendor",validator:Y.wY.REQUIRED,keyValues:[]}],[d,u]=(0,v.useState)(new Map);return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===r?"EDIT":"ADD"," NEW RESOURCE"]}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:c}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:i,loading:o,children:"Create"})]})]})},ha=()=>{const e=(0,I.Zp)(),[t,a]=(0,v.useState)([]),[n,s]=(0,v.useState)(),[r,c]=(0,v.useState)(0),[d,u]=(0,v.useState)(!1),[h,p]=(0,v.useState)(!1),[m,x]=(0,v.useState)(0),[A,y]=(0,v.useState)({name:"",metadata:{}}),{list:w,create:g,update:j,remove:f}=Nt(),S=async()=>{s("fetch");const[e,t]=await w(m+1);a(e),c(t),s(!1)},C=[{id:1,title:"Name",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:2,title:"Effective Downtime",render:e=>e.name},{id:3,title:"Created By",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:4,title:"Created on",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:7,title:"Status",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:8,title:"Lines",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:2,title:"Threshold",render:t=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},onClick:()=>e("/plantpage",{state:t.id}),children:t.name})},{id:5,title:"Action",render:e=>(0,B.jsx)(l.A,{flexDirection:"row",children:(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{y(e),u(!0),p("add")},children:(0,B.jsx)(te.A,{color:"primary",fontSize:"small"})})})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("h1",{className:"mt-4",children:["Consumables",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",t.length,")"]})]}),(0,B.jsx)(l.A,{sx:{flexDirection:"row",gap:1},children:(0,B.jsx)(Z.A,{onClick:()=>p("add"),children:"Add New Resource"})})]}),(0,B.jsxs)(l.A,{direction:"row",justifyContent:"flex-end",children:[(0,B.jsx)(qe.A,{keyValues:[{id:"name",title:"Name"},{id:"sap_id",title:"SAP ID"},{id:"hsn_code",title:"HSN CODE"},{id:"internal_id",title:"Internal ID"},{id:"serialization",title:"Serialization"},{id:"category",title:"Category"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1"}),(0,B.jsx)(Q.A,{height:"37px",placeholder:"Universal Search"})]}),(0,B.jsx)(G,{columns:C,rows:t,rowsPerPage:5,loading:"fetch"===n,titleCellClasses:"c-gray fw-700",page:m,setPage:x,paginator:!0,serialize:!0,total:r}),(0,B.jsx)(ua,{open:"add"===h,onClose:()=>{p(!1),u(!1)},data:A,edit:d,setData:y,onSubmit:async()=>{const e={...A};console.log("payload",e),s("fetch"),!0===d?await j(e):await g(e),y({}),p(!1),await S(),s(!1),u(!1)}}),(0,B.jsx)(Se,{onClose:()=>p(!1),open:"bulkUpload"===h})]})};var pa=a(7965),ma=a(9761);const xa=()=>{(0,I.Zp)();const[e,t]=(0,v.useState)([]),[a,n]=(0,v.useState)(),[s,r]=(0,v.useState)(0),[c,d]=(0,v.useState)(!1),[u,h]=(0,v.useState)(!1),[p,m]=(0,v.useState)(0),[x,y]=(0,v.useState)({name:"",metadata:{}}),{list:w,create:g,update:j,remove:f}=Nt();return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsx)("h1",{className:"mt-4",children:"Organization Profile"})}),(0,B.jsxs)(l.A,{sx:{backgroundColor:"#edf7ff"},children:[(0,B.jsx)(l.A,{sx:{backgroundColor:"#c5e3f7",height:"35vh"},children:(0,B.jsx)("img",{width:"100%",height:"100%",alt:"image industry",style:{objectFit:"cover"},src:"https://www.advsyscon.com/blog/wp-content/uploads/intelligent-process-automation-examples.jpg"})}),(0,B.jsx)(l.A,{sx:{backgroundColor:"yellow",height:"30vh",borderRadius:"50%",width:"18%",alignSelf:"center",mt:-15,overflow:"hidden"},children:(0,B.jsx)("img",{width:"100%",height:"100%",alt:"image industry",src:"https://wellgroomedgentleman.com/wp-content/uploads/2023/10/Tony_Stark_Beard_with_Quiff_Hairstyle.width-800.jpg"})}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"center",my:2},children:[(0,B.jsx)(o.A,{sx:{p:1,color:"black"},children:(0,B.jsx)(pa.A,{})}),(0,B.jsx)(o.A,{sx:{p:1,color:"black"},children:(0,B.jsx)(ma.A,{})}),(0,B.jsx)(o.A,{sx:{p:1,color:"black"},children:(0,B.jsx)(S.A,{})}),(0,B.jsx)(o.A,{sx:{p:1,color:"black"},children:(0,B.jsx)(te.A,{})})]})]}),(0,B.jsxs)(oe.Ay,{display:"grid",sx:{gap:1,mt:1},gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:[(0,B.jsxs)(l.A,{sx:{backgroundColor:"#edf7ff",p:1},children:[(0,B.jsx)(i.A,{variant:"h6",sx:{textTransform:"uppercase"},children:"Organizational Details"}),(0,B.jsx)(A.A,{}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:2,mt:1},children:[(0,B.jsx)(i.A,{children:"Organizational Name :"}),(0,B.jsx)(i.A,{children:"Dhoot Transmission"})]}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:2},children:[(0,B.jsx)(i.A,{children:"Joining Code :"}),(0,B.jsx)(i.A,{children:"SNL1234"})]}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:2},children:[(0,B.jsx)(i.A,{children:"Organization Type :"}),(0,B.jsx)(i.A,{children:"Dhoot Transmission"})]})]}),(0,B.jsxs)(l.A,{sx:{backgroundColor:"#edf7ff",p:1},children:[(0,B.jsx)(i.A,{variant:"h6",sx:{textTransform:"uppercase"},children:"Address Details"}),(0,B.jsx)(A.A,{}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:2,mt:1},children:[(0,B.jsx)(i.A,{children:"Address :"}),(0,B.jsx)(i.A,{children:"Hoshyarpur, Haryana 202098 "})]}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:2},children:[(0,B.jsx)(i.A,{children:"City :"}),(0,B.jsx)(i.A,{children:"Hoshyarpur"})]}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:2},children:[(0,B.jsx)(i.A,{children:"State :"}),(0,B.jsx)(i.A,{children:"Haryana"})]})]}),(0,B.jsxs)(l.A,{sx:{backgroundColor:"#edf7ff",p:1},children:[(0,B.jsx)(i.A,{variant:"h6",sx:{textTransform:"uppercase"},children:"General Details"}),(0,B.jsx)(A.A,{}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:2,mt:1},children:[(0,B.jsx)(i.A,{children:"GSTIN :"}),(0,B.jsx)(i.A,{children:"GSTIN202098 "})]}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:2},children:[(0,B.jsx)(i.A,{children:"Module Access :"}),(0,B.jsx)(l.A,{sx:{width:"70%"},children:(0,B.jsxs)(oe.Ay,{sx:{gap:1},children:[(0,B.jsx)(ue.A,{sx:{mb:.5,ml:.2},label:"Module 1"}),(0,B.jsx)(ue.A,{sx:{mb:.5,ml:.2},label:"Module 2"}),(0,B.jsx)(ue.A,{sx:{mb:.5,ml:.2},label:"Module 3"}),(0,B.jsx)(ue.A,{sx:{mb:.5,ml:.2},label:"Module 4"}),(0,B.jsx)(ue.A,{sx:{mb:.5,ml:.2},label:"Module 5"}),(0,B.jsx)(ue.A,{sx:{mb:.5,ml:.2},label:"Module 6"})]})})]})]}),(0,B.jsxs)(l.A,{sx:{backgroundColor:"#edf7ff",p:1},children:[(0,B.jsx)(i.A,{variant:"h6",sx:{textTransform:"uppercase"},children:"Additional Details"}),(0,B.jsx)(A.A,{}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:2,mt:1},children:[(0,B.jsx)(i.A,{children:"Created On :"}),(0,B.jsxs)(i.A,{children:[Ee()().format("llll")," "]})]}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:2},children:[(0,B.jsx)(i.A,{children:"Last Modified :"}),(0,B.jsx)(i.A,{children:Ee()().format("llll")})]})]})]})]})},va=()=>{const{token:e}=(0,y.d4)((e=>e[J.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){const e=new W.Ay,a=await e.get("".concat(V.H.ORDERS,"/"),{},t,q.So);return null!==a&&void 0!==a&&a.data?[null===a||void 0===a?void 0:a.data]:[[],0]},subList:async function(e){const a=new W.Ay,n=await a.get("".concat(V.H.ORDERS,"/").concat(V.H.DETAIL,"/").concat(e,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?[null===n||void 0===n?void 0:n.data.suborder]:[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("".concat(V.H.ORDERS,"/"),e,t,(e=>(0,q.So)(e,null,"Order created successfully!")));return null===n||void 0===n?void 0:n.data},createSub:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new W.Ay,s=await n.post("".concat(V.H.ORDERS,"/").concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"Order created successfully!")));return null===s||void 0===s?void 0:s.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new W.Ay,s=await n.put("".concat(V.H.ASSET,"/").concat(V.H.PLANT,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Plant Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{const a=new W.Ay,n=await a.delete("".concat(V.H.ASSET,"/").concat(V.H.PLANT,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Plant deleted successfully!")));return null===n||void 0===n?void 0:n.data}}},Aa=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,edit:r}=e;const c=[{title:"Name",placeholder:"Enter Name",type:Y.wN.INPUT,name:"name",validator:Y.wY.REQUIRED},{title:"Sales Order Number",placeholder:"Enter Sales Order Number",type:Y.wN.INPUT,name:"sales_order_number",validator:Y.wY.REQUIRED},{title:"Target Warehouse",placeholder:"Enter Target Warehouse",type:Y.wN.INPUT,name:"target_warehouse",validator:Y.wY.REQUIRED}],[d,u]=(0,v.useState)(new Map);return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===r?"EDIT":"ADD"," NEW ORDER"]}),(0,B.jsx)(se.A,{data:n,errors:d,onChange:e=>{const{name:t,value:a}=e.target;u((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:c}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:i,loading:o,children:"Create"})]})]})},ya=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:o,loading:r,edit:c}=e;const d=(0,y.d4)((e=>{var t;return null===e||void 0===e||null===(t=e.OrderItem)||void 0===t?void 0:t.data}));Y.wN.INPUT,Y.wY.REQUIRED,Y.wN.INPUT,Y.wY.REQUIRED,Y.wN.INPUT,Y.wY.REQUIRED;return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"ORDER DETAILS"}),(0,B.jsxs)(l.A,{sx:{gap:1},children:[(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:5},children:[(0,B.jsx)(i.A,{sx:{width:"20%"},children:"Order ID :"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:null===d||void 0===d?void 0:d.order_id})]}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:5},children:[(0,B.jsx)(i.A,{sx:{width:"20%"},children:"Client :"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:null===d||void 0===d?void 0:d.target_warehouse})]}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:5},children:[(0,B.jsx)(i.A,{sx:{width:"20%"},children:"Oty :"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:null===d||void 0===d?void 0:d.planned_quantity})]}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:5},children:[(0,B.jsx)(i.A,{sx:{width:"20%"},children:"Start Date :"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:Ee()(null===d||void 0===d?void 0:d.created).format("ll")})]}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:5},children:[(0,B.jsx)(i.A,{sx:{width:"20%"},children:"End Date :"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:Ee()(null===d||void 0===d?void 0:d.modified).format("ll")})]})]})]})};var wa=a(616);const ga=e=>{let{children:t,onClick:a,variant:n,top:s,colorCode:i,classes:o,height:r,width:c,bordered:d,gray:u,disabled:h,loading:p,hide:m,background:x,white:v}=e;return(0,B.jsx)(l.A,{onClick:a,sx:{cursor:"pointer",borderRadius:5,textTransform:"capitalize",justifyContent:"center",alignItems:"center",px:.4,fontSize:18,fontWeight:400,backgroundColor:"outline"===n?"transparent":i,color:"outline"===n?"#3E3E3E":"white",border:"outline"===n?1:"none",borderColor:i},children:t})},ja=()=>{const e=(0,I.Zp)(),t=(0,y.wA)(),[a,n]=((0,v.useRef)(),(0,v.useState)([])),[s,l]=(0,v.useState)(),[o,r]=(0,v.useState)(),[c,d]=(0,v.useState)(0),[u,h]=(0,v.useState)(!1),[p,m]=(0,v.useState)(0),[x,A]=(0,v.useState)(0),[w,g]=(0,v.useState)({}),[j,f]=(0,v.useState)(2),[S,C]=(0,v.useState)(),{list:b,create:N,createInbound:E,genBarCode:k}=va(),[T,_]=(0,v.useState)({});(0,v.useEffect)((()=>{D()}),[p,x]);const D=async()=>{r("fetch");const[e]=await b(p+1);console.log("counnt----",e.count),n(null===e||void 0===e?void 0:e.results),d(e.count),r(!1)},R=async()=>{const e={...w};await N(e),await D(),g({}),h(!1)},P=[{id:1,title:"Order ID",render:e=>(0,B.jsx)(i.A,{sx:{cursor:"pointer",color:"blue",fontSize:20},onClick:()=>{t((0,wa.l)(e)),h("detail")},children:e.order_id})},{id:2,title:"Client ID",render:e=>e.vendor_part_id},{id:3,title:"Oty",render:e=>e.planned_quantity},{id:4,title:"Start Date",render:e=>Ee()(e.created).format("ll")},{id:5,title:"End Date",render:e=>Ee()(e.created).format("ll")},{id:6,title:"Actions",render:t=>(0,B.jsx)(ga,{variant:"outline",colorCode:"#FA7474",onClick:()=>e("/plan",{state:t.id}),children:"on hold"})},{id:7,title:"Status",render:e=>(0,B.jsx)(ze.A,{style:{padding:0,backgroundColor:Y.lm.LG_GRAY},activeStep:j,alternativeLabel:!0,children:["I","S","L"].map((e=>(0,B.jsx)(Fe.A,{children:(0,B.jsx)(Me.A,{})},e)))})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("h1",{className:"mt-4",children:["Order",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",c,")"]})]}),(0,B.jsx)(Z.A,{onClick:()=>h("add"),children:"Add Order"})]}),(0,B.jsx)("div",{className:"flex items-center justify-between mb-3"}),(0,B.jsx)(G,{columns:P,rows:a,rowsPerPage:5,loading:"fetch"===o,titleCellClasses:"c-gray fw-700",page:p,setPage:m,paginator:!0,serialize:!0,total:c}),(0,B.jsx)(Aa,{onClose:()=>h(!1),open:"add"===u,data:w,onSubmit:R,setData:g}),(0,B.jsx)(ya,{onClose:()=>h(!1),open:"detail"===u,data:w,onSubmit:R,setData:g})]})},fa=()=>{const{token:e}=(0,y.d4)((e=>e[J.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{jobList:async function(){let e=arguments.length>1?arguments[1]:void 0;const a=new W.Ay,n=await a.get("".concat(V.H.ORDERS,"/all-jobs/").concat(e,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},subList:async function(e){const a=new W.Ay,n=await a.get("".concat(V.H.ORDERS,"/").concat(e,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?[null===n||void 0===n?void 0:n.data]:[[],0]},createJob:async function(){let e=arguments.length>1?arguments[1]:void 0;const a={...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},prerequisite_jobs:[]},n=new W.Ay,s=await n.post("".concat(V.H.ORDERS,"/").concat(V.H.JOBS,"/").concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"Job created successfully!")));return null===s||void 0===s?void 0:s.data},createSub:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new W.Ay,s=await n.post("".concat(V.H.ORDERS,"/").concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"Job created successfully!")));return null===s||void 0===s?void 0:s.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new W.Ay,s=await n.put("".concat(V.H.ASSET,"/").concat(V.H.PLANT,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Plant Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{const a=new W.Ay,n=await a.delete("".concat(V.H.ASSET,"/").concat(V.H.PLANT,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Plant deleted successfully!")));return null===n||void 0===n?void 0:n.data}}},Sa=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,edit:r,tab:c}=e;const d=[{title:"Name",placeholder:"Enter Name",type:Y.wN.INPUT,name:"name",validator:Y.wY.REQUIRED}],[u,h]=(0,v.useState)(new Map);return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",style:{textTransform:"uppercase"},children:[!0===r?"EDIT":"ADD"," ",c]}),(0,B.jsx)(se.A,{data:n,errors:u,onChange:e=>{const{name:t,value:a}=e.target;h((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:d}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:i,loading:o,children:"Create"})]})]})};var Ca=a(1223);const ba=()=>{const e=(0,I.Zp)(),t=(0,I.zy)(),[a,n]=((0,y.wA)(),(0,v.useState)(t.state)),[s,l]=(0,v.useState)([]),[i,r]=(0,v.useState)(),[c,d]=(0,v.useState)(),[u,h]=(0,v.useState)(0),[p,m]=(0,v.useState)(!1),[x,A]=(0,v.useState)(0),[w,g]=(0,v.useState)("Sub Orders"),[j,f]=(0,v.useState)({}),[S,C]=(0,v.useState)(),{list:b,subList:N,createSub:E,createInbound:k,genBarCode:T}=va(),{jobList:_,createJob:D}=fa(),[R,P]=(0,v.useState)({});(0,v.useEffect)((()=>{O()}),[x,w,a]);const O=async()=>{d("fetch");const[e]="Sub Orders"===w?await N(a,x+1):await _(x+1,a);l(e),h(e.count),d(!1)},U=[{id:1,title:"Sub Orders"===w?"Order ID":"Name",render:e=>"Sub Orders"===w?e.order_id:e.name},{id:2,title:"Client ID",render:e=>e.vendor_part_id},{id:3,title:"Oty",render:e=>e.planned_quantity},{id:4,title:"Start Date",render:e=>Ee()(e.created).format("ll")},{id:5,title:"End Date",render:e=>Ee()(e.created).format("ll")},{id:7,title:"Status",render:e=>(0,B.jsx)(ga,{colorCode:"#1535DB",onClick:()=>{"Sub Orders"===w&&n(e.id)},children:"To Plan"})},{id:6,title:"Actions",render:t=>(0,B.jsx)(o.A,{onClick:()=>e("/plan-overview",{state:t.order_id}),children:(0,B.jsx)(Ca.A,{})})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsxs)("h1",{className:"mt-4",children:[w,(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",s.length,")"]})]})}),(0,B.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,B.jsx)(ce.A,{value:w,onChange:(e,t)=>g(t),children:["Sub Orders","Jobs"].map(((e,t)=>(0,B.jsx)(de.A,{label:e,value:e},t)))}),(0,B.jsxs)(Z.A,{onClick:()=>m("add"),children:["Add ",w]})]}),(0,B.jsx)(G,{columns:U,rows:s,rowsPerPage:5,loading:"fetch"===c,titleCellClasses:"c-gray fw-700",page:x,setPage:A,paginator:!0,serialize:!0,total:u}),(0,B.jsx)(Sa,{onClose:()=>m(!1),open:"add"===p,data:j,onSubmit:async()=>{const e={...j};"Sub Orders"===w?await E(a,e):await D(e,a),await O(),f({}),m(!1)},setData:f,tab:w})]})};var Na=a(4535),Ea=a(1906),ka=a(2954);const Ia=()=>{const e=(0,I.zy)(),[t,a]=((0,I.Zp)(),(0,y.wA)(),(0,v.useRef)(),(0,v.useState)([])),[n,s]=(0,v.useState)(),[o,r]=(0,v.useState)(),[c,d]=(0,v.useState)(0),[u,h]=(0,v.useState)(!1),[p,m]=(0,v.useState)(0),[x,A]=(0,v.useState)(0),[w,g]=(0,v.useState)({}),[j,f]=(0,v.useState)(),{list:S,create:C,createInbound:b,genBarCode:N}=va(),[E,k]=(0,v.useState)({}),T=e.state,_=(0,Na.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});(0,v.useEffect)((()=>{D()}),[p,x]);const D=async()=>{r("fetch");const[e]=await S(T,p+1);console.log("counnt----",e.count),a(null===e||void 0===e?void 0:e.results),d(e.count),r(!1)};return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsxs)(l.A,{sx:{gap:.5,flexDirection:"row",alignItems:"center"},children:[(0,B.jsx)("h2",{className:"",children:"Plan Overview "}),(0,B.jsx)(Ct.A,{fontSize:"large"}),(0,B.jsxs)("span",{className:"fs-30 c-gray",children:[" ",T]})]})}),(0,B.jsx)("div",{className:"flex items-center justify-between mb-3"}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between",pr:2},children:[(0,B.jsx)(i.A,{children:"To start please select file"}),(0,B.jsxs)(Ea.A,{sx:{width:"fit-content"},component:"label",role:void 0,variant:"contained",tabIndex:-1,startIcon:(0,B.jsx)(ka.A,{}),children:["Upload file",(0,B.jsx)(_,{type:"file"})]})]}),(0,B.jsx)(Aa,{onClose:()=>h(!1),open:"add"===u,data:w,onSubmit:async()=>{const e={...w};await C(e),await D(),g({}),h(!1)},setData:g})]})},Ta=()=>{(0,I.zy)(),(0,I.Zp)();const[e,t]=(0,v.useState)([]),[a,n]=(0,v.useState)(""),[s,i]=(0,v.useState)(""),[o,r]=(0,v.useState)({shift:"",state:"",quality:""});return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("h1",{className:"mt-2",children:"Live View"}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between",mb:2},children:[(0,B.jsxs)(l.A,{sx:{flexDirection:"row"},children:[(0,B.jsx)(qe.A,{keyValues:[{id:"All",title:"All"},{id:"Shift A",title:"Shift A"},{id:"Shift B",title:"Shift B"},{id:"Out of Shift",title:"Out of Shift"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Shift",classes:"mr-1",value:o.shift,onChange:e=>r({...o,shift:e.target.value})}),(0,B.jsx)(qe.A,{keyValues:[{id:"All",title:"All"},{id:"Production",title:"Production"},{id:"Downtime",title:"Downtime"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"State",classes:"mr-1",value:o.state,onChange:e=>r({...o,state:e.target.value})}),(0,B.jsx)(qe.A,{keyValues:[{id:"All",title:"All"},{id:"Good",title:"Good"},{id:"NG",title:"NG"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Quality",classes:"mr-1",value:o.quality,onChange:e=>r({...o,quality:e.target.value})}),(0,B.jsx)(mt.A,{width:"fit-content"})]}),(0,B.jsxs)(l.A,{direction:"row",justifyContent:"flex-end",children:[(0,B.jsx)(qe.A,{keyValues:[{id:"Division",title:"Division"},{id:"Line",title:"Line"},{id:"OEE",title:"OEE"},{id:"Availability",title:"Availability"},{id:"Performance",title:"Performance"},{id:"Quality",title:"Quality"},{id:"Total Cycle Time",title:"Total Cycle Time"},{id:"Total Downtime",title:"Total Downtime"},{id:"Total Available Time",title:"Total Available Time"},{id:"Pass",title:"Pass"},{id:"Fail",title:"Fail"},{id:"Status",title:"Status"}].map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Search by",classes:"mr-1",value:a,onChange:e=>n(e.target.value)}),(0,B.jsx)(Q.A,{height:"37px",placeholder:"Universal Search",value:s,onChange:e=>{i(e.target.value)}})]})]}),(0,B.jsx)(ea,{}),(0,B.jsx)(G,{columns:[{id:42,title:"Division",render:e=>e.name},{id:1,title:"Line",render:e=>e.sap_id},{id:2,title:"OEE",render:e=>e.hsn_code},{id:3,title:"Availability",render:e=>1===e.serialization_method?"No Serialization":2===e.serialization_method?"Use Pre-Generated ID":3===e.serialization_method?"Use Own ID":"-"},{id:4,title:"Performance",render:e=>e.vendor_part_id},{id:5,title:"Quality",render:e=>null===e||void 0===e?void 0:e.category},{id:6,title:"Total Cycle Time",render:e=>e.hsn_code},{id:7,title:"Total Downtime",render:e=>e.hsn_code},{id:8,title:"Total Available Time",render:e=>e.hsn_code},{id:9,title:"Pass",render:e=>e.hsn_code},{id:10,title:"Fail",render:e=>e.hsn_code},{id:11,title:"Status",render:e=>e.hsn_code},{id:12,title:"Last Event Received At",render:e=>e.hsn_code},{id:13,title:"Details",render:e=>e.hsn_code}],rows:e,rowsPerPage:5,titleCellClasses:"c-gray fw-700",serialize:!0})]})},_a=e=>{let{options:t,series:a}=e;const[n,s]=(0,v.useState)([]),[i,o]=(0,v.useState)(!1);return(0,B.jsx)(l.A,{sx:{width:"95%"},children:(0,B.jsx)(dt.A,{options:t,series:a,type:"bar",height:300})})},Da=[{id:"SPM-DUPLEX-512",title:"SPM-DUPLEX-512"}],Ra=()=>{(0,I.zy)(),(0,I.Zp)();const[e,t]=(0,v.useState)([]),[a,n]=(0,v.useState)(""),[s,o]=(0,v.useState)(""),[r,c]=(0,v.useState)({shift:Da[0].title,state:"",quality:""});return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("h1",{className:"mt-2",children:"Operator Portal"}),(0,B.jsx)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between",mb:2},children:(0,B.jsxs)(l.A,{sx:{flexDirection:"row"},children:[(0,B.jsx)(qe.A,{keyValues:Da.map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Shift",classes:"mr-1",value:r.shift,onChange:e=>c({...r,shift:e.target.value})}),(0,B.jsx)(mt.A,{width:"fit-content"})]})}),(0,B.jsxs)(l.A,{children:[(0,B.jsxs)(l.A,{sx:{border:2,borderColor:"#eeee",flexDirection:"row",justifyContent:"space-between",p:1},children:[(0,B.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between",width:"49%"},children:[(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{children:"Good"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"123"})]}),(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{children:"NG"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"65"})]}),(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{children:"ass"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"55"})]}),(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{children:"Fail"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"44"})]}),(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{children:"Total"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"33"})]})]}),(0,B.jsx)(l.A,{sx:{borderRight:2,borderColor:"#eeee"}}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between",width:"49%"},children:[(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{children:"OEE"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"123"})]}),(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{children:"Availability"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"65"})]}),(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{children:"Performance"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"55"})]}),(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{children:"Quality"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"44"})]})]})]}),(0,B.jsxs)(l.A,{sx:{border:2,borderColor:"#eeee",flexDirection:"row",justifyContent:"space-between",p:1,mt:1},children:[(0,B.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between",width:"25%",alignContent:"center",alignItems:"center"},children:[(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{children:"Machining Time"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"0:00:00"})]}),(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{children:"Downtime"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"0:00:00"})]})]}),(0,B.jsx)(l.A,{sx:{borderRight:2,borderColor:"#eeee"}}),(0,B.jsxs)(l.A,{sx:{width:"73%"},children:[(0,B.jsx)(i.A,{children:"Downtime Event"}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{children:"Start Time"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"0:00:00"})]}),(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{children:"End Time"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"0:00:00"})]}),(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{children:"Duration Time"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"0:00:00"})]}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row"},children:[(0,B.jsx)(qe.A,{keyValues:Da.map((e=>({key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.title}))),width:"120px",placeholder:"Shift",classes:"mr-1",value:r.shift,onChange:e=>c({...r,shift:e.target.value})}),(0,B.jsx)(l.A,{sx:{justifyContent:"center"},children:(0,B.jsx)(Z.A,{sx:{width:"fit-content"},children:"Submit"})})]})]})]})]}),(0,B.jsxs)(l.A,{sx:{border:2,borderColor:"#eeee",p:1,mt:1},children:[(0,B.jsx)(i.A,{children:"Production"}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row"},children:[(0,B.jsx)(l.A,{sx:{width:"30%"},children:(0,B.jsx)(ht,{chart:{series:[{label:"America",value:80}]},colorCode:"#e334e6"})}),(0,B.jsx)(l.A,{sx:{width:"70%"},children:(0,B.jsx)(_a,{series:[{name:"Sales",data:[30,40,35,50,49,60,70]},{name:"Buy",data:[30,40,35,50,49,60,70]}],options:{chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded",dataLabels:{orientation:"vertical"}}},dataLabels:{enabled:!0,offsetY:-20,style:{fontSize:"12px",colors:["#fff"]}},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul"]},fill:{opacity:1},tooltip:{y:{formatter:function(e){return"$ "+e+" thousands"}}}}})})]})]})]})]})},Pa=()=>{const{token:e}=(0,y.d4)((e=>e[J.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{question_list:async function(){const e=new W.Ay,a=await e.get("training/question-bank/",{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},skill_question_list:async function(){let e=arguments.length>1?arguments[1]:void 0;const a=new W.Ay,n=await a.get("training/skill-questions/".concat(e,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},skill_list:async function(){const e=new W.Ay,a=await e.get("training/skills/",{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},induction_question:async function(){const e=new W.Ay,a=await e.get("training/induction-questions/",{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},hr_question:async function(){const e=new W.Ay,a=await e.get("training/miscellaneous-questions/",{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},result:async e=>{const a=new W.Ay,n=await a.get("training/update-test-results/".concat(e,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},get_Test:async e=>{const a=new W.Ay,n=await a.get("training/test-instance/".concat(e,"/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),[null===n||void 0===n?void 0:n.data]):[[],0]},test_list:async function(){const e=new W.Ay,a=await e.get("training/test-masters/",{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},createTest:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("training/test-masters/",e,t,(e=>(0,q.So)(e,null)));return null===n||void 0===n?void 0:n.data},assignExam:async e=>{const a=new W.Ay,n=await a.post("training/".concat(e.test,"/test-instance/").concat(e.operator.key,"/"),{},t,(e=>(0,q.So)(e,null,"Test Successfully Assign !")));return null===n||void 0===n?void 0:n.data},addQuestion:async(e,a)=>{const n=new W.Ay,s=await n.put("training/test-master/".concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"Test Updated Successfully!")));return null===s||void 0===s?void 0:s.data},updateTest:async(e,a)=>{const n=new W.Ay,s=await n.put("training/test-instance/".concat(e,"/"),a,t,(e=>(0,q.So)(e,null)));return null===s||void 0===s?void 0:s.data},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("training/question-bank/",e,t,(e=>(0,q.So)(e,null)));return null===n||void 0===n?void 0:n.data},updateProfile:async(e,a)=>{const n=new W.Ay,s=await n.put("".concat(V.H.USER,"-").concat(V.H.PROFILE,"/").concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"User Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{if(!e)return;const a=new W.Ay,n=await a.delete("".concat(V.H.USER,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"User deleted successfully!")));return null===n||void 0===n?void 0:n.data},linkPlanTestMaster:async(e,a)=>{const n=new W.Ay,s=await n.put("training/training/".concat(e,"/"),a,t,(e=>(0,q.So)(e,null)));return null===s||void 0===s?void 0:s.data}}};var Oa=a(9413);const Ua=e=>{let{open:t,onClose:a,data:n,setData:s,onStart:o,loading:r,edit:c,setModalOpen:d,testData:u}=e;return(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(p.A,{sx:{display:"flex",gap:2},children:[(0,B.jsxs)(l.A,{sx:{width:"55%"},children:[(0,B.jsx)(l.A,{sx:{backgroundColor:Y.lm.LIGHT_BLUE,borderRadius:2,p:2},children:(0,B.jsx)(i.A,{className:"fw-600-16",children:(null===u||void 0===u?void 0:u.test.test_name)||"sass"})}),(0,B.jsxs)(l.A,{className:"fw-500-14",sx:{backgroundColor:Y.lm.LIGHT_GRAY,mt:2,borderRadius:2,p:2},children:[(0,B.jsx)(i.A,{className:"fw-500-14",children:"You are going to start the Test, Please read carefully below Instructions"}),(0,B.jsxs)(l.A,{children:[(0,B.jsxs)(i.A,{className:"fw-500-14",children:["1.The test is designed to test your Skill - ",(null===u||void 0===u?void 0:u.test.skill)||"sass"]}),(0,B.jsxs)(i.A,{className:"fw-500-14",children:["2.The time duration is ",(null===u||void 0===u?void 0:u.test.alloted_minutes)||"sass"," mins."]}),(0,B.jsxs)(i.A,{className:"fw-500-14",children:["3.The test will auto close  at ",(null===u||void 0===u?void 0:u.test.alloted_minutes)||"sass"," mins"]}),(0,B.jsx)(i.A,{className:"fw-500-14",children:"4.Each question is on 1 mark."}),(0,B.jsxs)(i.A,{className:"fw-500-14",children:["5.There are ",(null===u||void 0===u?void 0:u.test.maximum_questions)||"sass"," Questions."]}),(0,B.jsx)(i.A,{className:"fw-500-14",children:"6.There is no negative marking "}),(0,B.jsx)(i.A,{className:"fw-500-14",children:"7.Choose only one best answer"}),(0,B.jsx)(i.A,{className:"fw-500-14",children:"8.You can go back and change your answers."}),(0,B.jsx)(i.A,{className:"fw-500-14",children:"9.Please take the test at one go."}),(0,B.jsx)(i.A,{className:"fw-500-14",children:"10.Please click submit when you are finished"})]}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between",mt:2},children:[(0,B.jsx)(Z.A,{color:"gray",children:"Back"}),(0,B.jsx)(Z.A,{color:"light_green",onClick:()=>{d("start"),o()},children:"Start"})]})]})]}),(0,B.jsx)(l.A,{sx:{width:"43%"},children:(0,B.jsxs)(l.A,{sx:{backgroundColor:Y.lm.LIGHT_GRAY,borderRadius:2,p:2},children:[(0,B.jsx)(i.A,{className:"fw-600-16",children:"Sample Question 1"}),(0,B.jsx)(i.A,{sx:{mt:1},className:"fw-600-16",children:"Tick the correct answer or Answers and  Submit"}),(0,B.jsx)(i.A,{sx:{mt:1},className:"fw-500-14",children:"Question 1"}),(0,B.jsx)(i.A,{sx:{mt:1,mb:1},className:"fw-500-14",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),[{option:"Answer 1",check:!0},{option:"Answer 2",check:!1},{option:"Answer 3",check:!1},{option:"Answer 4",check:!1}].map(((e,t,a)=>(0,B.jsx)(Oa.A,{sx:{mb:1.4},children:(0,B.jsx)(wt.A,{disabled:!0,control:(0,B.jsx)(oa.A,{className:"fw-500-14",defaultChecked:e.check}),label:e.option})},a)))]})})]})})};var La=a(1338);const Ha=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:o,loading:r,edit:c}=e;return(0,B.jsx)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:(0,B.jsxs)(l.A,{sx:{justifyContent:"center",alignItems:"center",mt:4},children:[(0,B.jsx)(La.A,{sx:{width:55,height:55},color:"primary"}),(0,B.jsx)(l.A,{sx:{justifyContent:"center",alignItems:"center",mt:2,mb:2},children:(0,B.jsx)(i.A,{sx:{fontSize:20,fontWeight:"bold"},color:"primary",children:"Done !"})})]})})};var za=a(1825);const Fa=e=>{let{activeQuestion:t,totalQuestions:a,setModalOpen:n,testData:s}=e;(0,I.Zp)();const[o,r]=(0,v.useState)(null===s||void 0===s?void 0:s.remaining_time_in_seconds);return(0,v.useEffect)((()=>{if(o>0){const e=setTimeout((()=>{r((e=>e-1)),localStorage.setItem("time",o)}),1e3);return()=>clearTimeout(e)}o<1&&(n("timeUps"),localStorage.setItem("draweWidth",270))}),[o]),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:.5,alignItems:"baseline"},children:[(0,B.jsx)(i.A,{sx:{fontWeight:500,fontSize:40},children:(0,le.gv)(t)}),(0,B.jsxs)(i.A,{sx:{fontWeight:500,fontSize:20},children:["/",(0,le.gv)(a)]})]}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:1,alignItems:"center",mr:2},children:[(0,B.jsx)(za.A,{fontSize:"large"}),(0,B.jsx)(i.A,{sx:{fontWeight:500,fontSize:18},children:(0,le.fU)(o)})]})]})};var Ma=a(6240);const Qa=e=>{let{highlightAnswer:t,children:a,...n}=e;const s=(0,Ma.A)();return(0,B.jsx)(p.A,{...n,sx:{fontSize:{xs:"18px",sm:"calc(18px + 2vw)",md:"calc(18px + 4vw)",lg:"16px"},color:s.palette.text.secondary,fontWeight:t?400:300,border:"1px solid ".concat(t?s.palette.primary.main:s.palette.divider),backgroundColor:t?s.palette.background.selected:s.palette.background.paper,borderRadius:"16px",marginTop:{xs:"13px",sm:"calc(10px + 6 * ((100vw - 600px) / 1320))",md:"16px"},cursor:"pointer",transition:t?"border 0.2s ease-in":"none","& input":{visibility:"hidden",margin:0}},children:a})},Ya=e=>{let{onChange:t,index:a,choice:n,type:s,correct:l}=e;const o=String.fromCharCode(65+a),[r,c]=(0,v.useState)("");return(0,B.jsx)(Qa,{highlightAnswer:!0===l?"21":"",children:(0,B.jsxs)(i.A,{sx:{p:1.5,display:"flex",fontWeight:!0===l?"bold":""},onClick:()=>t(n),children:[(0,B.jsxs)(i.A,{sx:{fontWeight:!0===l?"bold":""},children:[o,"."]}),n]})},a)},Ba=e=>{let{question:t,code:a,image:n,type:s,choices:o=[],selectedAnswer:r,handleAnswerSelection:c,ans:d,questionNo:u}=e;return(0,B.jsxs)(l.A,{children:[(0,B.jsx)(i.A,{className:"fw-500-14",sx:{mb:1},children:null===t||void 0===t?void 0:t.question_text}),(0,B.jsx)(l.A,{children:o.map(((e,a)=>{var n;return(0,B.jsx)(Ya,{choice:e,index:a,onChange:e=>c(a+1,t.id),type:s,selectedAnswer:r,correct:(null===(n=d[u])||void 0===n?void 0:n.ans)-1===a},a)}))})]})},Ga=()=>{var e;const t=new URLSearchParams(window.location.search).get("key1"),a=(0,I.zy)(),[n,s]=((0,I.Zp)(),a.state,(0,v.useState)([])),[o,r]=(0,v.useState)(),[c,d]=(0,v.useState)(0),[u,h]=(0,v.useState)(!1),[p,m]=(0,v.useState)("testDetail"),[x,A]=(0,v.useState)(0),[y,w]=(0,v.useState)({name:"",metadata:{}}),{get_Test:g,updateTest:j,result:f}=Pa(),[S,C]=(0,v.useState)([]),[b,N]=(0,v.useState)(0),[E,k]=(0,v.useState)([]),[T,_]=(0,v.useState)(null),[D,R]=(0,v.useState)([]),[P,O]=(0,v.useState)(),[U,L]=(0,v.useState)([]);(0,v.useEffect)((()=>{H()}),[]);const H=async()=>{r("fetch");const[e,a]=await g(t);O(e);const n=e.questions_list.map((e=>({question:e.id,ans:""})));k((e=>[...e,...n]));const s=E.map((e=>({[e.question]:0})));L((e=>[...e,...s])),d(a),r(!1)};function z(e){"pre"===e&&b>=1&&N((e=>e-1)),"next"===e&&b+1<P.questions_list.length&&N((e=>e+1))}function F(){window.opener=null,window.open("","_self"),window.close()}return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsx)(l.A,{sx:{flexDirection:"row",alignItems:"center"},children:(0,B.jsx)("h1",{className:"mt-4",children:"Test"})})}),"start"===p&&(0,B.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between",p:1},children:[(0,B.jsxs)(l.A,{sx:{width:"78%"},children:[(0,B.jsx)(Fa,{activeQuestion:b+1,totalQuestions:P.questions_list.length,setModalOpen:m,testData:P}),(0,B.jsx)(Ba,{question:P.questions_list[b],choices:null===(e=P.questions_list[b])||void 0===e?void 0:e.question_options,type:"MAQs",handleAnswerSelection:(e,a)=>{!async function(e,a){let n=localStorage.getItem("time"),s={answers:{[a]:e},remaining_time_in_seconds:n};if(await j(t,s),n<=1){m("timeUps");let e={completed:!0,remaining_time_in_seconds:0};await j(t,e);await f(t);setTimeout((()=>{F()}),2e3)}}(e,a),k((t=>{const n=t.findIndex((e=>e.question===a));if(-1!==n){const s=[...t];return s[n]={question:a,ans:e},s}return[...t,{question:a,ans:e}]}))},ans:E,questionNo:b}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",justifyContent:"space-between",mt:3},children:[(0,B.jsx)(Z.A,{onClick:()=>z("pre"),children:"Previous"}),b===P.questions_list.length-1?(0,B.jsx)(Z.A,{onClick:()=>async function(e){localStorage.setItem("time",0),await j(t,{completed:!0}),await f(t),m("timeUps"),setTimeout((()=>{F()}),3e3)}(),children:"Submit"}):(0,B.jsx)(Z.A,{onClick:()=>z("next"),children:"Next"})]})]}),(0,B.jsxs)(l.A,{sx:{width:"18%",boxShadow:3,p:1,py:2,borderRadius:2,justifyContent:"space-between"},children:[(0,B.jsx)(oe.Ay,{display:"grid",gap:1,gridTemplateColumns:{sm:"repeat(5, 1fr)",xs:"repeat(5, 1fr)"},children:E.map(((e,t)=>(0,B.jsx)(l.A,{sx:{backgroundColor:e.ans?"#86D56A":"#3E3E3E",justifyContent:"center",alignItems:"center",borderRadius:1,width:22,height:22,cursor:"pointer"},onClick:()=>N(t),children:(0,B.jsx)(i.A,{style:{fontSize:"12px",fontWeight:"bold"},sx:{color:e.ans?"black":"white",textAlign:"center"},children:t+1})},t)))}),(0,B.jsxs)(l.A,{sx:{},children:[(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:1},children:[(0,B.jsx)(l.A,{sx:{backgroundColor:"#86D56A",justifyContent:"center",alignItems:"center",borderRadius:1,width:22,height:22}}),(0,B.jsx)(i.A,{sx:{mb:1,fontWeight:"bold"},children:"Answered"})]}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:1},children:[(0,B.jsx)(l.A,{sx:{backgroundColor:"#3E3E3E",justifyContent:"center",alignItems:"center",borderRadius:1,width:22,height:22}}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"Not Answered"})]})]})]})]}),"testDetail"===p&&(0,B.jsx)(Ua,{testData:P,setModalOpen:m,onStart:async()=>{await j(t,{started:!0})}}),(0,B.jsx)(Ha,{open:"timeUps"===p,onClose:()=>m(!1)}),(0,B.jsx)(Se,{onClose:()=>m(!1),open:"csvUser"===p,onSubmit:function(){const e=[];D.slice(1).forEach((t=>{const a=t[0],n=t[t.length-1],s=new Set;t.slice(1).forEach((e=>{""!==e&&s.add(e)}));const l={question:a,choices:Array.from(s),answer:n};e.push(l),console.log("Processed object",l)})),console.log("All results",e)},file:T,setFile:_,setCsvData:R})]})};var qa=a(728);const Wa=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:r,loading:c,tab:d,skills:u}=e;const[h,p]=(0,v.useState)(new Map),[m,x]=(0,v.useState)(0),[A,y]=(0,v.useState)([]),[w,g]=(0,v.useState)([]),[j,f]=(0,v.useState)([]),{question_list:S,skill_question_list:C,induction_question:b,hr_question:N,create:E,update:k,remove:I}=Pa(),[T,_]=(0,v.useState)({skill:""}),[D,R]=(0,v.useState)([]),[P,O]=(0,v.useState)({}),[U,L]=(0,v.useState)([]),[H,z]=(0,v.useState)([]),[F,M]=(0,v.useState)("");(0,v.useEffect)((()=>{""===T.skill&&""===T.skill||Q()}),[T.skill]),(0,v.useEffect)((()=>{q(),W()}),[]);const Q=async()=>{const[e,t]=await C(1,T.skill?T.skill:n.skill);!function(e){y([]);const t=e.filter((e=>!0===e.compulsory)),a=e.filter((e=>!1===e.compulsory));console.log("compulsoryList",t.length,"List",a.length),y((e=>[...e,...a])),g((e=>[...e,...t]))}(e)},q=async()=>{const[e,t]=await b();z(e)},W=async()=>{const[e,t]=await N();L(e)};const V=[{title:"Question Type",placeholder:"Select",type:Y.wN.SELECT,name:"tranning",validator:Y.wY.REQUIRED,keyValues:[{value:"Induction",key:"Induction"},{value:"Skill",key:"Skill"},{value:"HR",key:"HR"}]},"Skill"===T.tranning&&{title:"Skill",placeholder:"Select Skill",type:Y.wN.SELECT,name:"skill",validator:Y.wY.REQUIRED,keyValues:u}],J=[{id:122,title:"",render:e=>(0,B.jsx)(Oa.A,{children:(0,B.jsx)(wt.A,{control:(0,B.jsx)(oa.A,{defaultChecked:e.checked,onChange:t=>((e,t)=>{const a=P[F].findIndex((e=>e.id===t));console.log("index of sel",a),O((t=>({...t,[F]:t[F].map(((t,n)=>n===a?{...t,checked:e}:t))}))),f((a=>e?[...a,t]:a.filter((e=>e!==t))))})(t.target.checked,e.id)})})},e.id)},{id:1,title:"Question",render:e=>e.question_text},{id:2,title:"Compulsory",render:e=>!0===e.compulsory?"Yes":"No"},{id:3,title:"Question Level",render:e=>e.skill_level||"-"}];return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"Add Questions"}),(0,B.jsx)(l.A,{sx:{gap:1,width:"60%"},children:(0,B.jsx)(se.A,{data:T,errors:h,onChange:async e=>{const{name:t,value:a}=e.target;if("skill"===t&&"Skill"!==t&&"Skill"!==a){let e=u.filter((e=>a===e.key))[0].value;M(e);const[t,n]=await C(1,a),s=t.map((e=>({...e,checked:e.compulsory})));R((t=>t.includes(e)?t:[...t,e])),O((t=>t.hasOwnProperty(e)?t:{...t,[e]:s}))}if("skill"!==t&&"Skill"!==t&&"Skill"!==a){const e=("Induction"===a?H:U).map((e=>({...e,checked:e.compulsory})));console.log("value question",a),M(a),O((t=>t.hasOwnProperty(a)?t:{...t,[a]:e})),R((e=>e.includes(a)?e:[...e,a]))}_((e=>({...T,[t]:a}))),console.log("name or value------\x3e",P)},schema:V})}),(0,B.jsx)(l.A,{sx:{flexDirection:"row",gap:2,mt:2,border:1,borderColor:Y.lm.LIGHT_GRAY,borderTopLeftRadius:5,borderTopRightRadius:5,width:"fit-content"},children:D.map(((e,t)=>(0,B.jsxs)(l.A,{sx:{p:.5,flexDirection:"row",gap:1,borderRight:1,borderColor:Y.lm.LIGHT_GRAY},children:[(0,B.jsx)(i.A,{onClick:()=>{M(e)},sx:{fontSize:14,color:F===e?"black":Y.lm.GRAY},children:e}),(0,B.jsx)(o.A,{sx:{height:14,width:14,cursor:"pointer"},onClick:()=>(e=>{R((t=>t.filter((t=>t!==e))));const{[e]:t,...a}=P;O(a)})(e),children:(0,B.jsx)(qa.A,{color:F===e?"black":Y.lm.LG_GRAY,fontSize:"small"})})]})))}),(0,B.jsx)(l.A,{sx:{},children:(0,B.jsx)(G,{columns:J,rows:D.length>0?P[F]:[],rowsPerPage:10,loading:"fetch"===c,titleCellClasses:"c-gray fw-700"})}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:()=>{0===m?(p(new Map),s({}),x(0),a()):x((e=>e-1))},children:"Back"}),(0,B.jsx)(Z.A,{onClick:async()=>{let e=D.map((e=>P[e].filter((e=>!0===e.checked)))).flat();await r(e)},loading:c,children:1===m?"Create":"Next"})]})]})},Va=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,tab:r,setSelectedQuestions:c,skills:d,users:u,testList:h}=e;const[p,m]=(0,v.useState)(new Map),[x,A]=(0,v.useState)(0),[y,w]=(0,v.useState)([]),g=[{title:"Admins",placeholder:"Select Admins",type:Y.wN.SELECT,name:"admins",validator:Y.wY.REQUIRED,keyValues:u,multi:!0,height:"auto"}];return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"Assign Admins"}),(0,B.jsx)(se.A,{data:n,errors:p,onChange:e=>{const{name:t,value:a}=e.target;m((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:g}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:async()=>{if(0!==x);else{const e=(0,le.bG)(g,n);if(m(e),e.size)return;await i()}},loading:o,children:"Next"})]})]})},Ja=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,tab:r,setSelectedQuestions:c,skills:d,users:u,testList:h}=e;const[p,m]=(0,v.useState)(new Map),[x,A]=(0,v.useState)(0),[y,w]=(0,v.useState)([]),g=[{title:"Test Type",placeholder:"Select",type:Y.wN.SELECT,name:"tranning_type",validator:Y.wY.REQUIRED,keyValues:[{value:"Induction Training",key:"Induction Training"},{value:"Skill Test",key:"Skill Test"},{value:"Tranning Test",key:"Tranning Test"}]},"Skill Test"===n.tranning_type&&{title:"Skill",placeholder:"Select Skill",type:Y.wN.SELECT,name:"skill",validator:Y.wY.REQUIRED,keyValues:d},"Skill Test"===n.tranning_type&&{title:"Test Level",placeholder:"Select Test Level",type:Y.wN.SELECT,name:"level",validator:Y.wY.REQUIRED,keyValues:[{value:"Level 1",key:1},{value:"Level 2",key:2},{value:"Level 3",key:3}]},{title:"Test Name",placeholder:"Select Test Level",type:Y.wN.INPUT,name:"testname",validator:Y.wY.REQUIRED},{title:"Max Question",placeholder:"enter number of question",type:Y.wN.INPUT,inputType:"number",name:"totalQuestion",validator:Y.wY.REQUIRED},"Skill Test"!==n.tranning_type&&{title:"Passing Criteria",placeholder:"enter passing criteria",type:Y.wN.INPUT,name:"passing_criteria",inputType:"number",validator:Y.wY.REQUIRED},{title:"Time (in min)",placeholder:"enter time in min",type:Y.wN.INPUT,name:"time",inputType:"number",validator:Y.wY.REQUIRED}];return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"Create Test"}),(0,B.jsx)(se.A,{data:n,errors:p,onChange:e=>{const{name:t,value:a}=e.target;m((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:g}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:async()=>{if(0!==x);else{const e=(0,le.bG)(g,n);if(m(e),e.size)return;await i()}},loading:o,children:"Next"})]})]})},Xa=()=>{const e=(0,I.zy)(),t=((0,I.Zp)(),e.state),[a,n]=(0,v.useState)([]),[s,r]=(0,v.useState)(),[c,d]=(0,v.useState)(0),[u,h]=(0,v.useState)(!1),[p,m]=(0,v.useState)("testDetail"),[x,A]=(0,v.useState)(0),[y,w]=(0,v.useState)({name:"",tranning_type:"",metadata:{},skill:""}),{question_list:g,skill_list:j,test_list:f,assignExam:S,createTest:C,update:b,linkPlanTestMaster:N,addQuestion:E}=Pa(),{list:k}=ne(),[T,_]=(0,v.useState)(new Map),[D,R]=(0,v.useState)([]),[P,O]=(0,v.useState)([]),[U,L]=(0,v.useState)([]),[H,z]=(0,v.useState)(""),F=[{id:1,title:"Test Name",render:e=>e.test_name},{id:2,title:"Test Type",render:e=>e.test_type},{id:3,title:"Skill",render:e=>e.skill},{id:4,title:"Skill Level",render:e=>e.skill_level},{id:5,title:"Maximum Questions",render:e=>e.maximum_questions},{id:6,title:"Questions in Test",render:e=>e.questions_master.length},{id:7,title:"Alloted Minutes",render:e=>e.alloted_minutes},{id:8,title:"Admins",render:e=>(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:1},children:[(0,B.jsx)(l.A,{sx:{flexDirection:"column"},children:e.admin.map((e=>(0,B.jsx)(i.A,{sx:{textTransform:"capitalize"},children:e})))}),(0,B.jsx)(be.A,{title:"add admins",children:(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{z(e.id),m("addAssign")},children:(0,B.jsx)(ke.A,{color:"primary",fontSize:"small"})})})]})})}];(0,v.useEffect)((()=>{console.log("planData----",t),m(!!t&&"createTest"),Y(),M(),Q()}),[]);const M=async()=>{const[e,t]=await f();L(e)},Q=async()=>{const[e,t]=await k(x+1),a=e.filter((e=>!e.is_operator)).map((e=>({value:e.username,key:e.id})));n((e=>[...e,...a]))},Y=async()=>{r("fetch");const[e]=await j(x+1),t=e.results.map((e=>({value:e.skill_name,key:e.id})));O((e=>[...e,...t])),r(!1)};return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsx)(l.A,{sx:{flexDirection:"row",alignItems:"center"},children:(0,B.jsx)("h1",{className:"mt-4",children:"Test Master"})}),(0,B.jsx)(l.A,{sx:{flexDirection:"row",gap:1},children:(0,B.jsx)(Z.A,{onClick:()=>m("createTest"),children:"Create Test"})})]}),(0,B.jsx)(G,{columns:F,rows:U,rowsPerPage:10,loading:"fetch"===s,titleCellClasses:"c-gray fw-700",page:x,setPage:A,paginator:!0,serialize:!0,total:c}),(0,B.jsx)(Ja,{open:"createTest"===p,onClose:()=>{m(!1)},onSubmit:async()=>{const e={test_name:y.testname,test_type:y.tranning_type,skill:y.skill,skill_level:parseInt(y.level),maximum_questions:parseInt(y.totalQuestion),alloted_minutes:parseInt(y.time)},t={test_name:y.testname,test_type:y.tranning_type,maximum_questions:parseInt(y.totalQuestion),passing_criteria:y.passing_criteria,alloted_minutes:parseInt(y.time)},a=await C("Skill Test"!==y.tranning_type?t:e);a.id&&(z(a.id),m("addQues"))},skills:P,data:y,setData:w}),(0,B.jsx)(Wa,{open:"addQues"===p,onClose:()=>{m(!1)},onSubmit:async e=>{const a=e.map((e=>e.id)),n={questions:a};await E(H,n),t&&await N(t.id,{test_master:H,training_admin:t.training_admin,trainees:t.trainees}),w({}),m(!1),await M()},selectQuestions:D,setSelectedQuestions:R,skills:P,data:y,setData:w}),(0,B.jsx)(Va,{open:"addAssign"===p,onClose:()=>{m(!1)},onSubmit:async()=>{const e={admin:y.admins};await E(H,e),m(!1),w({}),await M()},users:a,testList:U,data:y,setData:w})]})},Za=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:o,loading:r,tab:c,edit:d,selectSkill:u}=e;const h=[!0!==d&&{title:"Skill Name",placeholder:"Enter SkillName",type:Y.wN.INPUT,name:"skill_name",validator:Y.wY.REQUIRED}],[p,m]=(0,v.useState)(new Map),[x,A]=(0,v.useState)(0);console.log("selectSkill",u);return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(600px,90vw)",children:[(0,B.jsxs)("h3",{className:"opacity-80",children:[!0===d?"Edit":"Add"," Skill"]}),d&&(0,B.jsx)("h3",{className:"opacity-80",children:n.skill_name}),(0,B.jsx)(se.A,{data:n,errors:p,onChange:e=>{const{name:t,value:a}=e.target;m((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:h}),0===x&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(l.A,{sx:{},children:[(0,B.jsx)(i.A,{sx:{mt:1,fontWeight:"bold"},children:"Level 1"}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",mt:-1},children:[(0,B.jsx)(Q.A,{type:"number",title:"Duration",value:n.l1_duration,placeholder:"in days",width:"90%",onChange:e=>s((t=>({...t,l1_duration:e.target.value})))}),(0,B.jsx)(Q.A,{type:"number",title:"Exam Passing Criteria",value:n.l1_exam,placeholder:"Exam Passing Criteria",width:"90%",onChange:e=>s((t=>({...t,l1_exam:e.target.value})))}),(0,B.jsx)(Q.A,{type:"number",title:"Floor Work Criteria",value:n.l1_floor,placeholder:"Floor Work Criteria",width:"90%",onChange:e=>s((t=>({...t,l1_floor:e.target.value})))}),(0,B.jsx)(Q.A,{type:"number",title:"No of Entry",value:n.l1_performance,placeholder:"No of Entry",width:"90%",onChange:e=>s((t=>({...t,l1_performance:e.target.value})))})]})]}),(0,B.jsxs)(l.A,{sx:{},children:[(0,B.jsx)(i.A,{sx:{mt:1,fontWeight:"bold"},children:"Level 2"}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",mt:-1},children:[(0,B.jsx)(Q.A,{type:"number",title:"Duration",placeholder:"in days",width:"90%",value:n.l2_duration,onChange:e=>s((t=>({...t,l2_duration:e.target.value})))}),(0,B.jsx)(Q.A,{type:"number",title:"Exam Passing Criteria",placeholder:"Exam Passing Criteria",width:"90%",value:n.l2_exam,onChange:e=>s((t=>({...t,l2_exam:e.target.value})))}),(0,B.jsx)(Q.A,{type:"number",title:"Floor Work Criteria",placeholder:"Floor Work Criteria",width:"90%",value:n.l2_floor,onChange:e=>s((t=>({...t,l2_floor:e.target.value})))}),(0,B.jsx)(Q.A,{type:"number",title:"No of Entry",value:n.l2_performance,placeholder:"No of Entry",width:"90%",onChange:e=>s((t=>({...t,l2_performance:e.target.value})))})]})]}),(0,B.jsxs)(l.A,{sx:{},children:[(0,B.jsx)(i.A,{sx:{mt:1,fontWeight:"bold"},children:"Level 3"}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",mt:-1},children:[(0,B.jsx)(Q.A,{type:"number",title:"Duration",placeholder:"in days",width:"90%",value:n.l3_duration,onChange:e=>s((t=>({...t,l3_duration:e.target.value})))}),(0,B.jsx)(Q.A,{type:"number",title:"Exam Passing Criteria",placeholder:"Exam Passing Criteria",width:"90%",value:n.l3_exam,onChange:e=>s((t=>({...t,l3_exam:e.target.value})))}),(0,B.jsx)(Q.A,{type:"number",title:"Floor Work Criteria",placeholder:"Floor Work Criteria",width:"90%",value:n.l3_floor,onChange:e=>s((t=>({...t,l3_floor:e.target.value})))}),(0,B.jsx)(Q.A,{type:"number",title:"No of Entry",value:n.l3_performance,placeholder:"No of Entry",width:"90%",onChange:e=>s((t=>({...t,l3_performance:e.target.value})))})]})]})]}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:async()=>{if(0===x){const e=(0,le.bG)(h,n);if(m(e),e.size)return;return await o(),void a()}},loading:r,children:"Next"})]})]})},Ka=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:o,loading:r,tab:c}=e;return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"ADD REPORT"}),(0,B.jsxs)(oe.Ay,{display:"grid",sx:{pt:1,gap:1},gridTemplateColumns:{sm:"repeat(4, 1fr)",xs:"repeat(4, 1fr)"},children:[(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"S no"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"Item Name"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"Plan"}),(0,B.jsx)(i.A,{sx:{fontWeight:"bold"},children:"Actual"}),[{itemName:"item 1",plan:1e3},{itemName:"item 2",plan:800},{itemName:"item 3",plan:1e3}].map(((e,t)=>(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(i.A,{children:t+1}),(0,B.jsx)(i.A,{sx:{textTransform:"capitalize"},children:e.itemName}),(0,B.jsx)(i.A,{children:e.plan}),(0,B.jsx)("input",{type:"text"})]})))]}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:o,loading:r,children:"Create"})]})]})},$a=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,user:r}=e;const[c,d]=(0,v.useState)(new Map),u=[{title:"Supervisor",placeholder:"Select Supervisor",type:Y.wN.SELECT,name:"supervisor",multi:!0,height:"auto",keyValues:r}];return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"ADD SUPERVISOR"}),(0,B.jsx)(se.A,{data:n,errors:c,onChange:e=>{const{name:t,value:a}=e.target;d((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:u}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:i,loading:o,children:"Create"})]})]})},en=()=>{const[e,t]=(0,v.useState)("Users"),[a,n]=(0,v.useState)([]),[s,r]=(0,v.useState)([]),[c,d]=(0,v.useState)(),[u,h]=(0,v.useState)(0),[p,m]=(0,v.useState)(!1),[x,A]=(0,v.useState)([]),[y,w]=(0,v.useState)(0),[g,j]=(0,v.useState)(null),[f,S]=(0,v.useState)({}),{list:C,create:b,updateSkill:N,update:E,addSupervisor:k,remove:I,opratorList:T,createOperator:_,removeOperator:D,updateOperator:R}=_e(),[P,O]=(0,v.useState)(!1),[U,L]=(0,v.useState)(""),{list:H}=ne(),[z,F]=(0,v.useState)();(0,v.useEffect)((()=>{Q()}),[y,e]),(0,v.useEffect)((()=>{M()}),[]);const M=async()=>{d("fetch");const[e,t]=await H(y+1),a=e.filter((e=>!e.is_operator)).map((e=>({value:e.username,key:e.id})));n((e=>[...e,...a]))},Q=async()=>{d("fetch");const[e,t]=await C(y+1);r(e.results),h(t),d(!1)},Y=async()=>{const e={skill_name:f.skill_name,test_performance_criteria:[f.l1_exam,f.l2_exam,f.l3_exam],duration_between_two_tests:[f.l1_duration,f.l2_duration,f.l3_duration],floor_performance_criteria:[parseInt(f.l1_floor),parseInt(f.l2_floor),parseInt(f.l3_floor)],no_of_performance_entries:[parseInt(f.l1_performance),parseInt(f.l2_performance),parseInt(f.l3_performance)]};d("fetch");await N(e,U);await Q(),d(!1)};const q=[{id:1,title:"Skill Name",render:e=>e.skill_name},{id:112,title:"No. of Enteries",render:e=>e.no_of_performance_entries.length},{id:6,title:"Actions",render:e=>(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(l.A,{flexDirection:"row",sx:{gap:1},children:[(0,B.jsxs)(be.A,{title:"add supervisor",children:[" ",(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{O(!0),m("addSuper"),L(e.id)},children:(0,B.jsx)(ke.A,{color:"primary",fontSize:"small"})})]}),(0,B.jsx)(be.A,{title:"edit skill",children:(0,B.jsx)(o.A,{sx:{height:25,width:25},onClick:()=>{O(!0),m("add"),F(e),S({...f,skill_name:e.skill_name,l1_duration:e.duration_between_two_tests[0],l2_duration:e.duration_between_two_tests[1],l3_duration:e.duration_between_two_tests[2],l1_exam:e.test_performance_criteria[0],l2_exam:e.test_performance_criteria[1],l3_exam:e.test_performance_criteria[2],l1_floor:e.floor_performance_criteria[0],l2_floor:e.floor_performance_criteria[1],l3_floor:e.floor_performance_criteria[2],l1_performance:e.no_of_performance_entries[0],l2_performance:e.no_of_performance_entries[1],l3_performance:e.no_of_performance_entries[2]}),L(e.id)},children:(0,B.jsx)(te.A,{color:"primary",fontSize:"small"})})})]})})}];return(0,B.jsxs)("div",{className:"mx-3 my-2 fw-500",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)(i.A,{className:"mt-2 fw-500",children:["Skill's List",(0,B.jsxs)("span",{className:"fw-500 ml-1 ",children:["(",s.length,")"]})]}),(0,B.jsx)(l.A,{justifyContent:"flex-end",direction:"row",sx:{mb:1},children:(0,B.jsx)(Z.A,{onClick:()=>{m("add"),S({})},children:"Add New Skill"})})]}),(0,B.jsx)(G,{columns:q,rows:s,rowsPerPage:10,loading:"fetch"===c,titleCellClasses:"c-gray fw-700",page:y,setPage:w,paginator:!0,serialize:!0,total:u}),(0,B.jsx)(Za,{selectSkill:z,open:"add"===p,onClose:()=>{m(!1),O(!1)},data:f,setData:S,onSubmit:Y,loading:"add"===c,edit:P}),(0,B.jsx)($a,{open:"addSuper"===p,onClose:()=>{m(!1),O(!1)},data:f,setData:S,onSubmit:async function(){const e={add:{...f}.supervisor};await k(U,e),m(!1),await Q()},loading:"add"===c,user:a}),(0,B.jsx)(Ka,{open:"Report"===p,onClose:()=>m(!1),onSubmit:Y}),(0,B.jsx)(Se,{onClose:()=>m(!1),open:"csvUser"===p,onSubmit:async()=>{x.map((async t=>{if("Users"===e){if(""===t.email)return;await b(t)}else{if(""===t.employee_id)return;await _(t)}})),m(!1),await Q(y=1)},file:g,setFile:j,setCsvData:A,tab:e})]})};var tn=a(7332);const an=()=>{const e=(0,I.zy)(),[t,a]=((0,I.Zp)(),e.state,(0,v.useState)("List")),[n,s]=(0,v.useState)([]),[i,o]=(0,v.useState)(),[r,c]=(0,v.useState)(0),[d,u]=(0,v.useState)(!1),[h,p]=(0,v.useState)("testDetail"),[m,x]=(0,v.useState)(0),[A,y]=(0,v.useState)({name:"",metadata:{}}),{question_list:w,skill_list:g,create:j,update:f,remove:S}=Pa(),[C,b]=(0,v.useState)(null),[N,E]=(0,v.useState)([]),[k,_]=(0,v.useState)(new Map),[D,R]=(0,v.useState)([]);(0,v.useEffect)((()=>{O()}),[]),(0,v.useEffect)((()=>{P()}),[t]);const P=async()=>{o("fetch");const[e,t]=await w(m+1);R(e),c(t),o(!1)},O=async()=>{o("fetch");const[e]=await g(m+1),t=e.results.map((e=>({value:e.skill_name,key:e.id})));s((e=>[...e,...t])),o(!1)},U=[{title:"Test Type",placeholder:"Select",type:Y.wN.SELECT,name:"tranning_type",validator:Y.wY.REQUIRED,keyValues:[{value:"Induction Training",key:"Induction Training"},{value:"Skill Test",key:"Skill Test"},{value:"Tranning Test",key:"Tranning Test"}]},"Skill Test"===A.tranning_type&&{title:"Skill",placeholder:"Select Skill",type:Y.wN.SELECT,name:"skill",validator:Y.wY.REQUIRED,keyValues:n},"Skill Test"===A.tranning_type&&{title:"Tranning Level",placeholder:"Select Test Level",type:Y.wN.SELECT,name:"level",validator:Y.wY.REQUIRED,keyValues:[{value:"Level 1",key:1},{value:"Level 2",key:2},{value:"Level 3",key:3}]}],L=[{id:1,title:"Question",render:e=>e.question_text},{id:2,title:"Skill",render:e=>e.skill},{id:3,title:"Skill Level",render:e=>e.skill_level?"Level "+e.skill_level:"-"},{id:33,title:"Induction Question",render:e=>!0===e.induction_question?"True":"False"},{id:4,title:"Compulsory",render:e=>!0===e.compulsory?"True":"False"},{id:55,title:"Status",render:e=>(0,B.jsx)(tn.A,{color:!0===e.status?"success":"error"})}];return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsx)(l.A,{sx:{flexDirection:"row",alignItems:"center"},children:(0,B.jsx)("h1",{className:"mt-4",children:"Question Bank"})})}),(0,B.jsx)(ce.A,{value:t,onChange:(e,t)=>{a(t),x(0)},className:"mb-2 fw-500",children:["List","Upload"].map(((e,t)=>(0,B.jsx)(de.A,{label:e,className:"fw-500",value:e},t)))}),"Upload"===t&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(se.A,{data:A,errors:k,onChange:e=>{const{name:t,value:a}=e.target;_((e=>(e.delete(t),e))),y((e=>({...e,[t]:a})))},schema:U}),(0,B.jsx)(l.A,{sx:{mt:2,flexDirection:"row",justifyContent:"flex-end"},children:(0,B.jsx)(Z.A,{bordered:!0,onClick:()=>p("csvUser"),children:"upload CSV file"})})]}),"List"===t&&(0,B.jsx)(G,{columns:L,rows:D,rowsPerPage:10,loading:"fetch"===i,titleCellClasses:"c-gray fw-700",page:m,setPage:x,serialize:!0,total:r}),(0,B.jsx)(Se,{tab:"question",onClose:()=>p(!1),open:"csvUser"===h,onSubmit:async function(){o("fetch"),N.slice(1).forEach((async e=>{const t=e[0],a=e[1],n=e[e.length-1],s=new Set;e.slice(2).forEach((e=>{""!==e&&s.add(e)}));const l=Array.from(s);l.pop();const i={compulsory:"TRUE"===t,question_text:a,question_options:l,correct_answer:parseInt(n),skill:A.skill,skill_level:A.level,induction_question:"Induction Training"===A.tranning_type};await j(i)})),p(!1),o(!1),T.oR.success("Question are uploaded in question bank."),await P(),a("List")},file:C,setFile:b,setCsvData:E})]})};function nn(e){let{title:t,chartColors:a,chart:n,...s}=e;const{series:i,options:o}=n,r=i.map((e=>e.value)),c={chart:{width:200,type:"pie"},dataLabels:{enabled:!1},legend:{show:!1},tooltip:{enabled:!1},colors:a,responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]};return(0,B.jsx)(l.A,{sx:{},dir:"ltr",children:(0,B.jsx)(dt.A,{type:"pie",series:r,options:c})})}const sn=()=>{const{token:e}=(0,y.d4)((e=>e[J.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){let e=arguments.length>1?arguments[1]:void 0;const a=new W.Ay,n=await a.get("training/".concat(e,"/skill-matrix/"),{},t,q.So);return null!==n&&void 0!==n&&n.data?(console.log("res  ",n.data),null===n||void 0===n?void 0:n.data):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;const n=new W.Ay,s=await n.post("".concat(V.H.ASSET,"/").concat(a,"/").concat(V.H.PLANTS,"/"),e,t,(e=>(0,q.So)(e,null,"Plant created successfully!")));return null===s||void 0===s?void 0:s.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new W.Ay,s=await n.put("".concat(V.H.ASSET,"/").concat(V.H.PLANT,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Plant Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{const a=new W.Ay,n=await a.delete("".concat(V.H.ASSET,"/").concat(V.H.PLANT,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Plant deleted successfully!")));return null===n||void 0===n?void 0:n.data},postPerformance:async e=>{const a=new W.Ay,n=await a.post("performance-record/".concat(e.operator,"/"),{skill:e.skill,skill_level:e.skill_level},t,(e=>(0,q.So)(e,null)));return null===n||void 0===n?void 0:n.data},getPerformanceSkill:async e=>{const a=new W.Ay,n=await a.get("training/update-skill/".concat(e.operator,"/"),{},t,(e=>(0,q.So)(e,null)));return null===n||void 0===n?void 0:n.data},performanceRecord:async e=>{const a=new W.Ay,n=await a.post("training/".concat(e.operator,"/performance-record/"),{skill:e.skill,skill_level:e.skill_level},t,(e=>(0,q.So)(e,null)));return null===n||void 0===n?void 0:n.data},putPerformanceRecord:async(e,a)=>{const n=new W.Ay,s=await n.put("training/performance-record/".concat(e,"/"),a,t,(e=>(0,q.So)(e,null,"Performance uploaded.")));return null===s||void 0===s?void 0:s.data},performanceList:async e=>{const a=e.replace(/-/g,""),n=new W.Ay,s=await n.get("training/date-wise-performance-record/".concat(a,"/"),{},t,q.So);return null!==s&&void 0!==s&&s.data?(console.log("res  ",s.data),null===s||void 0===s?void 0:s.data):[[],0]},getPerformanceId:async e=>{const a=new W.Ay,n=await a.get("training/".concat(e.operator,"/performance-record/"),{},t,(e=>(0,q.So)(e,null)));return null===n||void 0===n?void 0:n.data}}},ln=()=>{const e=(0,I.zy)(),[t,a]=((0,I.Zp)(),e.state,(0,v.useState)([])),[n,s]=(0,v.useState)(),[o,r]=(0,v.useState)(0),[c,d]=(0,v.useState)(!1),[u,h]=(0,v.useState)("testDetail"),[p,m]=(0,v.useState)(0),[x,A]=(0,v.useState)({name:"",tranning_type:"",metadata:{},skill:""}),{list:y,question_list:w,test_list:g,assignExam:j,createTest:f,update:S,remove:C,addQuestion:b}=sn(),{list:N}=ne(),{list:E}=_e(),[k,T]=(0,v.useState)(new Map),[P,H]=(0,v.useState)([]),[z,F]=(0,v.useState)([]),[M,G]=(0,v.useState)("");(0,v.useEffect)((()=>{W(),q()}),[]);const q=async()=>{const[e,t]=await N(),a=e.filter((e=>e.is_operator)),n=await Promise.all(a.map((e=>y(p+1,e.id))));P.map((e=>{n.map((t=>{console.log("newOptr----item2",t),e.id===t.id&&console.log("match skill",e.id)}))})),F((e=>[...e,...n]))},W=async()=>{const[e]=await E(p+1);console.log("fetchSkill-----------",e.results),H(e.results)};return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsx)(l.A,{sx:{flexDirection:"row",alignItems:"center"},children:(0,B.jsx)("h1",{className:"mt-4",children:"Skill Matrix"})})}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:2},children:[(0,B.jsxs)(l.A,{sx:{width:120},children:[(0,B.jsx)(nn,{chartColors:["#AA4A44",Y.lm.GRAY,Y.lm.GRAY,Y.lm.GRAY],chart:{series:[{value:25},{value:25},{value:25},{value:25}]}}),(0,B.jsx)(i.A,{sx:{fontSize:12},textAlign:"center",children:"Induction"})]}),(0,B.jsxs)(l.A,{sx:{width:120},children:[(0,B.jsx)(nn,{chartColors:["#AA4A44","#008FFB",Y.lm.GRAY,Y.lm.GRAY],chart:{series:[{value:25},{value:25},{value:25},{value:25}]}}),(0,B.jsx)(i.A,{sx:{fontSize:12},textAlign:"center",children:"Level 1"})]}),(0,B.jsxs)(l.A,{sx:{width:120},children:[(0,B.jsx)(nn,{chartColors:["#AA4A44","#008FFB","#00E396",Y.lm.GRAY],chart:{series:[{value:25},{value:25},{value:25},{value:25}]}}),(0,B.jsx)(i.A,{sx:{fontSize:12},textAlign:"center",children:"Level 2"})]}),(0,B.jsxs)(l.A,{sx:{width:120},children:[(0,B.jsx)(nn,{chartColors:["#AA4A44","#008FFB","#00E396","#775DD0"],chart:{series:[{value:25},{value:25},{value:25},{value:25}]}}),(0,B.jsx)(i.A,{sx:{fontSize:12},textAlign:"center",children:"Level 3"})]})]}),(0,B.jsx)(l.A,{sx:{py:1},children:(0,B.jsx)(Q.A,{placeholder:"Search By Aadhar Number"})}),(0,B.jsx)(O.A,{children:(0,B.jsxs)(_.A,{children:[(0,B.jsx)(U.A,{sx:{backgroundColor:Y.lm.BG_GRAY},children:(0,B.jsxs)(L.A,{children:[(0,B.jsx)(R.A,{className:"c-gray fw-700 text-nowrap h3",sx:{color:"black"},children:"S No."}),(0,B.jsx)(R.A,{className:"c-gray fw-700 text-nowrap h3",sx:{color:"black"},children:"Aadhar"}),P.map((e=>(0,B.jsx)(R.A,{className:"c-gray fw-700 text-nowrap h3",sx:{color:"black",pl:5},children:e.skill_name})))]})}),(0,B.jsx)(l.A,{sx:{p:.2}}),(0,B.jsx)(D.A,{children:z.map(((e,t)=>(0,B.jsx)(V,{row:e,arr:P,index:t})))})]})})]});function V(e){let{row:t,arr:a,index:n}=e;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(l.A,{sx:{p:.3}}),(0,B.jsxs)(L.A,{sx:{backgroundColor:Y.lm.LG_GRAY},children:[(0,B.jsx)(R.A,{className:"c-gray fw-700 text-nowrap h3",sx:{color:"black"},children:n+1}),(0,B.jsx)(R.A,{className:"c-gray fw-700 text-nowrap h3",sx:{color:"black"},children:t.aadhar}),a.map(((e,a)=>{let n=["#AA4A44",Y.lm.GRAY,Y.lm.GRAY,Y.lm.GRAY],s=["#AA4A44","#008FFB",Y.lm.GRAY,Y.lm.GRAY],i=["#AA4A44","#008FFB","#00E396",Y.lm.GRAY],o=[Y.lm.GRAY,Y.lm.GRAY,Y.lm.GRAY,Y.lm.GRAY];return(0,B.jsx)(R.A,{className:"c-gray fw-700 text-nowrap h3",sx:{color:"black",p:0,px:1},children:(0,B.jsx)(l.A,{sx:{width:120},children:(0,B.jsx)(nn,{chartColors:0===t[e.id]?n:1===t[e.id]?s:2===t[e.id]?i:3===t[e.id]?["#AA4A44","#008FFB","#00E396","#775DD0"]:o,chart:{series:[{value:25},{value:25},{value:25},{value:25}]}})})})}))]},t._id)]})}};a(7330);const on=()=>{const e=(0,I.zy)(),[t,a]=((0,I.Zp)(),(0,y.wA)(),e.state,(0,y.d4)((e=>e)),(0,v.useState)([])),[n,s]=(0,v.useState)(),[i,o]=(0,v.useState)(0),[r,c]=(0,v.useState)(!1),[d,u]=(0,v.useState)("testDetail"),[h,p]=(0,v.useState)(0),[m,x]=(0,v.useState)({}),{question_list:A,skill_list:w,test_list:g,assignExam:j,induction_question:f,createTest:S,update:C,remove:b,addQuestion:N,updateTest:E}=Pa(),{list:k,listByAadhar2:T}=ne(),[_,D]=(0,v.useState)(null),[R,P]=(0,v.useState)([]),[O,U]=(0,v.useState)(new Map),[L,H]=(0,v.useState)([]),[z,F]=(0,v.useState)([]),[M,Q]=(0,v.useState)([]),[G,q]=(0,v.useState)([]),W=[{title:"Operator",placeholder:"Select Operator",type:Y.wN.MASTER,name:"operator",validator:Y.wY.REQUIRED,fetch:[T],noSearch:!0},{title:"Test",placeholder:"Select test",type:Y.wN.SELECT,name:"test",validator:Y.wY.REQUIRED,keyValues:G}];(0,v.useEffect)((()=>{J(),X(),V()}),[]);const V=()=>{console.log("listByAadhar---")},J=async()=>{const[e,t]=await g(),a=e.map((e=>({value:"".concat(e.test_name,"_").concat(e.skill,"_").concat(e.skill_level),key:e.id})));q(a)},X=async()=>{const[e,t]=await k(h+1),n=e.filter((e=>e.is_operator)).map((e=>({value:e.username,key:e.id})));a((e=>[...e,...n]))};return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsx)("div",{className:"flex items-center justify-between",children:(0,B.jsx)(l.A,{sx:{flexDirection:"row",alignItems:"center"},children:(0,B.jsx)("h1",{className:"mt-4",children:"Testing Portal"})})}),(0,B.jsx)(oe.Ay,{display:"grid",gap:1,mb:1,gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:(0,B.jsx)(se.A,{data:m,errors:O,onChange:e=>{const{name:t,value:a}=e.target;U((e=>(e.delete(t),e))),x((e=>({...e,[t]:a})))},schema:W})}),(0,B.jsx)(l.A,{sx:{alignItems:"flex-end"},children:(0,B.jsx)(Z.A,{onClick:async()=>{let e=await j(m);console.log("response----",e),e&&await async function(e){localStorage.setItem("draweWidth",0);const t={key1:e.id},a=new URLSearchParams(t).toString(),n="/test?".concat(a);window.open(n,"_blank","rel=noopener noreferrer")}(e),u(!1),x({})},children:"Create"})})]})},rn=()=>{const{token:e}=(0,y.d4)((e=>e[J.X.AUTH])),t={Authorization:"Bearer ".concat(e),"Content-Type":W.yw.APPLICATION_JSON};return{list:async function(){const e=new W.Ay,a=await e.get("".concat(V.H.TRAINING,"/").concat(V.H.TRAININGS,"/"),{},t,q.So);return null!==a&&void 0!==a&&a.data?(console.log("res  ",a.data),[null===a||void 0===a?void 0:a.data]):[[],0]},create:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new W.Ay,n=await a.post("".concat(V.H.TRAINING,"/").concat(V.H.TRAININGS,"/"),e,t,(e=>(0,q.So)(e,null,"Created successfully!")));return null===n||void 0===n?void 0:n.data},update:async e=>{const a={name:e.name,metadata:e.metadata},n=new W.Ay,s=await n.put("".concat(V.H.ASSET,"/").concat(V.H.LINE,"/").concat(e.id,"/"),a,t,(e=>(0,q.So)(e,null,"Line Updated successfully!")));return null===s||void 0===s?void 0:s.data},remove:async e=>{const a=new W.Ay,n=await a.delete("".concat(V.H.ASSET,"/").concat(V.H.LINE,"/").concat(e,"/"),t,(e=>(0,q.So)(e,null,"Line deleted successfully!")));return null===n||void 0===n?void 0:n.data}}},cn=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,loading:o,edit:r,users:c}=e;const{list:d,groupUser:u}=Bt(),[h,p]=(0,v.useState)([]);(0,v.useEffect)((()=>{y()}),[]);const m=[{title:"Training Name",placeholder:"Enter Training Name",type:Y.wN.INPUT,name:"training_name",validator:Y.wY.REQUIRED},{title:"Training Type",placeholder:"Enter Training Type",type:Y.wN.INPUT,name:"training_type",validator:Y.wY.REQUIRED},{title:"Training Description",placeholder:"Enter Training Description",type:Y.wN.INPUT,name:"training_description"},{title:"Trainer",placeholder:"Enter trainer Name",type:Y.wN.INPUT,name:"trainer"},{title:"Training Admin",placeholder:"Enter Training admin",type:Y.wN.SELECT,name:"training_admin",validator:Y.wY.REQUIRED,keyValues:c,multi:!0,height:"auto"},{title:"Groups",placeholder:"Select group",type:Y.wN.SELECT,name:"group",keyValues:h,multi:!0,height:"auto"},{title:"Trainees",placeholder:"Select Trainees",type:Y.wN.SELECT,name:"trainees",keyValues:c,multi:!0,height:"auto"},{title:"Start Date",placeholder:"Select Start Date",type:Y.wN.DATE,name:"start_date",validator:Y.wY.REQUIRED},{title:"End Date",placeholder:"Select End Date",type:Y.wN.DATE,name:"end_date"},{title:"Start Time",placeholder:"Select start Time",type:Y.wN.TIME,name:"start_time",validator:Y.wY.REQUIRED},{title:"End Time",placeholder:"Select End Time",type:Y.wN.TIME,name:"end_time"},{title:"Test Required at End of Training",type:Y.wN.RADIO,name:"test_required",validator:Y.wY.REQUIRED,keyValues:[{value:"yes",label:"Yes"},{value:"no",label:"No"}]},{title:"Feedback at End of Training",type:Y.wN.RADIO,name:"feedback_required",validator:Y.wY.REQUIRED,keyValues:[{value:"yes",label:"Yes"},{value:"no",label:"No"}]},"yes"===n.feedback_required&&{title:"Feedback Link",placeholder:"Enter Feedback Link",type:Y.wN.INPUT,name:"feedback_link",validator:Y.wY.REQUIRED}],[x,A]=(0,v.useState)(new Map),y=async()=>{const[e]=await d();console.log("fetchGroups------\x3e>>>",e);const t=e.map((e=>({value:e.name,key:e.id})));p((e=>[...e,...t]))};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(oe.Ay,{display:"grid",gap:1,sx:{},gridTemplateColumns:{sm:"repeat(2, 1fr)",xs:"repeat(2, 1fr)"},children:(0,B.jsx)(se.A,{data:n,errors:x,onChange:e=>{console.log(e.target);const{name:t,value:a}=e.target;A((e=>(e.delete(t),e))),s((e=>({...e,[t]:a})))},schema:m})}),(0,B.jsx)(l.A,{alignItems:"flex-end",mb:1,children:(0,B.jsx)(Z.A,{onClick:async()=>{const e=(0,le.bG)(m,n);A(e),e.size||await i()},loading:o,children:"Create"})})]})},dn=()=>{const e=(0,I.zy)(),t=(0,I.Zp)(),a=e.state,[n,s]=(0,v.useState)([]),[o,r]=(0,v.useState)([]),[c,d]=(0,v.useState)(),[u,h]=(0,v.useState)(0),[p,m]=(0,v.useState)(!1),[x,A]=(0,v.useState)(!1),[y,w]=(0,v.useState)(0),[g,j]=(0,v.useState)({feedback_required:"no",test_required:"no"}),{list:f,create:S,update:C,remove:b}=rn(),{groupUser:N}=Bt(),{list:E}=ne();(0,v.useEffect)((()=>{T(),k()}),[y]);const k=async()=>{const[e]=await f();r(e)},T=async()=>{const[e,t]=await E(y+1),a=e.map((e=>({value:e.username,key:e.id})));s((e=>[...e,...a]))},_=[{id:1,title:"Training Name",render:e=>(0,B.jsx)(i.A,{color:"primary",sx:{cursor:"pointer"},children:e.training_name})},{id:2,title:"Training Type",render:e=>e.training_type},{id:22,title:"Trainer",render:e=>e.trainer},{id:23,title:"Start Date",render:e=>e.start_date},{id:24,title:"End Date",render:e=>e.end_date},{id:32,title:"Details",render:e=>(0,B.jsx)(Le,{icon:(0,B.jsx)(Pe.A,{fontSize:"small"}),json:null===e||void 0===e?void 0:e.metadata})}];return(0,B.jsxs)("div",{className:"mx-4",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsx)(l.A,{sx:{flexDirection:"row",alignItems:"center"},children:"add"===x?(0,B.jsx)("h1",{className:"",children:"Plan Training"}):(0,B.jsxs)("h1",{className:"",children:["Plan Training",(0,B.jsxs)("span",{className:"fs-30 ml-1 c-gray",children:["(",o.length,")"]})]})}),"add"!==x&&(0,B.jsx)(Z.A,{onClick:()=>A("add"),children:"Add Training"})]}),"add"!==x?(0,B.jsx)(G,{columns:_,rows:o,rowsPerPage:5,loading:"fetch"===c,titleCellClasses:"c-gray fw-700",page:y,setPage:w,paginator:!0,serialize:!0,total:u,trainings:!0}):(0,B.jsx)(cn,{users:n,open:"add"===x,onClose:()=>{A(!1),m(!1)},data:g,edit:p,setData:j,onSubmit:async()=>{var e,n=[];if((null===(e=g.group)||void 0===e?void 0:e.length)>0){n=(await Promise.all(g.group.map((e=>N(e))))).map((e=>e.users.map((e=>e.id)))).flat()}const s={training_name:g.training_name,training_type:g.training_type,training_description:g.training_description,trainer:g.trainer,training_admin:g.training_admin,trainees:[...g.trainees,...n],start_date:g.start_date,end_date:g.end_date,start_time:g.start_time,end_time:g.end_time,feedback_link:g.feedback_link};d("fetch");let l=await S(s,a);console.log("planning createRes----",l),j({}),A(!1),"yes"===g.test_required?t("/test-upload",{state:{id:l.id,training_admin:s.training_admin,trainees:s.trainees}}):await k(),d(!1),m(!1)}})]})},un=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:i,onSubmit2:o,loading:r,setSelectedQuestions:c,skills:d,users:u,testList:h}=e;const[p,m]=(0,v.useState)(new Map),[x,A]=(0,v.useState)(0),{getPerformanceSkill:y,getPerformanceId:w}=sn(),g=[0===x&&{title:"Operators",placeholder:"Select operator",type:Y.wN.SELECT,name:"operator",validator:Y.wY.REQUIRED,keyValues:u},0===x&&{title:"Skill",placeholder:"Select Skill",type:Y.wN.INPUT,name:"skill",disabled:!0},0===x&&{title:"Skill Level",placeholder:"Select skill level",type:Y.wN.INPUT,name:"skill_level",disabled:!0},1===x&&{title:"Date",type:Y.wN.DATE,name:"plan_date",validator:Y.wY.REQUIRED},1===x&&{title:"Plan",placeholder:"",type:Y.wN.INPUT,name:"plan",inputType:"number",validator:Y.wY.REQUIRED},1===x&&{title:"Actual",placeholder:"",type:Y.wN.INPUT,inputType:"number",name:"actual",validator:Y.wY.REQUIRED}];return(0,B.jsxs)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"min(500px,90vw)",children:[(0,B.jsx)("h3",{className:"opacity-80",children:"Add Performance"}),(0,B.jsx)(se.A,{data:n,errors:p,onChange:e=>{const{name:t,value:a}=e.target;m((e=>(e.delete(t),e))),s((e=>({...e,[t]:a}))),"operator"===t&&(console.log("operator id ",a),(async e=>{let t=e,a={operator:e},l=await y(a),i=await w(a);console.log("getPerformanceRecord-----\x3e>>>",i[0].id),l&&(3===l.skill_level?s({...n,skill_level:l.skill_level,skill:l.skill,operator:t,skill_id:i[0].id}):s({...n,skill_level:l.skill_level+1,skill:l.skill,operator:t,skill_id:i[0].id}))})(a))},schema:g}),(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:4,mb:1,children:[(0,B.jsx)(Z.A,{bordered:!0,gray:!0,onClick:a,children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:async()=>{if(0!==x)if(1!==x);else{const e=(0,le.bG)(g,n);if(m(e),e.size)return;await o()}else{const e=(0,le.bG)(g,n);if(m(e),e.size)return;A((e=>e+1))}},loading:r,children:"Next"})]})]})},hn=()=>{const e=(0,I.zy)(),[t,a]=((0,I.Zp)(),e.state,(0,v.useState)([])),[n,s]=(0,v.useState)(),[i,o]=(0,v.useState)(0),[r,c]=(0,v.useState)(!1),[d,u]=(0,v.useState)("testDetail"),[h,p]=(0,v.useState)(0),[m,x]=(0,v.useState)({operator:"",plan_date:(new Date).toISOString().split("T")[0]}),{putPerformanceRecord:A,performanceList:y,createTest:w,update:g,remove:j,performanceRecord:f,getPerformanceRecord:S,postPerformance:C}=sn(),{list:b}=ne(),{list:N}=_e(),[E,k]=(0,v.useState)(new Map),[T,_]=(0,v.useState)([]),[D,R]=(0,v.useState)([]),[P,O]=(0,v.useState)([]),[U,L]=(0,v.useState)([]),[H,z]=(0,v.useState)(""),[F,M]=(0,v.useState)((new Date).toISOString().split("T")[0]);(0,v.useEffect)((()=>{q(),Y()}),[]),(0,v.useEffect)((()=>{Q()}),[F]);const Q=async()=>{const e=await y(F);console.log("res performance list",e.list),O(e.list)},Y=async()=>{const[e,t]=await b(),n=e.filter((e=>e.is_operator)).map((e=>({value:e.username,key:e.id})));a((e=>[...e,...n]))},q=async()=>{const[e]=await N(h+1),t=e.results.map((e=>({value:e.skill_name,key:e.id})));_((e=>[...e,...t]))};return(0,B.jsxs)("div",{className:"mx-3 my-2",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsx)(l.A,{sx:{flexDirection:"row",alignItems:"center"},children:(0,B.jsx)("h1",{className:"mt-4",children:"Performance"})}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:1},children:[(0,B.jsx)(l.A,{children:(0,B.jsx)(mt.A,{value:F,onChange:e=>M(e.target.value)})}),(0,B.jsx)(Z.A,{width:"fit-content",onClick:()=>u("addReport"),children:"Add Performance"})]})]}),(0,B.jsx)(G,{columns:[{id:1,title:"Operator Aadhar",render:e=>e.aadhar_number},{id:13,title:"Skill",render:e=>e.skill},{id:12,title:"Skill Level",render:e=>e.skill_level},{id:2,title:"Plan",render:e=>e.plan},{id:3,title:"Actual",render:e=>e.actual}],rows:P,rowsPerPage:10,loading:"fetch"===n,titleCellClasses:"c-gray fw-700",serialize:!0,total:i}),(0,B.jsx)(un,{open:"addReport"===d,onClose:()=>{u(!1)},users:t,skills:T,testList:D,data:m,setData:x,onSubmit2:async()=>{var e=m.plan_date.replace(/-/g,"");const t={new_entry:{[e]:{plan:m.plan,actual:m.actual}}};await A(m.skill_id,t),x({}),u(!1),x({...m,plan_date:(new Date).toISOString().split("T")[0]}),Q()}})]})};var pn=a(5475),mn=a(8625);const xn={capsule:"capsule_capsule__e9nSK"};function vn(e){let{capsuleText:t}=e;var a;switch(t){case"Plan":default:a="#fa7474";break;case"Processing":a="#ffd6b0";break;case"Running":a="#e9efc5"}return(0,B.jsx)("div",{className:xn.capsule,style:{backgroundColor:a},children:t})}const An=a.p+"static/media/action-icon.7ea474ec817bbcbc0bcf492a497a0fdd.svg";const yn=a.p+"static/media/cross-icon.85e1f4ddd2a1c7249092ed4d0985792a.svg",wn=e=>{let{open:t,onClose:a,data:n,setData:s,onSubmit:l,handleAdd2:i,loading:o,tab:r}=e;const c=Object.entries(n).filter((e=>{let[t]=e;return"id"!==t}));return(0,B.jsx)(K.A,{open:t,onClose:a,wrapperClasses:"px-5 pt-0 pb-4",width:"81vw",hideCloseIcon:yn,children:(0,B.jsxs)("div",{className:"orderDetailsContainer",children:[" ",(0,B.jsxs)("div",{className:"leftPart",children:[" ",(0,B.jsxs)("ul",{className:"orderDetailKeyList",children:[" ",c.map((e=>{let[t]=e;return(0,B.jsx)("li",{children:(a=t,a.charAt(0).toUpperCase()+a.slice(1))},t);var a}))," "]})," "]})," ",(0,B.jsxs)("div",{className:"rightPart",children:[" ",(0,B.jsxs)("ul",{className:"orderDetailValueList",children:[" ",c.map((e=>{let[t,a]=e;return(0,B.jsx)("li",{children:a},t)}))," "]})," "]})," "]})})},gn=e=>{let{setLocalUI:t,data:a={orderId:"SYU567623711222"},noStepFn:n=(()=>{}),nextStepFn:s=(()=>{})}=e;return(0,B.jsxs)("div",{className:"action_modal__container",children:[(0,B.jsx)("div",{children:(0,B.jsx)(La.A,{sx:{fontSize:"6rem",color:"#86D56A"}})}),(0,B.jsxs)("p",{children:["Material Planning for Order Id ",(0,B.jsx)("strong",{children:null===a||void 0===a?void 0:a.orderId})," is successfully done."]}),(0,B.jsxs)("p",{children:["Order Id ",(0,B.jsx)("strong",{children:null===a||void 0===a?void 0:a.orderId})," is in Processing Stage now."]}),(0,B.jsxs)("p",{children:["Do you want to move it to ",(0,B.jsx)("em",{children:"Running Stage"}),"?"]}),(0,B.jsxs)("div",{className:"material-planner-layout-footer",style:{gap:"2.5rem"},children:[(0,B.jsx)(Z.A,{onClick:n,white:!0,width:"8rem",height:"2.5rem",bordered:!0,customStyle:{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"},children:"No"}),(0,B.jsx)(Z.A,{onClick:s,color:"green",width:"8rem",height:"2.5rem",children:"Yes"})]})]})},jn=e=>{let{setLocalUI:t,data:a={orderId:"SYU567623711222"},noStepFn:n=(()=>{}),nextStepFn:s=(()=>{})}=e;return(0,B.jsxs)("div",{className:"action_modal__container",children:[(0,B.jsx)("div",{children:(0,B.jsx)(La.A,{sx:{fontSize:"6rem",color:"#86D56A"}})}),(0,B.jsx)("p",{children:"Do you want to Edit or Run"}),(0,B.jsxs)("span",{children:["Order Id ",(0,B.jsx)("strong",{children:null===a||void 0===a?void 0:a.orderId})]}),(0,B.jsx)("br",{}),(0,B.jsxs)("div",{className:"material-planner-layout-footer",style:{gap:"2.5rem"},children:[(0,B.jsx)(Z.A,{onClick:n,white:!0,width:"8rem",height:"2.5rem",bordered:!0,customStyle:{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"},children:"Edit"}),(0,B.jsx)(Z.A,{onClick:s,color:"green",width:"8rem",height:"2.5rem",children:"Run"})]})]})},fn=()=>{const[e,t]=(0,v.useState)(!1),[a,n]=(0,v.useState)(null),{token:s}=(0,y.d4)((e=>e[J.X.AUTH])),l={Authorization:"Bearer ".concat(s),"Content-Type":W.yw.APPLICATION_JSON},i=new W.Ay,o=(0,v.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const s="".concat(V.H.ORDERS,"/all/?page=").concat(e);t(!0),n(null);try{return(await i.get(s,{},l)).data}catch(a){n(a.message||"Error in fetchOrders:")}finally{t(!1)}}),[i,l]),r=(0,v.useCallback)((async e=>{const n="".concat(V.H.ORDERS,"/order-details/").concat(e,"/");try{t(!0);return(await i.get(n,{},l)).data}catch(a){console.error(a.message||"Error in fetching orders by id")}finally{t(!1)}}),[i,l]),c=(0,v.useCallback)((async e=>{const n="".concat(V.H.ORDERS,"/material-on-hold/").concat(e,"/");try{t(!0);return(await i.get(n,{},l)).data}catch(a){console.error(a.message||"Error in getting order on hold quantity")}finally{t(!1)}}),[i,l]),d=(0,v.useCallback)((async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s="".concat(V.H.ORDERS,"/bom-submit/").concat(e,"/");try{t(!0);return(await i.post(s,n,l)).data}catch(a){console.error(a.message||"Error in submitting BOM")}finally{t(!1)}}),[i,l]);return{loading:e,error:a,fetchOrders:o,fetchOrdersById:r,getOrderHoldQuantity:c,submitBOM:d}},Sn=()=>{const[e,t]=(0,v.useState)(!1),[a,n]=(0,v.useState)(null),{token:s}=(0,y.d4)((e=>e[J.X.AUTH])),l={Authorization:"Bearer ".concat(s),"Content-Type":W.yw.APPLICATION_JSON},i=new W.Ay,o=(0,v.useCallback)((async e=>{const n="".concat(V.H.ORDERS,"/materials-required/").concat(e,"/");try{t(!0);return(await i.get(n,{},l)).data}catch(a){console.error(a.message||"Error in fetching orders by id")}finally{t(!1)}}),[i,l]),r=(0,v.useCallback)((async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s="".concat(V.H.ORDERS,"/material-on-hold/").concat(e,"/");try{t(!0);return(await i.post(s,n,l)).data}catch(a){console.error(a.message||"Error in setting order on hold quantity")}finally{t(!1)}}),[i,l]),c=(0,v.useCallback)((async(e,n)=>{const s="".concat(V.H.ORDERS,"/update-state/").concat(e,"/"),o={state:n};try{t(!0);return(await i.put(s,o,l)).data}catch(a){console.error(a.message||"Error in submitting BOM")}finally{t(!1)}}),[i,l]),d=(0,v.useCallback)((async(e,n,s,o,r,c)=>{const d="".concat(V.H.ORDERS,"/label-generator/"),u={material_code:e,grn_number:n,grn_date:s,unit:o,qty1:r,qty2:c};try{t(!0);return(await i.post(d,u,l)).data}catch(a){console.error(a.message||"Error in submitting BOM")}finally{t(!1)}}),[i,l]),u=(0,v.useCallback)((async()=>{const e="".concat(V.H.ORDERS,"/material-failure-reasons/");try{t(!0);return(await i.get(e,{},l)).data}catch(a){console.error(a.message||"Error in getting Failure Reasons")}finally{t(!1)}}),[i,l]),h=(0,v.useCallback)((async function(e,n,s){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Fake comment",r=arguments.length>4?arguments[4]:void 0;const c="".concat(V.H.ORDERS,"/material-failure-entry/").concat(e),d={material_code:n,failure_reason_id:s,comments:o,resolution_date:r};try{t(!0);return(await i.post(c,d,l)).data}catch(a){console.error(a.message||"Error in submitting Failure Reason")}finally{t(!1)}}),[i,l]),p=(0,v.useCallback)((async(e,n)=>{const s="".concat(V.H.AUTH,"/supervisor-authentication/"),o={username:e,password:n};try{t(!0);return(await i.post(s,o,l)).data}catch(a){console.error(a.message||"Error in supervisor login")}finally{t(!1)}}),[i,l]),m=(0,v.useCallback)((async(e,n,s,o,r,c)=>{const d="".concat(V.H.ORDERS,"/stock-transfer/"),u={material_code1:e,material_code2:n,quantity:s,grn_number:o,unit:r,grn_date:c};try{t(!0);return(await i.post(d,u,l)).data}catch(a){console.error(a.message||"Error in Stock Transfer")}finally{t(!1)}}),[i,l]);return{loading:e,error:a,fetchMaterialsRequired:o,setOrderHoldQuantity:r,updateOrderState:c,generateLabels:d,getFailureReasons:u,submitFailureReason:h,supervisorLogin:p,stockTransfer:m}},Cn=[{color:"var(--primary-color)",title:"Plan",value:38},{color:"var(--secondary-color)",title:"Processing",value:14},{color:"var(--tertiary-color)",title:"Running",value:2}];const bn=e=>{let{color:t,title:a,value:n}=e;return(0,B.jsxs)("span",{className:"overview-metrics-box",style:{backgroundColor:t},children:[(0,B.jsx)("p",{children:a}),(0,B.jsx)("p",{children:n})]})},Nn=function(){const e=(0,I.Zp)(),[t]=(0,pn.ok)(),[a,n]=(0,v.useState)(!0),[s,l]=(0,v.useState)({pageLoading:!0,isFulfilledOrderActionModalOpen:!1,isPartialFulfilledOrderActionModalOpen:!1,selectedOrderOrderId:null,selectedOrderId:null,selectedOrderStatus:null,userActionStatus:null,selectedOrderType:null,selectedHoldingOrderMaterialsQty:null}),[i,r]=(0,v.useState)([]),[c,d]=(0,v.useState)([]),{fetchOrders:u,fetchOrdersById:h,getOrderHoldQuantity:p,submitBOM:m,error:x,loading:A}=fn(),{updateOrderState:y}=Sn(),[w,g]=(0,v.useState)(0),[j,f]=(0,v.useState)(!1),[S,C]=(0,v.useState)({}),[b,N]=(0,v.useState)(1),[E,k]=(0,v.useState)(null),[T,_]=(0,v.useState)(5),[D,R]=(0,v.useState)(null),[P,O]=(0,v.useState)(null),[U,L]=(0,v.useState)(!1),[H,z]=(0,v.useState)({specification:{},location:{}});(0,v.useEffect)((()=>{u(b).then((e=>{d(e.results),k(e.count),J(b),e.previous?R(!0):R(!1),e.next?O(!0):O(!1)}))}),[b]);const M=t=>{switch(t.status){case Y.ht.PLAN:e("/material-planner-plan?orderId=".concat(t.id,"&orderStatus=").concat(t.status,"&orderType=").concat(t.order_type));break;case Y.ht.PROCESSING:l({isPartialFulfilledOrderActionModalOpen:!0,selectedOrderOrderId:t.order_id,selectedOrderStatus:t.status,selectedOrderId:t.id,selectedOrderType:t.order_type})}},Q=t.get("orderId"),q=t.get("status"),W=t.get("orderStatus");(0,v.useEffect)((()=>{if(Q&&q&&W){let e=s;q.toLowerCase()===Y.eN.SCANNED&&(e.isFulfilledOrderActionModalOpen=!0,e.selectedOrderOrderId=Q,e.selectedOrderStatus=W,e.userActionStatus=q),e.pageLoading=!1,l({...e})}else l({...s,pageLoading:!1})}),[Q,q]);const[V,J]=(0,v.useState)(b);return s.pageLoading?(0,B.jsx)("div",{className:"mx-3 my-2",style:{display:"grid",placeItems:"center"},children:(0,B.jsx)(F.A,{green:!0})}):(0,B.jsxs)("div",{className:"mx-3 my-2 material-planner-layout",children:[(0,B.jsxs)("div",{className:"material-planner-layout-header",children:[(0,B.jsx)("h4",{children:"Overview"}),(0,B.jsx)("div",{className:"overview-metrics-container",children:Cn.map((e=>(0,B.jsx)(bn,{color:e.color,title:e.title,value:e.value})))}),(0,B.jsxs)("div",{className:"overview-last-refresh",children:[(0,B.jsx)("h6",{children:"Last refresh"}),(0,B.jsx)("p",{style:{fontWeight:400,fontSize:".875rem"},children:"10:00, 21 Oct 2024"}),(0,B.jsx)(o.A,{children:(0,B.jsx)(mn.A,{})})]})]}),(0,B.jsxs)("div",{className:"material-planner-layout-body",children:[(0,B.jsx)(G,{edit:U,columns:[{id:1,title:"Order ID",render:e=>(0,B.jsx)("span",{onClick:()=>(async e=>{f(!0);try{const t=await h(e);C(t)}catch(xt){console.error("Error in fetchOrderDetails:",xt)}})(e.id),style:{cursor:"pointer",color:"blue"},children:e.order_id})},{id:2,title:"Name",render:e=>e.name},{id:3,title:"Qty",render:e=>e.quantity},{id:4,title:"Code",render:e=>e.fg_code},{id:5,title:"Description",render:e=>e.fg_description},{id:6,title:"Order type",render:e=>e.order_type},{id:7,title:"Status",render:e=>(0,B.jsx)(vn,{capsuleText:e.status})},{id:9,title:"Action",render:e=>e.status!==Y.ht.RUNNING?(0,B.jsx)("img",{src:An,style:{width:"2.78vw",height:"2.78vw",cursor:"pointer"},alt:"Action Icon",onClick:()=>M(e)}):""}],rows:c,rowsPerPage:T,loading:A,titleCellClasses:"c-gray fw-700",page:b-1,paginator:!0,serialize:!0,total:E}),(0,B.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"10vw",marginTop:"2vw"},children:[(0,B.jsx)(Z.A,{onClick:()=>{N(b-1),console.log("prev page")},white:!0,width:"8rem",height:"2.5rem",bordered:!0,disabled:!D,customStyle:{border:"1px solid #3E3E3E",backgroundColor:D?"#FFFFFF":"#CCCCCC",color:D?"#000000":"#999999",cursor:D?"pointer":"not-allowed"},children:"Prev"}),(0,B.jsx)("input",{type:"text",value:V,onChange:e=>{const t=e.target.value;/^\d*$/.test(t)&&J(t)},onBlur:()=>{const e=parseInt(V,10);!isNaN(e)&&e>0&&e*T<E?N(e):J(b)},style:{padding:"10px",fontSize:"16px",width:"3rem",textAlign:"center"}}),(0,B.jsx)(Z.A,{onClick:()=>{N(b+1),console.log("next page")},color:"green",width:"8rem",height:"2.5rem",disabled:!P,style:{backgroundColor:P?"green":"#CCCCCC",color:P?"#FFFFFF":"#999999",cursor:P?"pointer":"not-allowed"},children:"Next"})]})]}),(0,B.jsx)(wn,{open:j,onClose:()=>f(!1),data:S}),s.isFulfilledOrderActionModalOpen&&(0,B.jsx)(K.A,{open:s.isFulfilledOrderActionModalOpen,onClose:()=>l({isFulfilledOrderActionModalOpen:!1}),width:"50vw",top:"20vh",hideCloseIcon:yn,children:(0,B.jsx)(gn,{data:{orderId:s.selectedOrderOrderId,status:s.selectedOrderStatus},noStepFn:()=>{const t=[...i],a=i.findIndex((e=>e.order_id===s.selectedOrderOrderId));-1!==a&&s.userActionStatus===Y.eN.SCANNED&&(t[a].status=Y.ht.PROCESSING),r(t),l({...s,isFulfilledOrderActionModalOpen:!1}),e("/material-planner/")},nextStepFn:()=>{const a=t.get("orderId");p(s.selectedOrderId).then((e=>{l((t=>({...t,selectedHoldingOrderMaterialsQty:e}))),console.log("getOrderHoldQuantity data",e),console.log("selectedHoldingOrderMaterialsQty",s.selectedHoldingOrderMaterialsQty),m(s.selectedOrderId,{material_issue:e}).then((e=>console.log("submit BOM data",e)))})),y(a,Y.ht.RUNNING);const n=c.map((e=>({...e}))),i=c.findIndex((e=>e.id===a));-1!==i&&(n[i].status=Y.ht.RUNNING),d(n),l({...s,isFulfilledOrderActionModalOpen:!1}),e("/material-planner/")}})}),s.isPartialFulfilledOrderActionModalOpen&&(0,B.jsx)(K.A,{open:s.isPartialFulfilledOrderActionModalOpen,onClose:()=>l({isPartialFulfilledOrderActionModalOpen:!1}),width:"50vw",top:"20vh",hideCloseIcon:yn,children:(0,B.jsx)(jn,{data:{orderId:s.selectedOrderOrderId,status:s.selectedOrderStatus},noStepFn:()=>{l({...s,isPartialFulfilledOrderActionModalOpen:!1}),e("/material-planner/"),e("/material-planner-plan/scanning?orderId=".concat(s.selectedOrderId,"&orderStatus=").concat(s.selectedOrderStatus,"&orderType=").concat(s.selectedOrderType))},nextStepFn:()=>{const e=s.selectedOrderId;p(s.selectedOrderId).then((e=>{l((t=>({...t,selectedHoldingOrderMaterialsQty:e}))),console.log("getOrderHoldQuantity data",e),console.log("selectedHoldingOrderMaterialsQty",s.selectedHoldingOrderMaterialsQty),m(s.selectedOrderId,{material_issue:e}).then((e=>console.log("submit BOM data",e)))})),y(e,Y.ht.RUNNING);const t=c.map((e=>({...e}))),a=c.findIndex((t=>t.id===e));-1!==a&&(t[a].status=Y.ht.RUNNING),d(t),l({...s,isPartialFulfilledOrderActionModalOpen:!1})}})})]})};var En=a(1707);const kn=e=>{let{label:t,path:a,isLast:n}=e;return n?(0,B.jsx)("span",{className:"breadcrumb-item current",children:t}):(0,B.jsx)(pn.N_,{to:a,className:"breadcrumb-item",children:t})},In=()=>{const e=(0,I.zy)(),[t,a]=(0,v.useState)([]),[n]=(0,pn.ok)();return(0,v.useEffect)((()=>{if(e){const t=e.pathname.split("/"),s=[];t.forEach(((e,t)=>{switch(e){case"material-planner-plan":s.push({label:"Home",path:"/material-planner"}),s.push({label:"Order ID",path:""});break;case"plan":s.push({label:"Plan",path:"/material-planner/plan"})}})),s.push({label:n.get("orderId"),path:""}),a(s)}}),[e]),(0,B.jsx)("nav",{"aria-label":"Breadcrumb",children:(0,B.jsx)("ol",{className:"breadcrumb-container",children:t.map(((e,a)=>(0,B.jsxs)("li",{children:[(0,B.jsx)(kn,{label:e.label,path:e.path,isLast:a===t.length-1}),a<t.length-1&&(0,B.jsx)("span",{className:"breadcrumb-separator",children:(0,B.jsx)(En.A,{})})]},e.path)))})})};const Tn=function(){const e=(0,I.Zp)(),[t]=(0,pn.ok)(),[a,n]=(0,v.useState)([]),{fetchBOM:s,error:l,loading:i}=(()=>{const[e,t]=(0,v.useState)(!1),[a,n]=(0,v.useState)(null),{token:s}=(0,y.d4)((e=>e[J.X.AUTH])),l={Authorization:"Bearer ".concat(s),"Content-Type":W.yw.APPLICATION_JSON},i=new W.Ay,o=(0,v.useCallback)((async e=>{const n="".concat(V.H.ORDERS,"/order-bom/").concat(e,"/");try{return t(!0),(await i.get(n,{},l)).data}catch(a){console.error(a.message||"Error in fetching BOM by id")}finally{t(!1)}}),[i,l]);return{loading:e,error:a,fetchBOM:o}})(),[o,r]=(0,v.useState)(),[c,d]=(0,v.useState)(0),[u,h]=(0,v.useState)(0),[p,m]=(0,v.useState)(!1),[x,A]=(0,v.useState)({});return(0,v.useEffect)((()=>{t.get("orderId")&&s(t.get("orderId")).then((e=>n(e.items)))}),[]),(0,B.jsxs)("div",{className:"mx-3 my-2 mp-instruction-layout",children:[(0,B.jsxs)("div",{className:"mp-instruction-header",children:[(0,B.jsx)(In,{}),(0,B.jsx)("p",{className:"instruction-text",children:"Please follow the instruction to complete the Material Planning for this Order ID"})]}),(0,B.jsx)("div",{className:"instruction-layout-body",children:(0,B.jsx)(G,{edit:p,columns:[{id:1,title:"Material Code",render:e=>e.material_code},{id:2,title:"Material Name",render:e=>e.material_name},{id:3,title:"Qty",render:e=>e.quantity}],rows:a,rowsPerPage:5,loading:"fetch"===o,titleCellClasses:"c-gray fw-700",page:u,setPage:h,paginator:!0,serialize:!0,total:c})}),(0,B.jsxs)("div",{className:"material-planner-layout-footer",children:[(0,B.jsx)(Z.A,{onClick:()=>e("/material-planner"),white:!0,width:"8rem",height:"2.5rem",bordered:!0,customStyle:{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"},children:"Back"}),(0,B.jsx)(Z.A,{onClick:async()=>{console.log("submit");e("/material-planner-plan/scanning?orderId=".concat(t.get("orderId"),"&orderStatus=").concat(t.get("orderStatus"),"&orderType=").concat(t.get("orderType")))},color:"green",width:"8rem",height:"2.5rem",children:"Plan"})]})]})},_n=e=>{let{qty1:t=0,qty2:a=0,label1:n="",label2:s="",noStepFn:l=(()=>{}),nextStepFn:i=(()=>{})}=e;return(0,B.jsxs)("div",{className:"action_modal__container",children:[(0,B.jsx)("div",{children:(0,B.jsx)("img",{src:"/error_outline.svg",alt:"icon"})}),(0,B.jsx)("span",{children:"Please break the packet into 2 parts: "}),(0,B.jsxs)("span",{children:["First one with ",t," units, and second one with ",a," units. "]}),(0,B.jsxs)("span",{children:["Then, please paste label: ",(0,B.jsx)("strong",{children:n})," on the first packet,"]}),(0,B.jsxs)("span",{children:["and label: ",(0,B.jsx)("strong",{children:s})," on the second packet."," "]}),(0,B.jsx)("span",{children:"No need to scan packet again. First packet has already been scanned for you :)"}),(0,B.jsx)("div",{className:"material-planner-layout-footer",style:{gap:"2.5rem"},children:(0,B.jsx)(Z.A,{onClick:i,color:"green",width:"16rem",height:"2.5rem",children:"I have pasted new labels"})})]})},Dn=e=>{let{onClose:t,onScan:a,noStepFn:n,nextStepFn:s}=e;const[l,i]=(0,v.useState)(""),o=(0,v.useRef)(null);(0,v.useEffect)((()=>{o.current.focus()}),[]);return(0,B.jsxs)("div",{className:"action_modal__container",children:[(0,B.jsx)("p",{style:{fontWeight:"600",fontSize:"1.1rem"},children:"Scan Issuing Material Barcode"}),(0,B.jsx)("div",{children:(0,B.jsx)("input",{ref:o,type:"text",onKeyPress:e=>{"Enter"===e.key&&(console.log("Scanned Barcode:",e.target.value),i(e.target.value),a(e.target.value),e.target.value="")},style:{width:"100%",padding:"10px",fontSize:"16px"},placeholder:"Scan or type barcode here"})}),l&&(0,B.jsxs)("p",{children:["Scanned: ",l]}),(0,B.jsxs)("div",{className:"material-planner-layout-footer",style:{gap:"2.5rem"},children:[(0,B.jsx)(Z.A,{onClick:n,white:!0,width:"8rem",height:"2.5rem",bordered:!0,customStyle:{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"},children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:s,color:"green",width:"8rem",height:"2.5rem",children:"Submit"})]})]})},Rn=e=>{let{onClose:t,onScan:a,noStepFn:n,nextStepFn:s}=e;const[l,i]=(0,v.useState)(null),{getFailureReasons:o}=Sn(),[r,c]=(0,v.useState)(null);return(0,v.useEffect)((()=>{o().then((e=>{console.log("getFailureReasons data",e),i(e)}))}),[]),(0,B.jsx)("div",{className:"action_modal__container",children:(0,B.jsxs)("div",{className:"material-planner-layout-footer",style:{gap:"2.5rem",display:"flex",flexDirection:"column"},children:[(0,B.jsxs)("form",{style:{gap:"1rem",display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%"},children:[(0,B.jsx)("p",{style:{margin:"0",alignSelf:"center",fontWeight:"600"},children:"Partially Fulfilled Order Detected"}),(0,B.jsx)("p",{style:{margin:"0",alignSelf:"center",fontSize:"0.85rem"},children:"Please select the method to replenish and proceed as per guidelines"})," ",l&&Object.entries(l).map((e=>{let[t,a]=e;return(0,B.jsxs)("div",{children:[" ",(0,B.jsxs)("label",{children:[" ",(0,B.jsx)("input",{type:"checkbox",value:t,checked:r===t,onChange:()=>(e=>{c(e)})(t)})," ",a," "]})," "]},t)}))," "]}),(0,B.jsxs)("div",{style:{gap:"2.5rem",display:"flex",flexDirection:"row"},children:[(0,B.jsx)(Z.A,{onClick:n,white:!0,width:"8rem",height:"2.5rem",bordered:!0,customStyle:{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"},children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:()=>s(r,l[r]),color:"green",width:"8rem",height:"2.5rem",children:"Submit"})]})]})})},Pn=e=>{let{onClose:t,onScan:a,noStepFn:n,nextStepFn:s}=e;return(0,B.jsx)("div",{className:"action_modal__container",children:(0,B.jsxs)("div",{className:"material-planner-layout-footer",style:{gap:"1rem",display:"flex",flexDirection:"column"},children:[(0,B.jsx)("p",{children:"Failure Reason has been submitted successfully!"}),(0,B.jsx)("p",{children:"An email has also been sent to the supervisor regarding this."}),(0,B.jsx)(Z.A,{onClick:s,color:"green",width:"8rem",height:"2.5rem",children:"OK"})]})})},On=e=>{let{onClose:t,onScan:a,noStepFn:n,nextStepFn:s}=e;const[l,i]=(0,v.useState)({username:"",password:""}),o=e=>{const{name:t,value:a}=e.target;i({...l,[t]:a})},r=e=>{e.preventDefault(),console.log("Form Data:",l),s(l.username,l.password)};return(0,B.jsx)("div",{className:"action_modal__container",children:(0,B.jsxs)("div",{className:"material-planner-layout-footer",style:{gap:"2.5rem",display:"flex",flexDirection:"column"},children:[(0,B.jsx)("p",{children:"Supervisor Login is required to confirm partial submission."}),(0,B.jsx)("p",{children:"Please Login."}),(0,B.jsxs)("form",{onSubmit:r,style:{gap:"2.5rem",display:"flex",flexDirection:"column"},children:[" ",(0,B.jsxs)("div",{children:[" ",(0,B.jsx)("label",{htmlFor:"username",children:"Username:"})," ",(0,B.jsx)("input",{type:"text",id:"username",name:"username",value:l.username,onChange:o,required:!0})," "]})," ",(0,B.jsxs)("div",{children:[" ",(0,B.jsx)("label",{htmlFor:"password",children:"Password:"})," ",(0,B.jsx)("input",{type:"password",id:"password",name:"password",value:l.password,onChange:o,required:!0})," "]})," ",(0,B.jsxs)("div",{style:{gap:"2.5rem",display:"flex"},children:[(0,B.jsx)(Z.A,{onClick:n,white:!0,width:"8rem",height:"2.5rem",bordered:!0,customStyle:{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"},children:"Cancel"})," ",(0,B.jsx)(Z.A,{onClick:r,color:"green",width:"8rem",height:"2.5rem",children:"Submit"})]})]})]})})},Un=e=>{let{onClose:t,onScan:a,noStepFn:n,nextStepFn:s}=e;return(0,B.jsx)("div",{className:"action_modal__container",children:(0,B.jsxs)("div",{className:"material-planner-layout-footer",style:{gap:"2.5rem",display:"flex",flexDirection:"column"},children:[(0,B.jsx)("p",{children:"Thank you for supervisor logging in."}),(0,B.jsxs)("p",{children:["Please close this modal and click ",(0,B.jsx)("strong",{children:"Submit"})," button at the bottom of page to issue the materials for this order."]}),(0,B.jsx)(Z.A,{onClick:s,color:"green",width:"8rem",height:"2.5rem",children:"Close"})]})})},Ln=e=>{let{onClose:t,onScan:a,noStepFn:n,nextStepFn:s}=e;const[l,i]=(0,v.useState)(""),o=(0,v.useRef)(null);(0,v.useEffect)((()=>{o.current.focus()}),[]);return(0,B.jsxs)("div",{className:"action_modal__container",children:[(0,B.jsx)("p",{style:{fontWeight:"600",fontSize:"1.2rem"},children:"Stock Transfer"}),(0,B.jsx)("p",{style:{fontWeight:"600",fontSize:"1.1rem"},children:"Please scan the barcode of the substitute material to proceed."}),(0,B.jsx)("div",{children:(0,B.jsx)("input",{ref:o,type:"text",onKeyPress:e=>{"Enter"===e.key&&(console.log("Scanned Barcode:",e.target.value),i(e.target.value),a(e.target.value),e.target.value="")},style:{width:"100%",padding:"10px",fontSize:"16px"},placeholder:"Scan or type available barcode here"})}),l&&(0,B.jsxs)("p",{children:["Scanned: ",l]}),(0,B.jsxs)("div",{className:"material-planner-layout-footer",style:{gap:"2.5rem"},children:[(0,B.jsx)(Z.A,{onClick:n,white:!0,width:"8rem",height:"2.5rem",bordered:!0,customStyle:{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"},children:"Cancel"}),(0,B.jsx)(Z.A,{onClick:s,color:"green",width:"8rem",height:"2.5rem",children:"Submit"})]})]})},Hn=e=>{let{onClose:t,onScan:a,noStepFn:n,nextStepFn:s,newLabel:l}=e;return(0,B.jsx)("div",{className:"action_modal__container",children:(0,B.jsxs)("div",{className:"material-planner-layout-footer",style:{gap:"1rem",display:"flex",flexDirection:"column"},children:[(0,B.jsx)("p",{children:"Stock Transfer Success!"}),(0,B.jsx)("p",{children:"Please paste the following new label on the scanned packet."}),(0,B.jsx)("p",{children:(0,B.jsxs)("strong",{children:["$",l]})}),(0,B.jsx)("p",{children:"Click Issue Material button below to scan the generated label and issue the corresponding material for this order."}),(0,B.jsx)(Z.A,{onClick:s,color:"green",width:"8rem",height:"2.5rem",children:"Issue Material"})]})})};const zn=function(e){let{orderId:t}=e;const a=(0,I.Zp)(),[n]=(0,pn.ok)(),[s,l]=(0,v.useState)({submitLoading:!1,submitDisabled:!0}),[i,o]=(0,v.useState)(!1),[r,c]=(0,v.useState)([]),{fetchMaterialsRequired:d,setOrderHoldQuantity:u,updateOrderState:h,generateLabels:p,submitFailureReason:m,supervisorLogin:x,stockTransfer:A,error:w,loading:g}=Sn(),{verifyMaterial:j,error:f,loading:S}=(()=>{const[e,t]=(0,v.useState)(!1),[a,n]=(0,v.useState)(null),{token:s}=(0,y.d4)((e=>e[J.X.AUTH])),l={Authorization:"Bearer ".concat(s),"Content-Type":W.yw.APPLICATION_JSON},i=new W.Ay,o=(0,v.useCallback)((async(e,n,s)=>{const o="".concat(V.H.ORDERS,"/material-verifier/").concat(e,"/"),r={material_code:n,grn_number:s};try{return t(!0),(await i.post(o,r,l)).data}catch(a){console.error(a.message||"Error in verifying material")}finally{t(!1)}}),[i,l]);return{loading:e,error:a,verifyMaterial:o}})(),[C,b]=(0,v.useState)({}),[N,E]=(0,v.useState)(),[k,T]=(0,v.useState)(0),[_,D]=(0,v.useState)(0),[R,P]=(0,v.useState)(!1),[O,U]=(0,v.useState)(!1),[L,H]=(0,v.useState)(""),[z,F]=(0,v.useState)({material_on_hold:{}}),{getOrderHoldQuantity:M}=fn(),[Q,Y]=(0,v.useState)(!1),[q,X]=(0,v.useState)(!1),[$,ee]=(0,v.useState)(!1),[te,ae]=(0,v.useState)(!1),[ne,se]=(0,v.useState)(!1),[le,ie]=(0,v.useState)(!1),[oe,re]=(0,v.useState)(!1),[ce,de]=(0,v.useState)(null),[ue,he]=(0,v.useState)(""),pe=(0,v.useRef)(null),me=[{id:1,title:"Material",render:e=>e.material_name},{id:2,title:"Location",render:e=>e.location},{id:3,title:"Required Qty",render:e=>e.required},{id:4,title:"Collected Qty",render:e=>(0,B.jsx)("div",{children:(0,B.jsxs)("span",{children:[e.collected," ",""]})})},{id:5,title:"-",render:e=>(0,B.jsx)(xe,{rowData:e})}],xe=e=>{let{rowData:t}=e},ve=e=>{const t=e.every((e=>e.required===e.collected));return console.log("allCollected",t),t},Ae=e=>{const t=e.find((e=>e.required>e.collected));return t?t.material_code:null},ye=e=>{H(e)},we=(e,t,a)=>{F((n=>{const s=JSON.parse(JSON.stringify(z));return s.material_on_hold[e]?s.material_on_hold[e]=[...s.material_on_hold[e],{grn_number:t,quantity:a}]:s.material_on_hold[e]=[{grn_number:t,quantity:a}],console.log("newState",s),s}))},ge=()=>{const[e,t,a,s,l]=L.split("#"),i=parseFloat(t);j(n.get("orderId"),e,s).then((t=>{if("OK"===t.message){const t=n.get("orderType"),o=r.find((t=>t.material_code===e)),d=o.required-o.collected;if(console.log("currentMaterial.collected",o.collected),console.log("qtyRequired",d),"ASSEMBLY"==t)if(i>d){const t=i-d;p(e,s,l,a,d,t).then((a=>{const n=r.map((t=>t.material_code===e?{...t,collected:t.collected+d}:t));c(n),we(e,s,d),U(!1),b({qty1:d,qty2:t,label1:a.label1,label2:a.label2}),P(!0),console.log("updatedTableData",n)}))}else{const t=r.map((t=>t.material_code===e?{...t,collected:t.collected+i}:t));c((t=>t.map((t=>t.material_code===e?{...t,collected:t.collected+i}:t)))),we(e,s,i),console.log("updatedTableData",t),U(!1)}if("ACC"===t||"LPC"===t){const t=r.map((t=>t.material_code===e?{...t,collected:t.collected+i}:t));c(t),we(e,s,i),U(!1)}}else alert("Incorrect bar code. Please try again with different bar code.")})).catch((e=>{console.error("Error during verification:",e)})),H(null)};return(0,v.useEffect)((()=>{n.get("orderId")&&d(n.get("orderId")).then((e=>{if(pe.current.focus(),"PLAN"===n.get("orderStatus")){const t=e.items.map((e=>({...e,collected:0})));c(t)}if("PROCESSING"===n.get("orderStatus")){const t=e.items;M(n.get("orderId")).then((e=>{console.log("getOrderHoldQuantity data",e),F({material_on_hold:e});const a=((e,t)=>t.map((t=>{const a=t.material_code;let n=0;return e[a]&&(n=e[a].reduce(((e,t)=>e+t.quantity),0)),{...t,collected:n}})))(e,t);console.log("newTableData",a),c(a)}))}"ACC"!==n.get("orderType")&&"LPC"!==n.get("orderType")||o(!0)}))}),[]),(0,v.useEffect)((()=>{L&&ge()}),[L]),(0,B.jsxs)("div",{className:"mx-3 my-2 mp-instruction-layout",children:[(0,B.jsxs)("div",{className:"mp-instruction-header",children:[(0,B.jsx)(In,{}),(0,B.jsx)("p",{className:"instruction-text",children:"Please Scan the Barcode or enter Qty"})]}),(0,B.jsxs)("div",{className:"instruction-layout-body",children:[(0,B.jsx)(G,{columns:me,rows:r,rowsPerPage:5,loading:"fetch"===N,titleCellClasses:"c-gray fw-700",page:_,setPage:D,paginator:!0,serialize:!0,total:k}),(0,B.jsx)("input",{ref:pe,type:"text",onKeyPress:e=>{"Enter"===e.key&&(console.log("Scanned Barcode:",e.target.value),he(e.target.value),ye(e.target.value),e.target.value="")},style:{width:"100%",padding:"10px",fontSize:"16px"},placeholder:"Click here and Scan or Type barcode here"})]}),(0,B.jsxs)("div",{className:"material-planner-layout-footer",children:[(0,B.jsx)(Z.A,{onClick:()=>a("/material-planner-plan"),white:!0,width:"8rem",height:"2.5rem",bordered:!0,customStyle:{border:"1px solid #3E3E3E",backgroundColor:"#FFFFFF"},children:"Back"}),(0,B.jsx)(Z.A,{onClick:async()=>{const e=n.get("orderId"),t=n.get("orderType");try{if("ASSEMBLY"===t&&!ne){console.log("tableData",r);if(!ve(r))return void Y(!0)}u(e,z).then((t=>{console.log("setOrderHoldQuantity data",t),h(e,"PROCESSING").then((e=>{console.log("updateOrderState data",e),a("/material-planner/?status=scanned&orderId=".concat(n.get("orderId"),"&orderStatus=").concat(t.status))}))}))}catch(xt){console.error(xt.message),alert(xt.message)}},color:"green",width:"8rem",height:"2.5rem",loading:s.submitLoading,customStyle:{backgroundColor:"#86D56A"},children:"Submit"})]}),R&&(0,B.jsx)(K.A,{open:R,onClose:()=>P(!1),width:"75vw",top:"20vh",hideCloseIcon:yn,children:(0,B.jsx)(_n,{qty1:C.qty1,qty2:C.qty2,label1:C.label1,label2:C.label2,noStepFn:()=>{P(!1)},nextStepFn:()=>{P(!1)}})}),O&&(0,B.jsxs)(K.A,{open:O,onClose:()=>U(!1),width:"50vw",top:"20vh",hideCloseIcon:!1,children:[" ",(0,B.jsx)(Dn,{onScan:ye,noStepFn:()=>{U(!1)},nextStepFn:ge})," "]}),Q&&(0,B.jsxs)(K.A,{open:Q,onClose:()=>Y(!1),width:"50vw",top:"20vh",hideCloseIcon:!1,children:[" ",(0,B.jsx)(Rn,{noStepFn:()=>{Y(!1)},nextStepFn:(e,t)=>{if(e&&"34a1747e-46fe-417b-891f-e2ab52ff1352"===e)return console.log("stock transfer needed"),Y(!1),void ie(!0);if(e){console.log("failureReasonId",e),console.log("failureReasonDescription",t);const a=n.get("orderId"),s=Ae(r);console.log("materialCode",s);const l=(()=>{const e=new Date,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(n)})();console.log("todaysDate",l),m(a,s,e,t,l).then((e=>{console.log("submitFailureReason data",e),e&&(Y(!1),X(!0)),Y(!1),X(!0)}))}}})," "]}),q&&(0,B.jsxs)(K.A,{open:q,onClose:()=>X(!1),width:"50vw",top:"20vh",hideCloseIcon:!1,children:[" ",(0,B.jsx)(Pn,{nextStepFn:()=>{console.log("handleFailureReasonSubmittedModalSubmit"),X(!1),ee(!0)}})," "]}),$&&(0,B.jsxs)(K.A,{open:$,onClose:()=>ee(!1),width:"50vw",top:"20vh",hideCloseIcon:!1,children:[" ",(0,B.jsx)(On,{noStepFn:()=>{ee(!1)},nextStepFn:(e,t)=>{console.log("username, password",e,t),x(e,t).then((e=>{console.log("supervisorLogin data",e),e&&"Authentication successful"===e.message&&(ee(!1),ae(!0),se(!0))})),ce&&ge()}})," "]}),te&&(0,B.jsxs)(K.A,{open:te,onClose:()=>ae(!1),width:"50vw",top:"20vh",hideCloseIcon:!1,children:[" ",(0,B.jsx)(Un,{nextStepFn:()=>{console.log("handleSupervisorLoginSuccessModalSubmit"),ae(!1)}})," "]}),le&&(0,B.jsxs)(K.A,{open:le,onClose:()=>ie(!1),width:"50vw",top:"20vh",hideCloseIcon:!1,children:[" ",(0,B.jsx)(Ln,{onScan:ye,noStepFn:()=>{console.log("handleStockTransferScannerModalDenial"),ie(!1)},nextStepFn:()=>{console.log("handleStockTransferScannerModalSubmit");const[e,t,a,n,s]=L.split("#"),l=parseFloat(t);console.log("materialCode2, quantity2, unit2, grnNumber2, grnDate2",e,l,a,n,s);const i=Ae(r);console.log("materialCode1",i),A(i,e,l,a,n,s).then((e=>{console.log("stockTransfer data",e),e&&(ye(e.label),console.log("data.label",e.label),ie(!1),re(!0))}))}})," "]}),oe&&(0,B.jsxs)(K.A,{open:oe,onClose:()=>re(!1),width:"50vw",top:"20vh",hideCloseIcon:!1,children:[" ",(0,B.jsx)(Hn,{nextStepFn:()=>{console.log("handleNewStockTransferLabelDisplayModalSubmit"),re(!1),de(!0),ee(!0)},newLabel:L})," "]})]})},Fn=()=>{var e,t;const a=(0,y.wA)(),[n,s]=(0,v.useState)(!1),l=(0,y.d4)((e=>e[J.X.AUTH])),i=null===l||void 0===l||null===(e=l.user)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.role,o=[{path:"/report",element:(0,B.jsx)(hn,{})},{path:"/TestDetail",element:(0,B.jsx)(Ua,{})},{path:"/plan-training",element:(0,B.jsx)(dn,{})},{path:"/test-portal",element:(0,B.jsx)(on,{})},{path:"/skill-matrix",element:(0,B.jsx)(ln,{})},{path:"/live-view",element:(0,B.jsx)($t,{})},{path:"/test",element:(0,B.jsx)(Ga,{})},{path:"/test-upload",element:(0,B.jsx)(Xa,{})},{path:"/skill-page",element:(0,B.jsx)(en,{})},{path:"/question-bank",element:(0,B.jsx)(an,{})},{path:"/machine-view",element:(0,B.jsx)(Ta,{})},{path:"/operator-portal",element:(0,B.jsx)(Ra,{})},{path:"/timelinebar",element:(0,B.jsx)(ea,{})},{path:"/Dashboardd",element:(0,B.jsx)(pt,{})},{path:"/error",element:(0,B.jsx)(xt,{})},{path:"/users",element:i===Y.z7.ADMINISTRATOR?(0,B.jsx)(De,{}):(0,B.jsx)(xt,{})},{path:"/tenants",element:i===Y.z7.SUPERADMIN?(0,B.jsx)(ae,{}):(0,B.jsx)(xt,{})},{path:"/store-master",element:i===Y.z7.ADMINISTRATOR?(0,B.jsx)(We,{}):(0,B.jsx)(xt,{})},{path:"/downtime-master",element:i===Y.z7.ADMINISTRATOR?(0,B.jsx)(aa,{}):(0,B.jsx)(xt,{})},{path:"/model-master",element:i===Y.z7.ADMINISTRATOR?(0,B.jsx)(sa,{}):(0,B.jsx)(xt,{})},{path:"/parts-rejection",element:i===Y.z7.ADMINISTRATOR?(0,B.jsx)(ia,{}):(0,B.jsx)(xt,{})},{path:"/shift-master",element:i===Y.z7.ADMINISTRATOR?(0,B.jsx)(ca,{}):(0,B.jsx)(xt,{})},{path:"/notification",element:i===Y.z7.ADMINISTRATOR?(0,B.jsx)(da,{}):(0,B.jsx)(xt,{})},{path:"/consumable",element:i===Y.z7.ADMINISTRATOR?(0,B.jsx)(ha,{}):(0,B.jsx)(xt,{})},{path:"/profile",element:i===Y.z7.ADMINISTRATOR?(0,B.jsx)(xa,{}):(0,B.jsx)(xt,{})},{path:"/store-inbound",element:(0,B.jsx)(at,{})},{path:"/store-outbound",element:(0,B.jsx)(st,{})},{path:"/store-outbound-history",element:(0,B.jsx)(lt,{})},{path:"/settings",element:(0,B.jsx)("h1",{children:"Settings"})},{path:"/logout",element:(0,B.jsx)("h1",{children:"Log"})},{path:"/order",element:(0,B.jsx)(it,{})},{path:"/machinepage",element:(0,B.jsx)(bt,{})},{path:"/companypage",element:i===Y.z7.ADMINISTRATOR?(0,B.jsx)(kt,{}):(0,B.jsx)(xt,{})},{path:"/plantpage",element:i===Y.z7.ADMINISTRATOR?(0,B.jsx)(Dt,{}):(0,B.jsx)(xt,{})},{path:"/divisionpage",element:i===Y.z7.ADMINISTRATOR?(0,B.jsx)(Ot,{}):(0,B.jsx)(xt,{})},{path:"/line",element:i===Y.z7.ADMINISTRATOR?(0,B.jsx)(Ht,{}):(0,B.jsx)(xt,{})},{path:"/asset",element:i===Y.z7.ADMINISTRATOR?(0,B.jsx)(Mt,{}):(0,B.jsx)(xt,{})},{path:"/group",element:i===Y.z7.ADMINISTRATOR?(0,B.jsx)(Jt,{}):(0,B.jsx)(xt,{})},{path:"/tenant-Users",element:i===Y.z7.SUPERADMIN?(0,B.jsx)(Kt,{}):(0,B.jsx)(xt,{})},{path:"/running-order",element:(0,B.jsx)(ja,{})},{path:"/plan",element:(0,B.jsx)(ba,{})},{path:"/plan-overview",element:(0,B.jsx)(Ia,{})},{path:"/material-planner",element:(0,B.jsx)(Nn,{})},{path:"/material-planner-plan",element:(0,B.jsx)(Tn,{})},{path:"/material-planner-plan/scanning",element:(0,B.jsx)(zn,{})}];return(0,v.useEffect)((()=>{(0,q.A)(a,l),s(!0)}),[]),n?(0,B.jsx)(I.BV,{children:o.map((e=>{let{path:t,element:a}=e;return(0,B.jsx)(I.qh,{element:a,path:t},t)}))}):null};var Mn=a(8089),Qn=a(3529),Yn=a(5453),Bn=a(5722),Gn=a(4444),qn=a(8323),Wn=a(2177),Vn=a(3235),Jn=a(122);const Xn=a.p+"static/media/dark-logo.677aa26ee5654972221a.png",Zn=a.p+"static/media/dhoot.62da4ddc06b8ec08d5f2.png",Kn=parseInt(localStorage.getItem("draweWidth")),$n=(0,k.A)(n.Ay,{shouldForwardProp:e=>"open"!==e})((e=>{let{open:t}=e;return{width:Kn,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",...t&&{width:Kn,overflowX:"hidden","& .MuiDrawer-paper":{width:Kn,overflowX:"hidden"}},...!t&&{overflowX:"hidden",width:"50px","& .MuiDrawer-paper":{overflowX:"hidden",width:"50px"}}}})),es={title:"Users",icon:w.A,path:"/users"},ts={title:"Tenants",icon:C.A,path:"/tenants"},as=(b.A,E.A,g.A,Qn.A,Yn.A,Bn.A,Gn.A,qn.A,Wn.A,Wn.A,j.A,g.A,g.A,g.A,[{title:"Overview",icon:N.A,path:"/material-planner"},{title:"Plan",icon:N.A,path:"/material-planner-plan"}]),ns=()=>{const[e,t]=(0,v.useState)([]),a=((0,y.d4)((e=>e[J.X.AUTH])),(0,y.d4)((e=>{var t;return null===(t=e[J.X.AUTH].user)||void 0===t?void 0:t.data}))),{logout:n,profile2:w}=(0,Mn.A)(),[g,j]=(0,v.useState)(!0),C=(0,I.Zp)(),{pathname:b}=(0,I.zy)(),[N,E]=(0,v.useState)(null),k=Boolean(N);(0,v.useEffect)((()=>{localStorage.setItem("draweWidth",200);const e=[];console.log("redux user",a),(null===a||void 0===a?void 0:a.role)===Y.z7.SUPERADMIN||localStorage.getItem("role")===Y.z7.SUPERADMIN?(e.push(ts,...as),t(e)):(null===a||void 0===a?void 0:a.role)===Y.z7.ADMINISTRATOR||localStorage.getItem("role")===Y.z7.ADMINISTRATOR?(e.push(es,...as),t(e)):t(as),localStorage.getItem("t_token")||(console.log("islogin",a),C("/login",{replace:!0}))}),[]);const T=()=>{E(null)};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(s.A,{variant:"outlined",sx:{zIndex:e=>e.zIndex.drawer+1,width:"100%",position:"fixed",backgroundColor:Y.lm.WHITE},children:(0,B.jsxs)(l.A,{sx:{flexDirection:"row",px:1,py:.5,justifyContent:"space-between"},children:[(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:2,alignItems:"center"},children:[(0,B.jsx)("img",{src:Xn,width:"80px",height:"43px",style:{objectFit:"contain"}}),(0,B.jsx)("img",{src:Zn,width:"100px",height:"33px",style:{objectFit:"contain"}})]}),(0,B.jsxs)(l.A,{sx:{flexDirection:"row",gap:2,justifyContent:"flex-end",alignItems:"center"},children:[(0,B.jsxs)(i.A,{className:"fw-14",sx:{width:"100%",pr:2,mt:1,color:Y.lm.TEXT_GRAY},children:["Welcome ",null===a||void 0===a?void 0:a.name]}),(0,B.jsx)(l.A,{children:(0,B.jsx)(o.A,{children:(0,B.jsx)(Jn.A,{fontSize:"large"})})}),(0,B.jsx)(r.A,{sx:{maxWidth:"calc(100vw - ".concat(g?180:50,"px)")},disableGutters:!0,className:"h-50 minh-50",children:(0,B.jsxs)(l.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,B.jsx)(o.A,{id:"basic-button","aria-controls":k?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":k?"true":void 0,onClick:e=>{console.log("popup",e.currentTarget),E(e.currentTarget)},children:(0,B.jsx)(Vn.A,{fontSize:"large"})}),(0,B.jsxs)(c.A,{id:"basic-menu",anchorEl:N,open:k,onClose:T,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,B.jsxs)(d.A,{sx:{py:0},onClick:()=>{T()},children:[(0,B.jsx)(u.A,{children:(0,B.jsx)(Wn.A,{fontSize:"small"})}),(0,B.jsx)(h.A,{children:null===a||void 0===a?void 0:a.name})]}),(0,B.jsx)(A.A,{}),(0,B.jsxs)(d.A,{sx:{py:0},onClick:()=>{T()},children:[(0,B.jsx)(u.A,{children:(0,B.jsx)(S.A,{fontSize:"small"})}),(0,B.jsx)(h.A,{children:null===a||void 0===a?void 0:a.email})]}),(0,B.jsx)(A.A,{}),(0,B.jsxs)(d.A,{sx:{py:0},onClick:()=>{T()},children:[(0,B.jsx)(u.A,{children:(0,B.jsx)(Wn.A,{fontSize:"small"})}),(0,B.jsx)(h.A,{children:null===a||void 0===a?void 0:a.role})]}),(0,B.jsx)(A.A,{}),(0,B.jsxs)(d.A,{sx:{py:0},onClick:()=>{T(),n()},children:[(0,B.jsx)(u.A,{children:(0,B.jsx)(f.A,{fontSize:"small"})}),(0,B.jsx)(h.A,{children:"Logout"})]})]})]})})]})]})}),(0,B.jsx)($n,{open:g,variant:"permanent",onClose:()=>j((e=>!e)),sx:{},children:(0,B.jsx)(p.A,{sx:{width:Kn,backgroundColor:Y.lm.BG_GRAY,mt:7},role:"presentation",children:(0,B.jsx)(m.A,{dense:!0,children:e.map((e=>{let{title:t,path:a,icon:n}=e;return(0,B.jsx)(x.Ay,{sx:{ml:1},button:!0,onClick:()=>C(a),children:(0,B.jsx)(h.A,{sx:{"& .MuiListItemText-primary":{fontSize:"16px",fontWeight:"".concat(b===a?"700":"500")}},primary:t,className:"".concat("fw-700")})},a)}))})})}),(0,B.jsx)(p.A,{sx:{mt:8,position:"relative",left:g?Kn:"50px",overflow:"hidden"},children:(0,B.jsx)(p.A,{sx:{maxWidth:"calc(100vw - ".concat(g?Kn:50,"px)")},children:(0,B.jsx)(Fn,{})})})]})}}}]);
//# sourceMappingURL=588.e958bc42.chunk.js.map